var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(J,G,d){J!=Array.prototype&&J!=Object.prototype&&(J[G]=d.value)};$jscomp.getGlobal=function(J){return"undefined"!=typeof window&&window===J?J:"undefined"!=typeof global&&null!=global?global:J};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(J,G,d,c){if(G){d=$jscomp.global;J=J.split(".");for(c=0;c<J.length-1;c++){var v=J[c];v in d||(d[v]={});d=d[v]}J=J[J.length-1];c=d[J];G=G(c);G!=c&&null!=G&&$jscomp.defineProperty(d,J,{configurable:!0,writable:!0,value:G})}};$jscomp.polyfill("Array.prototype.flat",function(J){return J?J:function(G){G=void 0===G?1:G;for(var d=[],c=0;c<this.length;c++){var v=this[c];Array.isArray(v)&&0<G?(v=Array.prototype.flat.call(v,G-1),d.push.apply(d,v)):d.push(v)}return d}},"es9","es5");
$jscomp.arrayIteratorImpl=function(J){var G=0;return function(){return G<J.length?{done:!1,value:J[G++]}:{done:!0}}};$jscomp.arrayIterator=function(J){return{next:$jscomp.arrayIteratorImpl(J)}};$jscomp.makeIterator=function(J){var G="undefined"!=typeof Symbol&&Symbol.iterator&&J[Symbol.iterator];return G?G.call(J):$jscomp.arrayIterator(J)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(J){function G(){this.batch_=null}function d(c){return c instanceof v?c:new v(function(b,a){b(c)})}if(J&&!$jscomp.FORCE_POLYFILL_PROMISE)return J;G.prototype.asyncExecute=function(c){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(c)};var c=$jscomp.global.setTimeout;G.prototype.asyncExecuteFunction=function(r){c(r,0)};G.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=
this.batch_;this.batch_=[];for(var b=0;b<c.length;++b){var a=c[b];c[b]=null;try{a()}catch(n){this.asyncThrow_(n)}}}this.batch_=null};G.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var v=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{c(b.resolve,b.reject)}catch(a){b.reject(a)}};v.prototype.createResolveAndReject_=function(){function c(c){return function(f){a||(a=!0,c.call(b,f))}}var b=this,a=!1;
return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};v.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof v)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var b=null!=c;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};v.prototype.resolveToNonPromiseObj_=function(c){var b=void 0;try{b=c.then}catch(a){this.reject_(a);return}"function"==typeof b?
this.settleSameAsThenable_(b,c):this.fulfill_(c)};v.prototype.reject_=function(c){this.settle_(2,c)};v.prototype.fulfill_=function(c){this.settle_(1,c)};v.prototype.settle_=function(c,b){if(0!=this.state_)throw Error("Cannot settle("+c+", "+b+"): Promise already settled in state"+this.state_);this.state_=c;this.result_=b;this.executeOnSettledCallbacks_()};v.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=0;c<this.onSettledCallbacks_.length;++c)B.asyncExecute(this.onSettledCallbacks_[c]);
this.onSettledCallbacks_=null}};var B=new G;v.prototype.settleSameAsPromise_=function(c){var b=this.createResolveAndReject_();c.callWhenSettled_(b.resolve,b.reject)};v.prototype.settleSameAsThenable_=function(c,b){var a=this.createResolveAndReject_();try{c.call(b,a.resolve,a.reject)}catch(n){a.reject(n)}};v.prototype.then=function(c,b){function a(e,g){return"function"==typeof e?function(g){try{n(e(g))}catch(h){f(h)}}:g}var n,f,e=new v(function(e,g){n=e;f=g});this.callWhenSettled_(a(c,n),a(b,f));return e};
v.prototype.catch=function(c){return this.then(void 0,c)};v.prototype.callWhenSettled_=function(c,b){function a(){switch(n.state_){case 1:c(n.result_);break;case 2:b(n.result_);break;default:throw Error("Unexpected state: "+n.state_);}}var n=this;null==this.onSettledCallbacks_?B.asyncExecute(a):this.onSettledCallbacks_.push(a)};v.resolve=d;v.reject=function(c){return new v(function(b,a){a(c)})};v.race=function(c){return new v(function(b,a){for(var n=$jscomp.makeIterator(c),f=n.next();!f.done;f=n.next())d(f.value).callWhenSettled_(b,
a)})};v.all=function(c){var b=$jscomp.makeIterator(c),a=b.next();return a.done?d([]):new v(function(c,f){function e(e){return function(f){q[e]=f;g--;0==g&&c(q)}}var q=[],g=0;do q.push(void 0),g++,d(a.value).callWhenSettled_(e(q.length-1),f),a=b.next();while(!a.done)})};return v},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"25bV":function(J,G,d){d.d(G,"a",function(){return v});var c=d("oYeq"),v=function(d){function r(b){var c=d.call(this)||this;c._buffer=b;return c}Object(c.d)(r,d);Object.defineProperty(r.prototype,"underlyingResource",{get:function(){return this._buffer},enumerable:!1,configurable:!0});return r}(d("hSZw").a)},"2Qj2":function(J,G,d){d.d(G,"a",function(){return b});var c=d("/SR9"),v=d("wAMR"),B=d("O2A8"),r=d("Gldd");v.a.CreateTube=function(c,
n,f,e,q,g,H,h,D,l){return b.CreateTube(c,{path:n,radius:f,tessellation:e,radiusFunction:q,arc:1,cap:g,updatable:h,sideOrientation:D,instance:l},H)};var b=function(){function b(){}b.CreateTube=function(b,f,e){void 0===e&&(e=null);var a=f.path,g=f.instance,H=1;void 0!==f.radius?H=f.radius:g&&(H=g._creationDataStorage.radius);var h=f.tessellation||64,n=f.radiusFunction||null,l=f.cap||v.a.NO_CAP,w=f.invertUV||!1,t=f.updatable,E=v.a._GetDefaultSideOrientation(f.sideOrientation);f.arc=f.arc&&(0>=f.arc||
1<f.arc)?1:f.arc||1;var C=function(e,m,g,f,b,a,h,q){var p=m.getTangents(),H=m.getNormals();m=m.getDistances();q*=2*Math.PI/b;var n=a||function(){return f},l=c.c.Matrix[0];a=h===v.a.NO_CAP||h===v.a.CAP_END?0:2;for(var k=0;k<e.length;k++){var A=n(k,m[k]);var u=[];var t=H[k];for(var w=0;w<b;w++){c.a.RotationAxisToRef(p[k],q*w,l);var D=u[w]?u[w]:c.e.Zero();c.e.TransformCoordinatesToRef(t,l,D);D.scaleInPlace(A).addInPlace(e[k]);u[w]=D}g[a]=u;a++}p=function(m,g){for(var f=[],b=0;b<m;b++)f.push(e[g]);return f};
switch(h){case v.a.CAP_START:g[0]=p(b,0);g[1]=g[2].slice(0);break;case v.a.CAP_END:g[a]=g[a-1].slice(0);g[a+1]=p(b,e.length-1);break;case v.a.CAP_ALL:g[0]=p(b,0),g[1]=g[2].slice(0),g[a]=g[a-1].slice(0),g[a+1]=p(b,e.length-1)}return g};if(g){h=g._creationDataStorage;f=f.arc||h.arc;var x=h.path3D.update(a);a=C(a,x,h.pathArray,H,h.tessellation,n,h.cap,f);g=B.a.CreateRibbon("",{pathArray:a,instance:g});h.path3D=x;h.pathArray=a;h.arc=f;h.radius=H;return g}x=new r.d(a);l=0>l||3<l?0:l;a=C(a,x,[],H,h,n,l,
f.arc);g=B.a.CreateRibbon(b,{pathArray:a,closePath:!0,closeArray:!1,updatable:t,sideOrientation:E,invertUV:w,frontUVs:f.frontUVs,backUVs:f.backUVs},e);g._creationDataStorage.pathArray=a;g._creationDataStorage.path3D=x;g._creationDataStorage.tessellation=h;g._creationDataStorage.cap=l;g._creationDataStorage.arc=f.arc;g._creationDataStorage.radius=H;return g};return b}()},"5xLc":function(J,G,d){d.d(G,"a",function(){return n});var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh"),b=d("tVVT"),a=d("SYzJ");
r.a.CreateCylinder=function(f){var e=f.height||2,b=0===f.diameterTop?0:f.diameterTop||f.diameter||1,g=0===f.diameterBottom?0:f.diameterBottom||f.diameter||1;b=b||1E-5;g=g||1E-5;var H=f.tessellation||24,h=f.subdivisions||1,n=f.hasRings?!0:!1,l=f.enclose?!0:!1,w=0===f.cap?0:f.cap||B.a.CAP_ALL,t=f.arc&&(0>=f.arc||1<f.arc)?1:f.arc||1,E=0===f.sideOrientation?0:f.sideOrientation||r.a.DEFAULTSIDE,C=f.faceUV||Array(3),x=f.faceColors,k=2+(1+(1!==t&&l?2:0))*(n?h:1),m;for(m=0;m<k;m++)x&&void 0===x[m]&&(x[m]=
new v.b(1,1,1,1));for(m=0;m<k;m++)C&&void 0===C[m]&&(C[m]=new c.f(0,0,1,1));var A=[],p=[],u=[],d=[],M=[],F=2*Math.PI*t/H,y,z=(g-b)/2/e,O=c.e.Zero(),L=c.e.Zero(),I=c.e.Zero(),T=c.e.Zero(),G=c.e.Zero(),J=a.a.Y,P,Q,X=1,N=1,W=0;for(m=y=0;m<=h;m++){var R=m/h;var S=(R*(b-g)+g)/2;X=n&&0!==m&&m!==h?2:1;for(Q=0;Q<X;Q++){n&&(N+=Q);l&&(N+=2*Q);for(P=0;P<=H;P++)y=P*F,O.x=Math.cos(-y)*S,O.y=-e/2+R*e,O.z=Math.sin(-y)*S,0===b&&m===h?(L.x=u[u.length-3*(H+1)],L.y=u[u.length-3*(H+1)+1],L.z=u[u.length-3*(H+1)+2]):(L.x=
O.x,L.z=O.z,L.y=Math.sqrt(L.x*L.x+L.z*L.z)*z,L.normalize()),0===P&&(I.copyFrom(O),T.copyFrom(L)),p.push(O.x,O.y,O.z),u.push(L.x,L.y,L.z),y=n?W!==N?C[N].y:C[N].w:C[N].y+(C[N].w-C[N].y)*R,d.push(C[N].x+(C[N].z-C[N].x)*P/H,y),x&&M.push(x[N].r,x[N].g,x[N].b,x[N].a);1!==t&&l&&(p.push(O.x,O.y,O.z),p.push(0,O.y,0),p.push(0,O.y,0),p.push(I.x,I.y,I.z),c.e.CrossToRef(J,L,G),G.normalize(),u.push(G.x,G.y,G.z,G.x,G.y,G.z),c.e.CrossToRef(T,J,G),G.normalize(),u.push(G.x,G.y,G.z,G.x,G.y,G.z),y=n?W!==N?C[N+1].y:C[N+
1].w:C[N+1].y+(C[N+1].w-C[N+1].y)*R,d.push(C[N+1].x,y),d.push(C[N+1].z,y),y=n?W!==N?C[N+2].y:C[N+2].w:C[N+2].y+(C[N+2].w-C[N+2].y)*R,d.push(C[N+2].x,y),d.push(C[N+2].z,y),x&&(M.push(x[N+1].r,x[N+1].g,x[N+1].b,x[N+1].a),M.push(x[N+1].r,x[N+1].g,x[N+1].b,x[N+1].a),M.push(x[N+2].r,x[N+2].g,x[N+2].b,x[N+2].a),M.push(x[N+2].r,x[N+2].g,x[N+2].b,x[N+2].a)));W!==N&&(W=N)}}F=1!==t&&l?H+4:H;for(N=m=0;N<h;N++){for(P=O=z=S=R=0;P<H;P++)R=m*(F+1)+P,S=(m+1)*(F+1)+P,z=m*(F+1)+(P+1),O=(m+1)*(F+1)+(P+1),A.push(R,S,
z),A.push(O,z,S);1!==t&&l&&(A.push(R+2,S+2,z+2),A.push(O+2,z+2,S+2),A.push(R+4,S+4,z+4),A.push(O+4,z+4,S+4));m=n?m+2:m+1}h=function(m){var f=m?b/2:g/2;if(0!==f){var a=m?C[k-1]:C[0],h=null;x&&(h=m?x[k-1]:x[0]);var q=p.length/3,n=m?e/2:-e/2;var l=new c.e(0,n,0);p.push(l.x,l.y,l.z);u.push(0,m?1:-1,0);d.push(a.x+.5*(a.z-a.x),a.y+.5*(a.w-a.y));h&&M.push(h.r,h.g,h.b,h.a);var w=new c.d(.5,.5);for(l=0;l<=H;l++){var D=2*Math.PI*l*t/H;var y=Math.cos(-D),z=Math.sin(-D);D=new c.e(y*f,n,z*f);y=new c.d(y*w.x+.5,
z*w.y+.5);p.push(D.x,D.y,D.z);u.push(0,m?1:-1,0);d.push(a.x+(a.z-a.x)*y.x,a.y+(a.w-a.y)*y.y);h&&M.push(h.r,h.g,h.b,h.a)}for(l=0;l<H;l++)m?(A.push(q),A.push(q+(l+2)),A.push(q+(l+1))):(A.push(q),A.push(q+(l+1)),A.push(q+(l+2)))}};w!==B.a.CAP_START&&w!==B.a.CAP_ALL||h(!1);w!==B.a.CAP_END&&w!==B.a.CAP_ALL||h(!0);r.a._ComputeSides(E,p,A,u,d,f.frontUVs,f.backUVs);f=new r.a;f.indices=A;f.positions=p;f.normals=u;f.uvs=d;x&&(f.colors=M);return f};B.a.CreateCylinder=function(f,e,a,g,c,h,D,l,w){void 0!==D&&
D instanceof b.a||(void 0!==D&&(w=l||B.a.DEFAULTSIDE,l=D),D=h,h=1);return n.CreateCylinder(f,{height:e,diameterTop:a,diameterBottom:g,tessellation:c,subdivisions:h,sideOrientation:w,updatable:l},D)};var n=function(){function f(){}f.CreateCylinder=function(e,f,g){e=new B.a(e,g);f.sideOrientation=B.a._GetDefaultSideOrientation(f.sideOrientation);e._originalBuilderSideOrientation=f.sideOrientation;r.a.CreateCylinder(f).applyToMesh(e,f.updatable);return e};return f}()},"66Nj":function(J,G,d){d.d(G,"a",
function(){return a});var c=d("/SR9"),v=d("wAMR"),B=d("y4Ty"),r=d("UtUh"),b=d("S5R4");v.a.CreateDecal=function(b,f,e,c,g,H){return a.CreateDecal(b,f,{position:e,normal:c,size:g,angle:H})};var a=function(){function a(){}a.CreateDecal=function(f,e,a){var g=e.getIndices(),n=e.getVerticesData(B.b.PositionKind),h=e.getVerticesData(B.b.NormalKind),q=a.position||c.e.Zero(),l=a.normal||c.e.Up(),w=a.size||c.e.One();a=a.angle||0;if(!l){l=new c.e(0,0,1);var t=e.getScene().activeCamera;l=c.e.TransformCoordinates(l,
t.getWorldMatrix());l=t.globalPosition.subtract(l)}t=-Math.atan2(l.z,l.x)-Math.PI/2;l=Math.atan2(l.y,Math.sqrt(l.x*l.x+l.z*l.z));var d=c.a.RotationYawPitchRoll(t,l,a).multiply(c.a.Translation(q.x,q.y,q.z));d=c.a.Invert(d);var C=e.getWorldMatrix().multiply(d);d=new r.a;d.indices=[];d.positions=[];d.normals=[];d.uvs=[];for(var x=0,k=function(m){var e=new b.a;if(!g||!n||!h)return e;m=g[m];e.position=new c.e(n[3*m],n[3*m+1],n[3*m+2]);e.position=c.e.TransformCoordinates(e.position,C);e.normal=new c.e(h[3*
m],h[3*m+1],h[3*m+2]);e.normal=c.e.TransformNormal(e.normal,C);return e},m=function(m,e){if(0===m.length)return m;for(var g=.5*Math.abs(c.e.Dot(w,e)),f=function(m,f){var a=c.e.GetClipFactor(m.position,f.position,e,g);return new b.a(c.e.Lerp(m.position,f.position,a),c.e.Lerp(m.normal,f.normal,a))},a=[],p=0;p<m.length;p+=3){var h=0,l=null,n=null,q=null,k=null;var H=c.e.Dot(m[p].position,e)-g;var A=c.e.Dot(m[p+1].position,e)-g;var u=c.e.Dot(m[p+2].position,e)-g;H=0<H;A=0<A;u=0<u;h=(H?1:0)+(A?1:0)+(u?
1:0);switch(h){case 0:a.push(m[p]);a.push(m[p+1]);a.push(m[p+2]);break;case 1:H&&(l=m[p+1],n=m[p+2],q=f(m[p],l),k=f(m[p],n));if(A){l=m[p];n=m[p+2];q=f(m[p+1],l);k=f(m[p+1],n);a.push(q);a.push(n.clone());a.push(l.clone());a.push(n.clone());a.push(q.clone());a.push(k);break}u&&(l=m[p],n=m[p+1],q=f(m[p+2],l),k=f(m[p+2],n));l&&n&&q&&k&&(a.push(l.clone()),a.push(n.clone()),a.push(q),a.push(k),a.push(q.clone()),a.push(n.clone()));break;case 2:H||(l=m[p].clone(),n=f(l,m[p+1]),q=f(l,m[p+2]),a.push(l),a.push(n),
a.push(q)),A||(l=m[p+1].clone(),n=f(l,m[p+2]),q=f(l,m[p]),a.push(l),a.push(n),a.push(q)),u||(l=m[p+2].clone(),n=f(l,m[p]),q=f(l,m[p+1]),a.push(l),a.push(n),a.push(q))}}return a},A=0;A<g.length;A+=3){var p=[];p.push(k(A));p.push(k(A+1));p.push(k(A+2));p=m(p,new c.e(1,0,0));p=m(p,new c.e(-1,0,0));p=m(p,new c.e(0,1,0));p=m(p,new c.e(0,-1,0));p=m(p,new c.e(0,0,1));p=m(p,new c.e(0,0,-1));if(0!==p.length)for(var u=0;u<p.length;u++){var K=p[u];d.indices.push(x);K.position.toArray(d.positions,3*x);K.normal.toArray(d.normals,
3*x);d.uvs.push(.5+K.position.x/w.x);d.uvs.push(.5+K.position.y/w.y);x++}}f=new v.a(f,e.getScene());d.applyToMesh(f);f.position=q.clone();f.rotation=new c.e(l,t,a);return f};return a}()},H22S:function(J,G,d){d.d(G,"a",function(){return r});var c=d("/SR9"),v=d("wAMR"),B=d("UtUh");B.a.CreateSphere=function(b){var a=b.segments||32,n=b.arc&&(0>=b.arc||1<b.arc)?1:b.arc||1,f=b.slice&&0>=b.slice?1:b.slice||1,e=0===b.sideOrientation?0:b.sideOrientation||B.a.DEFAULTSIDE,q=!!b.dedupTopBottomIndices,g=new c.e((b.diameterX||
b.diameter||1)/2,(b.diameterY||b.diameter||1)/2,(b.diameterZ||b.diameter||1)/2),H=2+a,h=2*H;a=[];for(var D=[],l=[],w=[],t=0;t<=H;t++){for(var d=t/H,r=d*Math.PI*f,x=0;x<=h;x++){var k=x/h,m=k*Math.PI*2*n,A=c.a.RotationZ(-r);m=c.a.RotationY(m);A=c.e.TransformCoordinates(c.e.Up(),A);m=c.e.TransformCoordinates(A,m);A=m.multiply(g);m=m.divide(g).normalize();D.push(A.x,A.y,A.z);l.push(m.x,m.y,m.z);w.push(k,d)}if(0<t)for(d=D.length/3,r=d-2*(h+1);r+h+2<d;r++)if(q){if(1<t&&(a.push(r),a.push(r+1),a.push(r+h+
1)),t<H||1>f)a.push(r+h+1),a.push(r+1),a.push(r+h+2)}else a.push(r),a.push(r+1),a.push(r+h+1),a.push(r+h+1),a.push(r+1),a.push(r+h+2)}B.a._ComputeSides(e,D,a,l,w,b.frontUVs,b.backUVs);b=new B.a;b.indices=a;b.positions=D;b.normals=l;b.uvs=w;return b};v.a.CreateSphere=function(b,a,c,f,e,q){return r.CreateSphere(b,{segments:a,diameterX:c,diameterY:c,diameterZ:c,sideOrientation:q,updatable:e},f)};var r=function(){function b(){}b.CreateSphere=function(a,b,f){void 0===f&&(f=null);a=new v.a(a,f);b.sideOrientation=
v.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;B.a.CreateSphere(b).applyToMesh(a,b.updatable);return a};return b}()},HZbn:function(J,G,d){d.d(G,"a",function(){return b});var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh");r.a.CreateBox=function(a){var b=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],f=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,
0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],e=[],q=[];q=a.width||a.size||1;var g=a.height||a.size||1,H=a.depth||a.size||1,h=[2,0,3,1][((void 0===a.topBaseAt?1:a.topBaseAt)+4)%4],D=[2,0,1,3][((void 0===a.bottomBaseAt?0:a.bottomBaseAt)+4)%4],l=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(a.wrap){b=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,
15,12,13,14];l=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];for(var w=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],t=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]],d=[17,18,19,16],C=[22,23,20,21];0<h;)w.unshift(w.pop()),d.unshift(d.pop()),h--;for(;0<D;)t.unshift(t.pop()),C.unshift(C.pop()),D--;w=w.flat();t=t.flat();l=l.concat(w).concat(t);b.push(d[0],d[2],d[3],d[0],d[1],d[2]);b.push(C[0],C[2],C[3],C[0],C[1],C[2])}var x=[q/2,g/2,H/2];
q=l.reduce(function(e,m,g){return e.concat(m*x[g%3])},[]);g=0===a.sideOrientation?0:a.sideOrientation||r.a.DEFAULTSIDE;D=a.faceUV||Array(6);H=a.faceColors;h=[];for(l=0;6>l;l++)void 0===D[l]&&(D[l]=new c.f(0,0,1,1)),H&&void 0===H[l]&&(H[l]=new v.b(1,1,1,1));for(l=0;6>l;l++)if(e.push(D[l].z,D[l].w),e.push(D[l].x,D[l].w),e.push(D[l].x,D[l].y),e.push(D[l].z,D[l].y),H)for(w=0;4>w;w++)h.push(H[l].r,H[l].g,H[l].b,H[l].a);r.a._ComputeSides(g,q,b,f,e,a.frontUVs,a.backUVs);a=new r.a;a.indices=b;a.positions=
q;a.normals=f;a.uvs=e;H&&(b=g===r.a.DOUBLESIDE?h.concat(h):h,a.colors=b);return a};B.a.CreateBox=function(a,c,f,e,q){void 0===f&&(f=null);return b.CreateBox(a,{size:c,sideOrientation:q,updatable:e},f)};var b=function(){function a(){}a.CreateBox=function(a,f,e){void 0===e&&(e=null);a=new B.a(a,e);f.sideOrientation=B.a._GetDefaultSideOrientation(f.sideOrientation);a._originalBuilderSideOrientation=f.sideOrientation;r.a.CreateBox(f).applyToMesh(a,f.updatable);return a};return a}()},IIC5:function(J,G,
d){d.d(G,"a",function(){return a});var c=d("/SR9"),v=d("wAMR"),B=d("UtUh"),r=d("CFrw"),b=d("y4Ty");B.a.CreateLineSystem=function(a){var f=[],e=[],b=a.lines;a=a.colors;for(var g=[],c=0,h=0;h<b.length;h++)for(var n=b[h],l=0;l<n.length;l++){e.push(n[l].x,n[l].y,n[l].z);if(a){var w=a[h];g.push(w[l].r,w[l].g,w[l].b,w[l].a)}0<l&&(f.push(c-1),f.push(c));c++}b=new B.a;b.indices=f;b.positions=e;a&&(b.colors=g);return b};B.a.CreateDashedLines=function(a){var f=a.dashSize||3,e=a.gapSize||1,b=a.dashNb||200,g=
a.points;a=[];var H=[],h=c.e.Zero(),n=0,l=0,w;for(w=0;w<g.length-1;w++)g[w+1].subtractToRef(g[w],h),n+=h.length();b=n/b;e=f*b/(f+e);for(w=0;w<g.length-1;w++){g[w+1].subtractToRef(g[w],h);f=Math.floor(h.length()/b);h.normalize();for(var t=0;t<f;t++)n=b*t,a.push(g[w].x+n*h.x,g[w].y+n*h.y,g[w].z+n*h.z),a.push(g[w].x+(n+e)*h.x,g[w].y+(n+e)*h.y,g[w].z+(n+e)*h.z),H.push(l,l+1),l+=2}g=new B.a;g.positions=a;g.indices=H;return g};v.a.CreateLines=function(b,f,e,c,g){void 0===e&&(e=null);void 0===c&&(c=!1);
void 0===g&&(g=null);return a.CreateLines(b,{points:f,updatable:c,instance:g},e)};v.a.CreateDashedLines=function(b,f,e,c,g,H,h,d){void 0===H&&(H=null);return a.CreateDashedLines(b,{points:f,dashSize:e,gapSize:c,dashNb:g,updatable:h,instance:d},H)};var a=function(){function a(){}a.CreateLineSystem=function(a,e,c){var g=e.instance,f=e.lines,h=e.colors;if(g){e=g.getVerticesData(b.b.PositionKind);var n;h&&(n=g.getVerticesData(b.b.ColorKind));for(var l=c=0,q=0;q<f.length;q++)for(var t=f[q],d=0;d<t.length;d++)e[c]=
t[d].x,e[c+1]=t[d].y,e[c+2]=t[d].z,h&&n&&(a=h[q],n[l]=a[d].r,n[l+1]=a[d].g,n[l+2]=a[d].b,n[l+3]=a[d].a,l+=4),c+=3;g.updateVerticesData(b.b.PositionKind,e,!1,!1);h&&n&&g.updateVerticesData(b.b.ColorKind,n,!1,!1);return g}g=new r.b(a,c,null,void 0,void 0,h?!0:!1,e.useVertexAlpha);B.a.CreateLineSystem(e).applyToMesh(g,e.updatable);return g};a.CreateLines=function(f,e,b){void 0===b&&(b=null);return a.CreateLineSystem(f,{lines:[e.points],updatable:e.updatable,instance:e.instance,colors:e.colors?[e.colors]:
null,useVertexAlpha:e.useVertexAlpha},b)};a.CreateDashedLines=function(a,e,b){void 0===b&&(b=null);var g=e.points,f=e.instance,h=e.gapSize||1,n=e.dashSize||3;if(f)return f.updateMeshPositions(function(a){var e=c.e.Zero(),b=a.length/6,h=0,l=0,n,k;for(n=0;n<g.length-1;n++)g[n+1].subtractToRef(g[n],e),h+=e.length();b=h/b;n=f._creationDataStorage.dashSize;var m=n*b/(n+f._creationDataStorage.gapSize);for(n=0;n<g.length-1;n++)for(g[n+1].subtractToRef(g[n],e),h=Math.floor(e.length()/b),e.normalize(),k=0;k<
h&&l<a.length;){var A=b*k;a[l]=g[n].x+A*e.x;a[l+1]=g[n].y+A*e.y;a[l+2]=g[n].z+A*e.z;a[l+3]=g[n].x+(A+m)*e.x;a[l+4]=g[n].y+(A+m)*e.y;a[l+5]=g[n].z+(A+m)*e.z;l+=6;k++}for(;l<a.length;)a[l]=g[n].x,a[l+1]=g[n].y,a[l+2]=g[n].z,l+=3},!1),f;a=new r.b(a,b,null,void 0,void 0,void 0,e.useVertexAlpha);B.a.CreateDashedLines(e).applyToMesh(a,e.updatable);a._creationDataStorage=new v.b;a._creationDataStorage.dashSize=n;a._creationDataStorage.gapSize=h;return a};return a}()},NNSw:function(J,G,d){d.d(G,"a",function(){return B});
var c=d("wAMR"),v=d("UtUh");v.a.CreatePlane=function(c){var b=[],a=[],n=[],f=[],e=0===c.sideOrientation?0:c.sideOrientation||v.a.DEFAULTSIDE,q=(c.width||c.size||1)/2,g=(c.height||c.size||1)/2;a.push(-q,-g,0);n.push(0,0,-1);f.push(0,0);a.push(q,-g,0);n.push(0,0,-1);f.push(1,0);a.push(q,g,0);n.push(0,0,-1);f.push(1,1);a.push(-q,g,0);n.push(0,0,-1);f.push(0,1);b.push(0);b.push(1);b.push(2);b.push(0);b.push(2);b.push(3);v.a._ComputeSides(e,a,b,n,f,c.frontUVs,c.backUVs);c=new v.a;c.indices=b;c.positions=
a;c.normals=n;c.uvs=f;return c};c.a.CreatePlane=function(c,b,a,n,f){return B.CreatePlane(c,{size:b,width:b,height:b,sideOrientation:f,updatable:n},a)};var B=function(){function d(){}d.CreatePlane=function(b,a,n){void 0===n&&(n=null);b=new c.a(b,n);a.sideOrientation=c.a._GetDefaultSideOrientation(a.sideOrientation);b._originalBuilderSideOrientation=a.sideOrientation;v.a.CreatePlane(a).applyToMesh(b,a.updatable);a.sourcePlane&&(b.translate(a.sourcePlane.normal,-a.sourcePlane.d),b.setDirection(a.sourcePlane.normal.scale(-1)));
return b};return d}()},O2A8:function(J,G,d){d.d(G,"a",function(){return a});var c=d("/SR9"),v=d("wAMR"),B=d("y4Ty"),r=d("UtUh"),b=d("T5H4");r.a.CreateRibbon=function(a){var b=a.pathArray,e=a.closeArray||!1,c=a.closePath||!1,g=a.invertUV||!1,n=Math.floor(b[0].length/2),h=a.offset||n;h=h>n?n:Math.floor(h);var d=0===a.sideOrientation?0:a.sideOrientation||r.a.DEFAULTSIDE,l=a.uvs,w=a.colors,t=[];n=[];var E=[],C=[],x=[],k=[],m=[],A=[],p=[],u=[],K;if(2>b.length){var v=[];var F=[];for(K=0;K<b[0].length-h;K++)v.push(b[0][K]),
F.push(b[0][K+h]);b=[v,F]}var y=0;F=c?1:0;v=b[0].length;for(h=0;h<b.length;h++){m[h]=0;x[h]=[0];var z=b[h];var O=z.length;v=v<O?v:O;for(K=0;K<O;){t.push(z[K].x,z[K].y,z[K].z);if(0<K){var L=z[K].subtract(z[K-1]).length();L+=m[h];x[h].push(L);m[h]=L}K++}c&&(K--,t.push(z[0].x,z[0].y,z[0].z),L=z[K].subtract(z[0]).length(),L+=m[h],x[h].push(L),m[h]=L);p[h]=O+F;u[h]=y;y+=O+F}z=y=null;for(K=0;K<v+F;K++){A[K]=0;k[K]=[0];for(h=0;h<b.length-1;h++)y=b[h],L=b[h+1],K===v?(y=y[0],z=L[0]):(y=y[K],z=L[K]),L=z.subtract(y).length(),
L+=A[K],k[K].push(L),A[K]=L;e&&z&&y&&(L=b[0],K===v&&(z=L[0]),L=z.subtract(y).length(),L+=A[K],A[K]=L)}if(l)for(h=0;h<l.length;h++)C.push(l[h].x,l[h].y);else for(h=0;h<b.length;h++)for(K=0;K<v+F;K++)l=0!=m[h]?x[h][K]/m[h]:0,L=0!=A[K]?k[K][h]/A[K]:0,g?C.push(L,l):C.push(l,L);g=h=0;k=p[h]-1;m=p[h+1]-1;k=k<m?k:m;x=u[1]-u[0];for(e=e?p.length:p.length-1;g<=k&&h<e;)n.push(g,g+x,g+1),n.push(g+x+1,g+1,g+x),g+=1,g===k&&(h++,h===p.length-1?(x=u[0]-u[h],k=p[h]-1,m=p[0]-1):(x=u[h+1]-u[h],k=p[h]-1,m=p[h+1]-1),
g=u[h],k=k<m?k+g:m+g);r.a.ComputeNormals(t,n,E);if(c)for(h=0;h<b.length;h++)e=3*u[h],p=h+1<b.length?3*(u[h+1]-1):E.length-3,E[e]=.5*(E[e]+E[p]),E[e+1]=.5*(E[e+1]+E[p+1]),E[e+2]=.5*(E[e+2]+E[p+2]),E[p]=E[e],E[p+1]=E[e+1],E[p+2]=E[e+2];r.a._ComputeSides(d,t,n,E,C,a.frontUVs,a.backUVs);a=null;if(w)for(a=new Float32Array(4*w.length),b=0;b<w.length;b++)a[4*b]=w[b].r,a[4*b+1]=w[b].g,a[4*b+2]=w[b].b,a[4*b+3]=w[b].a;w=new r.a;t=new Float32Array(t);E=new Float32Array(E);C=new Float32Array(C);w.indices=n;w.positions=
t;w.normals=E;w.uvs=C;a&&w.set(a,B.b.ColorKind);c&&(w._idx=u);return w};v.a.CreateRibbon=function(b,c,e,q,g,H,h,d,l){void 0===e&&(e=!1);void 0===h&&(h=!1);return a.CreateRibbon(b,{pathArray:c,closeArray:e,closePath:q,offset:g,updatable:h,sideOrientation:d,instance:l},H)};var a=function(){function a(){}a.CreateRibbon=function(a,e,n){void 0===n&&(n=null);var g=e.pathArray,f=e.closeArray,h=e.closePath,q=v.a._GetDefaultSideOrientation(e.sideOrientation),l=e.instance,w=e.updatable;if(l){h=c.c.Vector3[0].setAll(Number.MAX_VALUE);
w=c.c.Vector3[1].setAll(-Number.MAX_VALUE);f=l.getVerticesData(B.b.PositionKind);q=g[0].length;a=0;n=l._originalBuilderSideOrientation===v.a.DOUBLESIDE?2:1;for(var t=1;t<=n;++t)for(var d=0;d<g.length;++d){var C=g[d],x=C.length;q=q<x?q:x;for(x=0;x<q;++x){var k=C[x];f[a]=k.x;f[a+1]=k.y;f[a+2]=k.z;h.minimizeInPlaceFromFloats(k.x,k.y,k.z);w.maximizeInPlaceFromFloats(k.x,k.y,k.z);a+=3}l._creationDataStorage&&l._creationDataStorage.closePath&&(k=C[0],f[a]=k.x,f[a+1]=k.y,f[a+2]=k.z,a+=3)}l._boundingInfo?
l._boundingInfo.reConstruct(h,w,l._worldMatrix):l._boundingInfo=new b.a(h,w,l._worldMatrix);l.updateVerticesData(B.b.PositionKind,f,!1,!1);if(e.colors){h=l.getVerticesData(B.b.ColorKind);for(q=w=0;w<e.colors.length;w++,q+=4)a=e.colors[w],h[q]=a.r,h[q+1]=a.g,h[q+2]=a.b,h[q+3]=a.a;l.updateVerticesData(B.b.ColorKind,h,!1,!1)}if(e.uvs){h=l.getVerticesData(B.b.UVKind);for(w=0;w<e.uvs.length;w++)h[2*w]=e.uvs[w].x,h[2*w+1]=e.uvs[w].y;l.updateVerticesData(B.b.UVKind,h,!1,!1)}if(!l.areNormalsFrozen||l.isFacetDataEnabled){h=
l.getIndices();e=l.getVerticesData(B.b.NormalKind);w=l.isFacetDataEnabled?l.getFacetDataParameters():null;r.a.ComputeNormals(f,h,e,w);if(l._creationDataStorage&&l._creationDataStorage.closePath)for(w=0;w<g.length;w++)f=3*l._creationDataStorage.idx[w],h=w+1<g.length?3*(l._creationDataStorage.idx[w+1]-1):e.length-3,e[f]=.5*(e[f]+e[h]),e[f+1]=.5*(e[f+1]+e[h+1]),e[f+2]=.5*(e[f+2]+e[h+2]),e[h]=e[f],e[h+1]=e[f+1],e[h+2]=e[f+2];l.areNormalsFrozen||l.updateVerticesData(B.b.NormalKind,e,!1,!1)}return l}g=
new v.a(a,n);g._originalBuilderSideOrientation=q;g._creationDataStorage=new v.b;l=r.a.CreateRibbon(e);h&&(g._creationDataStorage.idx=l._idx);g._creationDataStorage.closePath=h;g._creationDataStorage.closeArray=f;l.applyToMesh(g,w);return g};return a}()},QpEL:function(J,G,d){function c(a){return new Promise(function(b){DracoDecoderModule({wasmBinary:a}).then(function(a){b({module:a})})})}function v(a,b,g,c,f){var e=new a.DecoderBuffer;e.Init(b,b.byteLength);var h=new a.Decoder;try{var n=h.GetEncodedGeometryType(e);
switch(n){case a.TRIANGULAR_MESH:var q=new a.Mesh;var d=h.DecodeBufferToMesh(e,q);break;case a.POINT_CLOUD:q=new a.PointCloud;d=h.DecodeBufferToPointCloud(e,q);break;default:throw Error("Invalid geometry type "+n);}if(!d.ok()||!q.ptr)throw Error(d.error_msg());if(n===a.TRIANGULAR_MESH){var H=3*q.num_faces();b=4*H;var r=a._malloc(b);try{h.GetTrianglesUInt32Array(q,b,r);var k=new Uint32Array(H);k.set(new Uint32Array(a.HEAPF32.buffer,r,H));c(k)}finally{a._free(r)}}c=function(m,b){var e=b.num_components(),
g=q.num_points(),c=g*e,p=c*Float32Array.BYTES_PER_ELEMENT,l=a._malloc(p);try{h.GetAttributeDataArrayForAllPoints(q,b,a.DT_FLOAT32,p,l);var n=new Float32Array(a.HEAPF32.buffer,l,c);if("color"===m&&3===e){var k=new Float32Array(4*g);for(g=b=0;b<k.length;b+=4,g+=e)k[b+0]=n[g+0],k[b+1]=n[g+1],k[b+2]=n[g+2],k[b+3]=1}else k=new Float32Array(c),k.set(new Float32Array(a.HEAPF32.buffer,l,c));f(m,k)}finally{a._free(l)}};if(g)for(var m in g){var A=g[m],p=h.GetAttributeByUniqueId(q,A);c(m,p)}else for(m in g=
{position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},g)A=h.GetAttributeId(q,a[g[m]]),-1!==A&&(p=h.GetAttribute(q,A),c(m,p))}finally{q&&a.destroy(q),a.destroy(h),a.destroy(e)}}function B(){var a;onmessage=function(b){var e=b.data;switch(e.id){case "init":b=e.decoder;b.url&&(importScripts(b.url),a=DracoDecoderModule({wasmBinary:b.wasmBinary}));postMessage("done");break;case "decodeMesh":if(!a)throw Error("Draco decoder module is not available");a.then(function(a){v(a,e.dataView,e.attributes,
function(a){postMessage({id:"indices",value:a},[a.buffer])},function(a,b){postMessage({id:a,value:b},[b.buffer])});postMessage("done")})}}}function r(a){return"object"!==typeof document||"string"!==typeof a?a:b.b.GetAbsoluteUrl(a)}d.d(G,"a",function(){return f});var b=d("YKqZ"),a=d("yiEH"),n=d("UtUh"),f=function(){function e(f){void 0===f&&(f=e.DefaultNumWorkers);var g=e.Configuration.decoder,n=g.wasmUrl&&g.wasmBinaryUrl&&"object"===typeof WebAssembly?{url:g.wasmUrl,wasmBinaryPromise:b.b.LoadFileAsync(r(g.wasmBinaryUrl))}:
{url:g.fallbackUrl,wasmBinaryPromise:Promise.resolve(void 0)};f&&"function"===typeof Worker?this._workerPoolPromise=n.wasmBinaryPromise.then(function(b){for(var e=URL.createObjectURL(new Blob([v+"("+B+")()"],{type:"application/javascript"})),g=Array(f),c=0;c<g.length;c++)g[c]=new Promise(function(a,g){var c=new Worker(e),f=function(m){c.removeEventListener("error",f);c.removeEventListener("message",h);g(m)},h=function(m){"done"===m.data&&(c.removeEventListener("error",f),c.removeEventListener("message",
h),a(c))};c.addEventListener("error",f);c.addEventListener("message",h);c.postMessage({id:"init",decoder:{url:r(n.url),wasmBinary:b}})});return Promise.all(g).then(function(b){return new a.a(b)})}):this._decoderModulePromise=n.wasmBinaryPromise.then(function(a){if(!n.url)throw Error("Draco decoder module is not available");return b.b.LoadScriptAsync(n.url).then(function(){return c(a)})})}Object.defineProperty(e,"DecoderAvailable",{get:function(){var a=e.Configuration.decoder;return!!(a.wasmUrl&&a.wasmBinaryUrl&&
"object"===typeof WebAssembly||a.fallbackUrl)},enumerable:!1,configurable:!0});e.GetDefaultNumWorkers=function(){return"object"===typeof navigator&&navigator.hardwareConcurrency?Math.min(Math.floor(.5*navigator.hardwareConcurrency),4):1};Object.defineProperty(e,"Default",{get:function(){e._Default||(e._Default=new e);return e._Default},enumerable:!1,configurable:!0});e.prototype.dispose=function(){this._workerPoolPromise&&this._workerPoolPromise.then(function(a){a.dispose()});delete this._workerPoolPromise;
delete this._decoderModulePromise};e.prototype.whenReadyAsync=function(){return this._workerPoolPromise?this._workerPoolPromise.then(function(){}):this._decoderModulePromise?this._decoderModulePromise.then(function(){}):Promise.resolve()};e.prototype.decodeMeshAsync=function(a,b){var e=a instanceof ArrayBuffer?new Uint8Array(a):a;if(this._workerPoolPromise)return this._workerPoolPromise.then(function(a){return new Promise(function(c,g){a.push(function(a,f){var h=new n.a,l=function(m){a.removeEventListener("error",
l);a.removeEventListener("message",q);g(m);f()},q=function(m){"done"===m.data?(a.removeEventListener("error",l),a.removeEventListener("message",q),c(h),f()):"indices"===m.data.id?h.indices=m.data.value:h.set(m.data.value,m.data.id)};a.addEventListener("error",l);a.addEventListener("message",q);var k=new Uint8Array(e.byteLength);k.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));a.postMessage({id:"decodeMesh",dataView:k,attributes:b},[k.buffer])})})});if(this._decoderModulePromise)return this._decoderModulePromise.then(function(a){var c=
new n.a;v(a.module,e,b,function(a){c.indices=a},function(a,b){c.set(b,a)});return c});throw Error("Draco decoder module is not available");};e.Configuration={decoder:{wasmUrl:"https://preview.babylonjs.com/draco_wasm_wrapper_gltf.js",wasmBinaryUrl:"https://preview.babylonjs.com/draco_decoder_gltf.wasm",fallbackUrl:"https://preview.babylonjs.com/draco_decoder_gltf.js"}};e.DefaultNumWorkers=e.GetDefaultNumWorkers();e._Default=null;return e}()},"RV+K":function(J,G,d){d.d(G,"a",function(){return b});
var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh");r.a.CreatePolyhedron=function(a){var b=[{vertex:[[0,0,1.732051],[1.632993,0,-.5773503],[-.8164966,1.414214,-.5773503],[-.8164966,-1.414214,-.5773503]],face:[[0,1,2],[0,2,3],[0,3,1],[1,3,2]]},{vertex:[[0,0,1.414214],[1.414214,0,0],[0,1.414214,0],[-1.414214,0,0],[0,-1.414214,0],[0,0,-1.414214]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,1],[1,4,5],[1,5,2],[2,5,3],[3,5,4]]},{vertex:[[0,0,1.070466],[.7136442,0,.7978784],[-.3568221,.618034,.7978784],[-.3568221,
-.618034,.7978784],[.7978784,.618034,.3568221],[.7978784,-.618034,.3568221],[-.9341724,.381966,.3568221],[.1362939,1,.3568221],[.1362939,-1,.3568221],[-.9341724,-.381966,.3568221],[.9341724,.381966,-.3568221],[.9341724,-.381966,-.3568221],[-.7978784,.618034,-.3568221],[-.1362939,1,-.3568221],[-.1362939,-1,-.3568221],[-.7978784,-.618034,-.3568221],[.3568221,.618034,-.7978784],[.3568221,-.618034,-.7978784],[-.7136442,0,-.7978784],[0,0,-1.070466]],face:[[0,1,4,7,2],[0,2,6,9,3],[0,3,8,5,1],[1,5,11,10,
4],[2,7,13,12,6],[3,9,15,14,8],[4,10,16,13,7],[5,8,14,17,11],[6,12,18,15,9],[10,11,17,19,16],[12,13,16,19,18],[14,15,18,19,17]]},{vertex:[[0,0,1.175571],[1.051462,0,.5257311],[.3249197,1,.5257311],[-.8506508,.618034,.5257311],[-.8506508,-.618034,.5257311],[.3249197,-1,.5257311],[.8506508,.618034,-.5257311],[.8506508,-.618034,-.5257311],[-.3249197,1,-.5257311],[-1.051462,0,-.5257311],[-.3249197,-1,-.5257311],[0,0,-1.175571]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,5],[0,5,1],[1,5,7],[1,7,6],[1,6,2],[2,
6,8],[2,8,3],[3,8,9],[3,9,4],[4,9,10],[4,10,5],[5,10,7],[6,7,11],[6,11,8],[7,10,11],[8,11,9],[9,11,10]]},{vertex:[[0,0,1.070722],[.7148135,0,.7971752],[-.104682,.7071068,.7971752],[-.6841528,.2071068,.7971752],[-.104682,-.7071068,.7971752],[.6101315,.7071068,.5236279],[1.04156,.2071068,.1367736],[.6101315,-.7071068,.5236279],[-.3574067,1,.1367736],[-.7888348,-.5,.5236279],[-.9368776,.5,.1367736],[-.3574067,-1,.1367736],[.3574067,1,-.1367736],[.9368776,-.5,-.1367736],[.7888348,.5,-.5236279],[.3574067,
-1,-.1367736],[-.6101315,.7071068,-.5236279],[-1.04156,-.2071068,-.1367736],[-.6101315,-.7071068,-.5236279],[.104682,.7071068,-.7971752],[.6841528,-.2071068,-.7971752],[.104682,-.7071068,-.7971752],[-.7148135,0,-.7971752],[0,0,-1.070722]],face:[[0,2,3],[1,6,5],[4,9,11],[7,15,13],[8,16,10],[12,14,19],[17,22,18],[20,21,23],[0,1,5,2],[0,3,9,4],[0,4,7,1],[1,7,13,6],[2,5,12,8],[2,8,10,3],[3,10,17,9],[4,11,15,7],[5,6,14,12],[6,13,20,14],[8,12,19,16],[9,17,18,11],[10,16,22,17],[11,18,21,15],[13,15,21,20],
[14,20,23,19],[16,19,23,22],[18,22,23,21]]},{vertex:[[0,0,1.322876],[1.309307,0,.1889822],[-.9819805,.8660254,.1889822],[.1636634,-1.299038,.1889822],[.3273268,.8660254,-.9449112],[-.8183171,-.4330127,-.9449112]],face:[[0,3,1],[2,4,5],[0,1,4,2],[0,2,5,3],[1,3,5,4]]},{vertex:[[0,0,1.159953],[1.013464,0,.5642542],[-.3501431,.9510565,.5642542],[-.7715208,-.6571639,.5642542],[.6633206,.9510565,-.03144481],[.8682979,-.6571639,-.3996071],[-1.121664,.2938926,-.03144481],[-.2348831,-1.063314,-.3996071],[.5181548,
.2938926,-.9953061],[-.5850262,-.112257,-.9953061]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],[3,6,9,7],[5,7,9,8],[0,3,7,5,1],[2,4,8,9,6]]},{vertex:[[0,0,1.118034],[.8944272,0,.6708204],[-.2236068,.8660254,.6708204],[-.7826238,-.4330127,.6708204],[.6708204,.8660254,.2236068],[1.006231,-.4330127,-.2236068],[-1.006231,.4330127,.2236068],[-.6708204,-.8660254,-.2236068],[.7826238,.4330127,-.6708204],[.2236068,-.8660254,-.6708204],[-.8944272,0,-.6708204],[0,0,-1.118034]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],
[3,6,10,7],[5,9,11,8],[7,10,11,9],[0,3,7,9,5,1],[2,4,8,11,10,6]]},{vertex:[[-.729665,.670121,.319155],[-.655235,-.29213,-.754096],[-.093922,-.607123,.537818],[.702196,.595691,.485187],[.776626,-.36656,-.588064]],face:[[1,4,2],[0,1,2],[3,0,2],[4,3,2],[4,1,0,3]]},{vertex:[[-.868849,-.100041,.61257],[-.329458,.976099,.28078],[-.26629,-.013796,-.477654],[-.13392,-1.034115,.229829],[.738834,.707117,-.307018],[.859683,-.535264,-.338508]],face:[[3,0,2],[5,3,2],[4,5,2],[1,4,2],[0,1,2],[0,3,5,4,1]]},{vertex:[[-.610389,
.243975,.531213],[-.187812,-.48795,-.664016],[-.187812,.9759,-.664016],[.187812,-.9759,.664016],[.798201,.243975,.132803]],face:[[1,3,0],[3,4,0],[3,1,4],[0,2,1],[0,4,2],[2,4,1]]},{vertex:[[-1.028778,.392027,-.048786],[-.640503,-.646161,.621837],[-.125162,-.395663,-.540059],[.004683,.888447,-.651988],[.125161,.395663,.540059],[.632925,-.791376,.433102],[1.031672,.157063,-.354165]],face:[[3,2,0],[2,1,0],[2,5,1],[0,4,3],[0,1,4],[4,1,5],[2,3,6],[3,4,6],[5,2,6],[4,5,6]]},{vertex:[[-.669867,.334933,-.529576],
[-.669867,.334933,.529577],[-.4043,1.212901,0],[-.334933,-.669867,-.529576],[-.334933,-.669867,.529577],[.334933,.669867,-.529576],[.334933,.669867,.529577],[.4043,-1.212901,0],[.669867,-.334933,-.529576],[.669867,-.334933,.529577]],face:[[8,9,7],[6,5,2],[3,8,7],[5,0,2],[4,3,7],[0,1,2],[9,4,7],[1,6,2],[9,8,5,6],[8,3,0,5],[3,4,1,0],[4,9,6,1]]},{vertex:[[-.931836,.219976,-.264632],[-.636706,.318353,.692816],[-.613483,-.735083,-.264632],[-.326545,.979634,0],[-.318353,-.636706,.692816],[-.159176,.477529,
-.856368],[.159176,-.477529,-.856368],[.318353,.636706,.692816],[.326545,-.979634,0],[.613482,.735082,-.264632],[.636706,-.318353,.692816],[.931835,-.219977,-.264632]],face:[[11,10,8],[7,9,3],[6,11,8],[9,5,3],[2,6,8],[5,0,3],[4,2,8],[0,1,3],[10,4,8],[1,7,3],[10,11,9,7],[11,6,5,9],[6,2,0,5],[2,4,1,0],[4,10,7,1]]},{vertex:[[-.93465,.300459,-.271185],[-.838689,-.260219,-.516017],[-.711319,.717591,.128359],[-.710334,-.156922,.080946],[-.599799,.556003,-.725148],[-.503838,-.004675,-.969981],[-.487004,
.26021,.48049],[-.460089,-.750282,-.512622],[-.376468,.973135,-.325605],[-.331735,-.646985,.084342],[-.254001,.831847,.530001],[-.125239,-.494738,-.966586],[.029622,.027949,.730817],[.056536,-.982543,-.262295],[.08085,1.087391,.076037],[.125583,-.532729,.485984],[.262625,.599586,.780328],[.391387,-.726999,-.716259],[.513854,-.868287,.139347],[.597475,.85513,.326364],[.641224,.109523,.783723],[.737185,-.451155,.538891],[.848705,-.612742,-.314616],[.976075,.365067,.32976],[1.072036,-.19561,.084927]],
face:[[15,18,21],[12,20,16],[6,10,2],[3,0,1],[9,7,13],[2,8,4,0],[0,4,5,1],[1,5,11,7],[7,11,17,13],[13,17,22,18],[18,22,24,21],[21,24,23,20],[20,23,19,16],[16,19,14,10],[10,14,8,2],[15,9,13,18],[12,15,21,20],[6,12,16,10],[3,6,2,0],[9,3,1,7],[9,15,12,6,3],[22,17,11,5,4,8,14,19,23,24]]}],f=a.type&&(0>a.type||a.type>=b.length)?0:a.type||0,e=a.size,q=a.sizeX||e||1,g=a.sizeY||e||1;e=a.sizeZ||e||1;var d=a.custom||b[f],h=d.face.length,D=a.faceUV||Array(h);b=a.faceColors;f=void 0===a.flat?!0:a.flat;var l=
0===a.sideOrientation?0:a.sideOrientation||r.a.DEFAULTSIDE,w=[],t=[],E=[],C=[],x=[],k=0,m=0,A=[],p,u;if(f)for(u=0;u<h;u++)b&&void 0===b[u]&&(b[u]=new v.b(1,1,1,1)),D&&void 0===D[u]&&(D[u]=new c.f(0,0,1,1));if(f)for(u=0;u<h;u++){var K=d.face[u].length;var M=2*Math.PI/K;var F=.5*Math.tan(M/2);var y=.5;for(p=0;p<K;p++){w.push(d.vertex[d.face[u][p]][0]*q,d.vertex[d.face[u][p]][1]*g,d.vertex[d.face[u][p]][2]*e);A.push(k);k++;var z=D[u].x+(D[u].z-D[u].x)*(.5+F);var O=D[u].y+(D[u].w-D[u].y)*(y-.5);C.push(z,
O);z=F*Math.cos(M)-y*Math.sin(M);y=F*Math.sin(M)+y*Math.cos(M);F=z;b&&x.push(b[u].r,b[u].g,b[u].b,b[u].a)}for(p=0;p<K-2;p++)t.push(A[0+m],A[p+2+m],A[p+1+m]);m+=K}else{for(p=0;p<d.vertex.length;p++)w.push(d.vertex[p][0]*q,d.vertex[p][1]*g,d.vertex[p][2]*e),C.push(0,0);for(u=0;u<h;u++)for(p=0;p<d.face[u].length-2;p++)t.push(d.face[u][0],d.face[u][p+2],d.face[u][p+1])}r.a.ComputeNormals(w,t,E);r.a._ComputeSides(l,w,t,E,C,a.frontUVs,a.backUVs);a=new r.a;a.positions=w;a.indices=t;a.normals=E;a.uvs=C;b&&
f&&(a.colors=x);return a};B.a.CreatePolyhedron=function(a,c,f){return b.CreatePolyhedron(a,c,f)};var b=function(){function a(){}a.CreatePolyhedron=function(a,b,e){void 0===e&&(e=null);a=new B.a(a,e);b.sideOrientation=B.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;r.a.CreatePolyhedron(b).applyToMesh(a,b.updatable);return a};return a}()},RhQe:function(J,G,d){d.d(G,"a",function(){return f});var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh"),b=d("It3q"),
a=d("y4Ty"),n=d("e2Mr");r.a.CreatePolygon=function(b,f,g,n,h,d,l){var e=g||Array(3);g=[];l=l||!1;for(var q=0;3>q;q++)void 0===e[q]&&(e[q]=new c.f(0,0,1,1)),n&&void 0===n[q]&&(n[q]=new v.b(1,1,1,1));q=b.getVerticesData(a.b.PositionKind);var H=b.getVerticesData(a.b.NormalKind),D=b.getVerticesData(a.b.UVKind);b=b.getIndices();var x=q.length/9,k=0,m=[0];if(l)for(var A=x;A<q.length/3;A+=4){var p=q[3*(A+2)]-q[3*A];var u=q[3*(A+2)+2]-q[3*A+2];p=Math.sqrt(p*p+u*u);k+=p;m.push(k)}for(var K=u=0;K<H.length;K+=
3).001>Math.abs(H[K+1])&&(u=1),.001>Math.abs(H[K+1]-1)&&(u=0),.001>Math.abs(H[K+1]+1)&&(u=2),A=K/3,1===u?(p=A-x,D[2*A]=1.5>p%4?l?e[u].x+(e[u].z-e[u].x)*m[Math.floor(p/4)]/k:e[u].x:l?e[u].x+(e[u].z-e[u].x)*m[Math.floor(p/4)+1]/k:e[u].z,D[2*A+1]=0===p%2?e[u].w:e[u].y):(D[2*A]=(1-D[2*A])*e[u].x+D[2*A]*e[u].z,D[2*A+1]=(1-D[2*A+1])*e[u].y+D[2*A+1]*e[u].w),n&&g.push(n[u].r,n[u].g,n[u].b,n[u].a);r.a._ComputeSides(f,q,b,H,D,h,d);h=new r.a;h.indices=b;h.positions=q;h.normals=H;h.uvs=D;n&&(f=f===r.a.DOUBLESIDE?
g.concat(g):g,h.colors=f);return h};B.a.CreatePolygon=function(a,b,c,n,h,d,l){void 0===l&&(l=earcut);return f.CreatePolygon(a,{shape:b,holes:n,updatable:h,sideOrientation:d},c,l)};B.a.ExtrudePolygon=function(a,b,c,n,h,d,l,w){void 0===w&&(w=earcut);return f.ExtrudePolygon(a,{shape:b,holes:h,depth:c,updatable:d,sideOrientation:l},n,w)};var f=function(){function a(){}a.CreatePolygon=function(a,e,f,h){void 0===f&&(f=null);void 0===h&&(h=earcut);e.sideOrientation=B.a._GetDefaultSideOrientation(e.sideOrientation);
for(var g=e.shape,l=e.holes||[],d=e.depth||0,q=[],H=0;H<g.length;H++)q[H]=new c.d(g[H].x,g[H].z);q[0].equalsWithEpsilon(q[q.length-1],1E-8)&&q.pop();f=new b.a(a,q,f||n.a.LastCreatedScene,h);for(h=0;h<l.length;h++){a=[];for(g=0;g<l[h].length;g++)a.push(new c.d(l[h][g].x,l[h][g].z));f.addHole(a)}l=f.build(e.updatable,d);l._originalBuilderSideOrientation=e.sideOrientation;r.a.CreatePolygon(l,e.sideOrientation,e.faceUV,e.faceColors,e.frontUVs,e.backUVs,e.wrap).applyToMesh(l,e.updatable);return l};a.ExtrudePolygon=
function(b,e,c,f){void 0===c&&(c=null);void 0===f&&(f=earcut);return a.CreatePolygon(b,e,c,f)};return a}()},SgR9:function(J,G,d){d.d(G,"a",function(){return b});var c=d("/SR9"),v=d("wAMR"),B=d("O2A8"),r=d("Gldd");v.a.ExtrudeShape=function(a,c,f,e,q,g,d,h,r,l){void 0===d&&(d=null);return b.ExtrudeShape(a,{shape:c,path:f,scale:e,rotation:q,cap:0===g?0:g||v.a.NO_CAP,sideOrientation:r,instance:l,updatable:h},d)};v.a.ExtrudeShapeCustom=function(a,c,f,e,d,g,r,h,D,l,w,t){return b.ExtrudeShapeCustom(a,{shape:c,
path:f,scaleFunction:e,rotationFunction:d,ribbonCloseArray:g,ribbonClosePath:r,cap:0===h?0:h||v.a.NO_CAP,sideOrientation:w,instance:t,updatable:l},D)};var b=function(){function a(){}a.ExtrudeShape=function(b,c,e){void 0===e&&(e=null);var f=c.path,g=c.shape,n=c.scale||1,h=c.rotation||0,d=0===c.cap?0:c.cap||v.a.NO_CAP,l=c.updatable,w=v.a._GetDefaultSideOrientation(c.sideOrientation);return a._ExtrudeShapeGeneric(b,g,f,n,h,null,null,!1,!1,d,!1,e,l?!0:!1,w,c.instance||null,c.invertUV||!1,c.frontUVs||
null,c.backUVs||null)};a.ExtrudeShapeCustom=function(b,c,e){void 0===e&&(e=null);var f=c.path,g=c.shape,n=c.scaleFunction||function(){return 1},h=c.rotationFunction||function(){return 0},d=c.ribbonCloseArray||!1,l=c.ribbonClosePath||!1,w=0===c.cap?0:c.cap||v.a.NO_CAP,t=c.updatable,r=v.a._GetDefaultSideOrientation(c.sideOrientation);return a._ExtrudeShapeGeneric(b,g,f,null,null,n,h,d,l,w,!0,e,t?!0:!1,r,c.instance||null,c.invertUV||!1,c.frontUVs||null,c.backUVs||null)};a._ExtrudeShapeGeneric=function(a,
b,e,d,g,H,h,D,l,w,t,E,C,x,k,m,A,p){var f=function(a,m,b,e,g,p,f,h,l,n){var k=b.getTangents(),d=b.getNormals(),A=b.getBinormals();b=b.getDistances();var u=0;h=n&&h?h:function(){return null!==p?p:0};n=n&&f?f:function(){return null!==g?g:1};f=l===v.a.NO_CAP||l===v.a.CAP_END?0:2;for(var q=c.c.Matrix[0],t=0;t<m.length;t++){for(var w=[],r=h(t,b[t]),y=n(t,b[t]),H=0;H<a.length;H++){c.a.RotationAxisToRef(k[t],u,q);var z=k[t].scale(a[H].z).add(d[t].scale(a[H].x)).add(A[t].scale(a[H].y)),O=w[H]?w[H]:c.e.Zero();
c.e.TransformCoordinatesToRef(z,q,O);O.scaleInPlace(y).addInPlace(m[t]);w[H]=O}e[f]=w;u+=r;f++}a=function(a){var m=[],b=c.e.Zero(),e;for(e=0;e<a.length;e++)b.addInPlace(a[e]);b.scaleInPlace(1/a.length);for(e=0;e<a.length;e++)m.push(b);return m};switch(l){case v.a.CAP_START:e[0]=a(e[2]);e[1]=e[2];break;case v.a.CAP_END:e[f]=e[f-1];e[f+1]=a(e[f-1]);break;case v.a.CAP_ALL:e[0]=a(e[2]),e[1]=e[2],e[f]=e[f-1],e[f+1]=a(e[f-1])}return e};if(k){w=k._creationDataStorage;var n=w.path3D.update(e);b=f(b,e,w.path3D,
w.pathArray,d,g,H,h,w.cap,t);return k=v.a.CreateRibbon("",b,!1,!1,0,E||void 0,!1,0,k)}n=new r.d(e);w=0>w||3<w?0:w;b=f(b,e,n,[],d,g,H,h,w,t);E=B.a.CreateRibbon(a,{pathArray:b,closeArray:D,closePath:l,updatable:C,sideOrientation:x,invertUV:m,frontUVs:A||void 0,backUVs:p||void 0},E);E._creationDataStorage.pathArray=b;E._creationDataStorage.path3D=n;E._creationDataStorage.cap=w;return E};return a}()},TUvE:function(J,G,d){d.d(G,"a",function(){return a});d.d(G,"b",function(){return n});var c=d("/SR9"),
v=[Math.sqrt(1/(4*Math.PI)),-Math.sqrt(3/(4*Math.PI)),Math.sqrt(3/(4*Math.PI)),-Math.sqrt(3/(4*Math.PI)),Math.sqrt(15/(4*Math.PI)),-Math.sqrt(15/(4*Math.PI)),Math.sqrt(5/(16*Math.PI)),-Math.sqrt(15/(4*Math.PI)),Math.sqrt(15/(16*Math.PI))],B=[function(a){return 1},function(a){return a.y},function(a){return a.z},function(a){return a.x},function(a){return a.x*a.y},function(a){return a.y*a.z},function(a){return 3*a.z*a.z-1},function(a){return a.x*a.z},function(a){return a.x*a.x-a.y*a.y}],r=function(a,
b){return v[a]*B[a](b)},b=[Math.PI,2*Math.PI/3,2*Math.PI/3,2*Math.PI/3,Math.PI/4,Math.PI/4,Math.PI/4,Math.PI/4,Math.PI/4],a=function(){function a(){this.preScaled=!1;this.l00=c.e.Zero();this.l1_1=c.e.Zero();this.l10=c.e.Zero();this.l11=c.e.Zero();this.l2_2=c.e.Zero();this.l2_1=c.e.Zero();this.l20=c.e.Zero();this.l21=c.e.Zero();this.l22=c.e.Zero()}a.prototype.addLight=function(a,b,g){b=(new c.e(b.r,b.g,b.b)).scale(g);this.l00=this.l00.add(b.scale(r(0,a)));this.l1_1=this.l1_1.add(b.scale(r(1,a)));this.l10=
this.l10.add(b.scale(r(2,a)));this.l11=this.l11.add(b.scale(r(3,a)));this.l2_2=this.l2_2.add(b.scale(r(4,a)));this.l2_1=this.l2_1.add(b.scale(r(5,a)));this.l20=this.l20.add(b.scale(r(6,a)));this.l21=this.l21.add(b.scale(r(7,a)));this.l22=this.l22.add(b.scale(r(8,a)))};a.prototype.scaleInPlace=function(a){this.l00.scaleInPlace(a);this.l1_1.scaleInPlace(a);this.l10.scaleInPlace(a);this.l11.scaleInPlace(a);this.l2_2.scaleInPlace(a);this.l2_1.scaleInPlace(a);this.l20.scaleInPlace(a);this.l21.scaleInPlace(a);
this.l22.scaleInPlace(a)};a.prototype.convertIncidentRadianceToIrradiance=function(){this.l00.scaleInPlace(b[0]);this.l1_1.scaleInPlace(b[1]);this.l10.scaleInPlace(b[2]);this.l11.scaleInPlace(b[3]);this.l2_2.scaleInPlace(b[4]);this.l2_1.scaleInPlace(b[5]);this.l20.scaleInPlace(b[6]);this.l21.scaleInPlace(b[7]);this.l22.scaleInPlace(b[8])};a.prototype.convertIrradianceToLambertianRadiance=function(){this.scaleInPlace(1/Math.PI)};a.prototype.preScaleForRendering=function(){this.preScaled=!0;this.l00.scaleInPlace(v[0]);
this.l1_1.scaleInPlace(v[1]);this.l10.scaleInPlace(v[2]);this.l11.scaleInPlace(v[3]);this.l2_2.scaleInPlace(v[4]);this.l2_1.scaleInPlace(v[5]);this.l20.scaleInPlace(v[6]);this.l21.scaleInPlace(v[7]);this.l22.scaleInPlace(v[8])};a.FromArray=function(b){var e=new a;c.e.FromArrayToRef(b[0],0,e.l00);c.e.FromArrayToRef(b[1],0,e.l1_1);c.e.FromArrayToRef(b[2],0,e.l10);c.e.FromArrayToRef(b[3],0,e.l11);c.e.FromArrayToRef(b[4],0,e.l2_2);c.e.FromArrayToRef(b[5],0,e.l2_1);c.e.FromArrayToRef(b[6],0,e.l20);c.e.FromArrayToRef(b[7],
0,e.l21);c.e.FromArrayToRef(b[8],0,e.l22);return e};a.FromPolynomial=function(b){var c=new a;c.l00=b.xx.scale(.376127).add(b.yy.scale(.376127)).add(b.zz.scale(.376126));c.l1_1=b.y.scale(.977204);c.l10=b.z.scale(.977204);c.l11=b.x.scale(.977204);c.l2_2=b.xy.scale(1.16538);c.l2_1=b.yz.scale(1.16538);c.l20=b.zz.scale(1.34567).subtract(b.xx.scale(.672834)).subtract(b.yy.scale(.672834));c.l21=b.zx.scale(1.16538);c.l22=b.xx.scale(1.16538).subtract(b.yy.scale(1.16538));c.l1_1.scaleInPlace(-1);c.l11.scaleInPlace(-1);
c.l2_1.scaleInPlace(-1);c.l21.scaleInPlace(-1);c.scaleInPlace(Math.PI);return c};return a}(),n=function(){function b(){this.x=c.e.Zero();this.y=c.e.Zero();this.z=c.e.Zero();this.xx=c.e.Zero();this.yy=c.e.Zero();this.zz=c.e.Zero();this.xy=c.e.Zero();this.yz=c.e.Zero();this.zx=c.e.Zero()}Object.defineProperty(b.prototype,"preScaledHarmonics",{get:function(){this._harmonics||(this._harmonics=a.FromPolynomial(this));this._harmonics.preScaled||this._harmonics.preScaleForRendering();return this._harmonics},
enumerable:!1,configurable:!0});b.prototype.addAmbient=function(a){a=new c.e(a.r,a.g,a.b);this.xx=this.xx.add(a);this.yy=this.yy.add(a);this.zz=this.zz.add(a)};b.prototype.scaleInPlace=function(a){this.x.scaleInPlace(a);this.y.scaleInPlace(a);this.z.scaleInPlace(a);this.xx.scaleInPlace(a);this.yy.scaleInPlace(a);this.zz.scaleInPlace(a);this.yz.scaleInPlace(a);this.zx.scaleInPlace(a);this.xy.scaleInPlace(a)};b.FromHarmonics=function(a){var c=new b;c._harmonics=a;c.x=a.l11.scale(1.02333).scale(-1);
c.y=a.l1_1.scale(1.02333).scale(-1);c.z=a.l10.scale(1.02333);c.xx=a.l00.scale(.886277).subtract(a.l20.scale(.247708)).add(a.l22.scale(.429043));c.yy=a.l00.scale(.886277).subtract(a.l20.scale(.247708)).subtract(a.l22.scale(.429043));c.zz=a.l00.scale(.886277).add(a.l20.scale(.495417));c.yz=a.l2_1.scale(.858086).scale(-1);c.zx=a.l21.scale(.858086).scale(-1);c.xy=a.l2_2.scale(.858086);c.scaleInPlace(1/Math.PI);return c};b.FromArray=function(a){var e=new b;c.e.FromArrayToRef(a[0],0,e.x);c.e.FromArrayToRef(a[1],
0,e.y);c.e.FromArrayToRef(a[2],0,e.z);c.e.FromArrayToRef(a[3],0,e.xx);c.e.FromArrayToRef(a[4],0,e.yy);c.e.FromArrayToRef(a[5],0,e.zz);c.e.FromArrayToRef(a[6],0,e.yz);c.e.FromArrayToRef(a[7],0,e.zx);c.e.FromArrayToRef(a[8],0,e.xy);return e};return b}()},aXRn:function(J,G,d){d.d(G,"a",function(){return b});var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh");r.a.CreateTiledBox=function(a){var b=a.faceUV||Array(6),f=a.faceColors,e=a.pattern||B.a.NO_FLIP,d=a.width||a.size||1,g=a.height||a.size||1,H=a.depth||
a.size||1,h=a.tileWidth||a.tileSize||1,D=a.tileHeight||a.tileSize||1,l=a.alignHorizontal||0,w=a.alignVertical||0;a=0===a.sideOrientation?0:a.sideOrientation||r.a.DEFAULTSIDE;for(var t=0;6>t;t++)void 0===b[t]&&(b[t]=new c.f(0,0,1,1)),f&&void 0===f[t]&&(f[t]=new v.b(1,1,1,1));var E=d/2,C=g/2,x=H/2,k=[];for(t=0;2>t;t++)k[t]=r.a.CreateTiledPlane({pattern:e,tileWidth:h,tileHeight:D,width:d,height:g,alignVertical:w,alignHorizontal:l,sideOrientation:a});for(t=2;4>t;t++)k[t]=r.a.CreateTiledPlane({pattern:e,
tileWidth:h,tileHeight:D,width:H,height:g,alignVertical:w,alignHorizontal:l,sideOrientation:a});g=w;w===B.a.BOTTOM?g=B.a.TOP:w===B.a.TOP&&(g=B.a.BOTTOM);for(t=4;6>t;t++)k[t]=r.a.CreateTiledPlane({pattern:e,tileWidth:h,tileHeight:D,width:d,height:H,alignVertical:g,alignHorizontal:l,sideOrientation:a});t=[];l=[];e=[];d=[];H=[];h=[];D=[];l=[];var m=w=w=0;for(t=0;6>t;t++){w=k[t].positions.length;h[t]=[];D[t]=[];for(g=0;g<w/3;g++)h[t].push(new c.e(k[t].positions[3*g],k[t].positions[3*g+1],k[t].positions[3*
g+2])),D[t].push(new c.e(k[t].normals[3*g],k[t].normals[3*g+1],k[t].normals[3*g+2]));w=k[t].uvs.length;l[t]=[];for(g=0;g<w;g+=2)l[t][g]=b[t].x+(b[t].z-b[t].x)*k[t].uvs[g],l[t][g+1]=b[t].y+(b[t].w-b[t].y)*k[t].uvs[g+1];e=e.concat(l[t]);d=d.concat(k[t].indices.map(function(a){return a+m}));m+=h[t].length;if(f)for(w=0;4>w;w++)H.push(f[t].r,f[t].g,f[t].b,f[t].a)}var A=new c.e(0,0,x),p=c.a.RotationY(Math.PI);t=h[0].map(function(a){return c.e.TransformNormal(a,p).add(A)}).map(function(a){return[a.x,a.y,
a.z]}).reduce(function(a,b){return a.concat(b)},[]);l=D[0].map(function(a){return c.e.TransformNormal(a,p)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]);t=t.concat(h[1].map(function(a){return a.subtract(A)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));l=l.concat(D[1].map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));var u=new c.e(E,0,0),K=c.a.RotationY(-Math.PI/2);t=t.concat(h[2].map(function(a){return c.e.TransformNormal(a,
K).add(u)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));l=l.concat(D[2].map(function(a){return c.e.TransformNormal(a,K)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));var M=c.a.RotationY(Math.PI/2);t=t.concat(h[3].map(function(a){return c.e.TransformNormal(a,M).subtract(u)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));l=l.concat(D[3].map(function(a){return c.e.TransformNormal(a,M)}).map(function(a){return[a.x,
a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));var F=new c.e(0,C,0),y=c.a.RotationX(Math.PI/2);t=t.concat(h[4].map(function(a){return c.e.TransformNormal(a,y).add(F)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));l=l.concat(D[4].map(function(a){return c.e.TransformNormal(a,y)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));var z=c.a.RotationX(-Math.PI/2);t=t.concat(h[5].map(function(a){return c.e.TransformNormal(a,
z).subtract(F)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));l=l.concat(D[5].map(function(a){return c.e.TransformNormal(a,z)}).map(function(a){return[a.x,a.y,a.z]}).reduce(function(a,b){return a.concat(b)},[]));r.a._ComputeSides(a,t,d,l,e);b=new r.a;b.indices=d;b.positions=t;b.normals=l;b.uvs=e;f&&(f=a===r.a.DOUBLESIDE?H.concat(H):H,b.colors=f);return b};var b=function(){function a(){}a.CreateTiledBox=function(a,b,c){void 0===c&&(c=null);a=new B.a(a,c);b.sideOrientation=
B.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;r.a.CreateTiledBox(b).applyToMesh(a,b.updatable);return a};return a}()},bnDv:function(J,G,d){d.d(G,"a",function(){return q});var c=d("/SR9"),v=d("Xeau"),B=d("wAMR"),r=d("UtUh"),b=d("d0Hj"),a=d("YKqZ"),n=d("e2Mr"),f=d("MhaC"),e=d("O3Sr");r.a.CreateGround=function(a){var b=[],e=[],g=[],f=[],d,n=a.width||1,q=a.height||1,v=a.subdivisionsX||a.subdivisions||1,x=a.subdivisionsY||a.subdivisions||1;for(a=
0;a<=x;a++)for(d=0;d<=v;d++){var k=new c.e(d*n/v-n/2,0,(x-a)*q/x-q/2),m=new c.e(0,1,0);e.push(k.x,k.y,k.z);g.push(m.x,m.y,m.z);f.push(d/v,1-a/x)}for(a=0;a<x;a++)for(d=0;d<v;d++)b.push(d+1+(a+1)*(v+1)),b.push(d+1+a*(v+1)),b.push(d+a*(v+1)),b.push(d+(a+1)*(v+1)),b.push(d+1+(a+1)*(v+1)),b.push(d+a*(v+1));n=new r.a;n.indices=b;n.positions=e;n.normals=g;n.uvs=f;return n};r.a.CreateTiledGround=function(a){var b=void 0!==a.xmin&&null!==a.xmin?a.xmin:-1,e=void 0!==a.zmin&&null!==a.zmin?a.zmin:-1,g=void 0!==
a.xmax&&null!==a.xmax?a.xmax:1,f=void 0!==a.zmax&&null!==a.zmax?a.zmax:1,d=a.subdivisions||{w:1,h:1},n=a.precision||{w:1,h:1};a=[];var q=[],v=[],x=[],k,m,A;d.h=1>d.h?1:d.h;d.w=1>d.w?1:d.w;n.w=1>n.w?1:n.w;n.h=1>n.h?1:n.h;g=(g-b)/d.w;var p=(f-e)/d.h;for(m=0;m<d.h;m++)for(A=0;A<d.w;A++){var u=b+A*g,K=e+m*p,M=b+(A+1)*g,F=e+(m+1)*p,y=q.length/3,z=n.w+1;for(f=0;f<n.h;f++)for(k=0;k<n.w;k++){var B=[y+k+f*z,y+(k+1)+f*z,y+(k+1)+(f+1)*z,y+k+(f+1)*z];a.push(B[1]);a.push(B[2]);a.push(B[3]);a.push(B[0]);a.push(B[1]);
a.push(B[3])}y=c.e.Zero();z=new c.e(0,1,0);for(f=0;f<=n.h;f++)for(y.z=f*(F-K)/n.h+K,k=0;k<=n.w;k++)y.x=k*(M-u)/n.w+u,y.y=0,q.push(y.x,y.y,y.z),v.push(z.x,z.y,z.z),x.push(k/n.w,f/n.h)}b=new r.a;b.indices=a;b.positions=q;b.normals=v;b.uvs=x;return b};r.a.CreateGroundFromHeightMap=function(a){var b=[],e=[],d=[],g=[],n,q=a.colorFilter||new v.a(.3,.59,.11),E=a.alphaFilter||0,C=!1;if(a.minHeight>a.maxHeight){C=!0;var x=a.maxHeight;a.maxHeight=a.minHeight;a.minHeight=x}for(x=0;x<=a.subdivisions;x++)for(n=
0;n<=a.subdivisions;n++){var k=new c.e(n*a.width/a.subdivisions-a.width/2,0,(a.subdivisions-x)*a.height/a.subdivisions-a.height/2),m=4*(((k.x+a.width/2)/a.width*(a.bufferWidth-1)|0)+((1-(k.z+a.height/2)/a.height)*(a.bufferHeight-1)|0)*a.bufferWidth),A=a.buffer[m]/255,p=a.buffer[m+1]/255,u=a.buffer[m+2]/255;m=a.buffer[m+3]/255;C&&(A=1-A,p=1-p,u=1-u);A=A*q.r+p*q.g+u*q.b;k.y=m>=E?a.minHeight+(a.maxHeight-a.minHeight)*A:a.minHeight-f.a;e.push(k.x,k.y,k.z);d.push(0,0,0);g.push(n/a.subdivisions,1-x/a.subdivisions)}for(x=
0;x<a.subdivisions;x++)for(n=0;n<a.subdivisions;n++)q=n+1+(x+1)*(a.subdivisions+1),E=n+1+x*(a.subdivisions+1),C=n+x*(a.subdivisions+1),k=n+(x+1)*(a.subdivisions+1),A=e[3*q+1]>=a.minHeight,p=e[3*E+1]>=a.minHeight,u=e[3*C+1]>=a.minHeight,A&&p&&u&&(b.push(q),b.push(E),b.push(C)),e[3*k+1]>=a.minHeight&&A&&u&&(b.push(k),b.push(q),b.push(C));r.a.ComputeNormals(e,b,d);a=new r.a;a.indices=b;a.positions=e;a.normals=d;a.uvs=g;return a};B.a.CreateGround=function(a,b,c,e,f,n){return q.CreateGround(a,{width:b,
height:c,subdivisions:e,updatable:n},f)};B.a.CreateTiledGround=function(a,b,c,e,f,n,d,r,v){return q.CreateTiledGround(a,{xmin:b,zmin:c,xmax:e,zmax:f,subdivisions:n,precision:d,updatable:v},r)};B.a.CreateGroundFromHeightMap=function(a,b,c,e,f,n,d,r,v,x,k){return q.CreateGroundFromHeightMap(a,b,{width:c,height:e,subdivisions:f,minHeight:n,maxHeight:d,updatable:v,onReady:x,alphaFilter:k},r)};var q=function(){function c(){}c.CreateGround=function(a,c,e){a=new b.a(a,e);a._setReady(!1);a._subdivisionsX=
c.subdivisionsX||c.subdivisions||1;a._subdivisionsY=c.subdivisionsY||c.subdivisions||1;a._width=c.width||1;a._height=c.height||1;a._maxX=a._width/2;a._maxZ=a._height/2;a._minX=-a._maxX;a._minZ=-a._maxZ;r.a.CreateGround(c).applyToMesh(a,c.updatable);a._setReady(!0);return a};c.CreateTiledGround=function(a,b,c){void 0===c&&(c=null);a=new B.a(a,c);r.a.CreateTiledGround(b).applyToMesh(a,b.updatable);return a};c.CreateGroundFromHeightMap=function(c,f,d,g){void 0===g&&(g=null);var h=d.width||10,l=d.height||
10,q=d.subdivisions||1,H=d.minHeight||0,x=d.maxHeight||1,k=d.colorFilter||new v.a(.3,.59,.11),m=d.alphaFilter||0,A=d.updatable,p=d.onReady;g=g||n.a.LastCreatedScene;var u=new b.a(c,g);u._subdivisionsX=q;u._subdivisionsY=q;u._width=h;u._height=l;u._maxX=u._width/2;u._maxZ=u._height/2;u._minX=-u._maxX;u._minZ=-u._maxZ;u._setReady(!1);a.b.LoadImage(f,function(a){var b=a.width,c=a.height,f=e.a.CreateCanvas(b,c).getContext("2d");if(!f)throw Error("Unable to get 2d context for CreateGroundFromHeightMap");
g.isDisposed||(f.drawImage(a,0,0),a=f.getImageData(0,0,b,c).data,r.a.CreateGroundFromHeightMap({width:h,height:l,subdivisions:q,minHeight:H,maxHeight:x,colorFilter:k,buffer:a,bufferWidth:b,bufferHeight:c,alphaFilter:m}).applyToMesh(u,A),p&&p(u),u._setReady(!0))},function(){},g.offlineProvider);return u};return c}()},cykt:function(J,G,d){d.d(G,"a",function(){return B});var c=d("wAMR"),v=d("UtUh");v.a.CreateTiledPlane=function(d){var b=d.pattern||c.a.NO_FLIP,a=d.tileWidth||d.tileSize||1,n=d.tileHeight||
d.tileSize||1,f=d.alignHorizontal||0,e=d.alignVertical||0,q=d.width||d.size||1,g=Math.floor(q/a),r=q-g*a;q=d.height||d.size||1;var h=Math.floor(q/n),D=q-h*n,l=a*g/2,w=n*h/2,t=0,E=0,C=0,x=0,k=0,m=0;if(0<r||0<D){C=-l;x=-w;k=l;m=w;switch(f){case c.a.CENTER:r/=2;C-=r;k+=r;break;case c.a.LEFT:k+=r;t=-r/2;break;case c.a.RIGHT:C-=r,t=r/2}switch(e){case c.a.CENTER:D/=2;x-=D;m+=D;break;case c.a.BOTTOM:m+=D;E=-D/2;break;case c.a.TOP:x-=D,E=D/2}}q=[];var A=[],p=[[0,0,1,0,1,1,0,1],[0,0,1,0,1,1,0,1]];if(b===c.a.ROTATE_TILE||
b===c.a.ROTATE_ROW)p[1]=[1,1,0,1,0,0,1,0];if(b===c.a.FLIP_TILE||b===c.a.FLIP_ROW)p[1]=[1,0,0,0,0,1,1,1];if(b===c.a.FLIP_N_ROTATE_TILE||b===c.a.FLIP_N_ROTATE_ROW)p[1]=[0,1,1,1,1,0,0,0];for(var u=[],K=[],M=[],F=0,y=0;y<h;y++)for(var z=0;z<g;z++)q.push(-l+z*a+t,-w+y*n+E,0),q.push(-l+(z+1)*a+t,-w+y*n+E,0),q.push(-l+(z+1)*a+t,-w+(y+1)*n+E,0),q.push(-l+z*a+t,-w+(y+1)*n+E,0),M.push(F,F+1,F+3,F+1,F+2,F+3),u=b===c.a.FLIP_TILE||b===c.a.ROTATE_TILE||b===c.a.FLIP_N_ROTATE_TILE?u.concat(p[(z%2+y%2)%2]):b===c.a.FLIP_ROW||
b===c.a.ROTATE_ROW||b===c.a.FLIP_N_ROTATE_ROW?u.concat(p[y%2]):u.concat(p[0]),K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1),F+=4;if(0<r||0<D){var B=0<D&&(e===c.a.CENTER||e===c.a.TOP),G=0<D&&(e===c.a.CENTER||e===c.a.BOTTOM);e=0<r&&(f===c.a.CENTER||f===c.a.RIGHT);f=0<r&&(f===c.a.CENTER||f===c.a.LEFT);if(B&&e){q.push(C+t,x+E,0);q.push(-l+t,x+E,0);q.push(-l+t,x+D+E,0);q.push(C+t,x+D+E,0);M.push(F,F+1,F+3,F+1,F+2,F+3);F+=4;z=1-r/a;y=1-D/n;var I=p=1;var J=[z,y,p,y,p,I,z,I];
b===c.a.ROTATE_ROW&&(J=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I]);b===c.a.FLIP_ROW&&(J=[1-z,y,1-p,y,1-p,I,1-z,I]);b===c.a.FLIP_N_ROTATE_ROW&&(J=[z,1-y,p,1-y,p,1-I,z,1-I]);u=u.concat(J);K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(B&&f){q.push(l+t,x+E,0);q.push(k+t,x+E,0);q.push(k+t,x+D+E,0);q.push(l+t,x+D+E,0);M.push(F,F+1,F+3,F+1,F+2,F+3);F+=4;z=0;y=1-D/n;p=r/a;I=1;J=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_ROW||b===c.a.ROTATE_TILE&&0===g%2)J=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];
if(b===c.a.FLIP_ROW||b===c.a.FLIP_TILE&&0===g%2)J=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_ROW||b===c.a.FLIP_N_ROTATE_TILE&&0===g%2)J=[z,1-y,p,1-y,p,1-I,z,1-I];u=u.concat(J);K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(G&&e){q.push(C+t,w+E,0);q.push(-l+t,w+E,0);q.push(-l+t,m+E,0);q.push(C+t,m+E,0);M.push(F,F+1,F+3,F+1,F+2,F+3);F+=4;z=1-r/a;y=0;p=1;I=D/n;J=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_ROW&&1===h%2||b===c.a.ROTATE_TILE&&0===h%1)J=[1-z,1-y,1-p,1-y,1-
p,1-I,1-z,1-I];if(b===c.a.FLIP_ROW&&1===h%2||b===c.a.FLIP_TILE&&0===h%2)J=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_ROW&&1===h%2||b===c.a.FLIP_N_ROTATE_TILE&&0===h%2)J=[z,1-y,p,1-y,p,1-I,z,1-I];u=u.concat(J);K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(G&&f){q.push(l+t,w+E,0);q.push(k+t,w+E,0);q.push(k+t,m+E,0);q.push(l+t,m+E,0);M.push(F,F+1,F+3,F+1,F+2,F+3);F+=4;y=z=0;p=r/a;I=D/n;J=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_ROW&&1===h%2||b===c.a.ROTATE_TILE&&1===
(h+g)%2)J=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];if(b===c.a.FLIP_ROW&&1===h%2||b===c.a.FLIP_TILE&&1===(h+g)%2)J=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_ROW&&1===h%2||b===c.a.FLIP_N_ROTATE_TILE&&1===(h+g)%2)J=[z,1-y,p,1-y,p,1-I,z,1-I];u=u.concat(J);K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(B){B=[];z=0;y=1-D/n;I=p=1;B[0]=[z,y,p,y,p,I,z,I];B[1]=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_TILE||b===c.a.ROTATE_ROW)B[1]=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];if(b===c.a.FLIP_TILE||
b===c.a.FLIP_ROW)B[1]=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_TILE||b===c.a.FLIP_N_ROTATE_ROW)B[1]=[z,1-y,p,1-y,p,1-I,z,1-I];for(z=0;z<g;z++)q.push(-l+z*a+t,x+E,0),q.push(-l+(z+1)*a+t,x+E,0),q.push(-l+(z+1)*a+t,x+D+E,0),q.push(-l+z*a+t,x+D+E,0),M.push(F,F+1,F+3,F+1,F+2,F+3),F+=4,u=b===c.a.FLIP_TILE||b===c.a.ROTATE_TILE||b===c.a.FLIP_N_ROTATE_TILE?u.concat(B[(z+1)%2]):b===c.a.FLIP_ROW||b===c.a.ROTATE_ROW||b===c.a.FLIP_N_ROTATE_ROW?u.concat(B[1]):u.concat(B[0]),K.push(1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1),A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(G){x=[];y=z=0;p=1;I=D/n;x[0]=[z,y,p,y,p,I,z,I];x[1]=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_TILE||b===c.a.ROTATE_ROW)x[1]=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];if(b===c.a.FLIP_TILE||b===c.a.FLIP_ROW)x[1]=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_TILE||b===c.a.FLIP_N_ROTATE_ROW)x[1]=[z,1-y,p,1-y,p,1-I,z,1-I];for(z=0;z<g;z++)q.push(-l+z*a+t,m-D+E,0),q.push(-l+(z+1)*a+t,m-D+E,0),q.push(-l+(z+1)*a+t,m+E,0),q.push(-l+z*a+t,m+E,0),M.push(F,F+1,F+3,F+
1,F+2,F+3),F+=4,u=b===c.a.FLIP_TILE||b===c.a.ROTATE_TILE||b===c.a.FLIP_N_ROTATE_TILE?u.concat(x[(z+h)%2]):b===c.a.FLIP_ROW||b===c.a.ROTATE_ROW||b===c.a.FLIP_N_ROTATE_ROW?u.concat(x[h%2]):u.concat(x[0]),K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(e){D=[];z=1-r/a;y=0;I=p=1;D[0]=[z,y,p,y,p,I,z,I];D[1]=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_TILE||b===c.a.ROTATE_ROW)D[1]=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];if(b===c.a.FLIP_TILE||b===c.a.FLIP_ROW)D[1]=[1-z,y,1-p,y,1-p,I,1-z,
I];if(b===c.a.FLIP_N_ROTATE_TILE||b===c.a.FLIP_N_ROTATE_ROW)D[1]=[z,1-y,p,1-y,p,1-I,z,1-I];for(y=0;y<h;y++)q.push(C+t,-w+y*n+E,0),q.push(C+r+t,-w+y*n+E,0),q.push(C+r+t,-w+(y+1)*n+E,0),q.push(C+t,-w+(y+1)*n+E,0),M.push(F,F+1,F+3,F+1,F+2,F+3),F+=4,u=b===c.a.FLIP_TILE||b===c.a.ROTATE_TILE||b===c.a.FLIP_N_ROTATE_TILE?u.concat(D[(y+1)%2]):b===c.a.FLIP_ROW||b===c.a.ROTATE_ROW||b===c.a.FLIP_N_ROTATE_ROW?u.concat(D[y%2]):u.concat(D[0]),K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),A.push(0,0,-1,0,0,-1,0,0,-1,0,
0,-1)}if(f){a=[];y=z=0;p=r/n;I=1;a[0]=[z,y,p,y,p,I,z,I];a[1]=[z,y,p,y,p,I,z,I];if(b===c.a.ROTATE_TILE||b===c.a.ROTATE_ROW)a[1]=[1-z,1-y,1-p,1-y,1-p,1-I,1-z,1-I];if(b===c.a.FLIP_TILE||b===c.a.FLIP_ROW)a[1]=[1-z,y,1-p,y,1-p,I,1-z,I];if(b===c.a.FLIP_N_ROTATE_TILE||b===c.a.FLIP_N_ROTATE_ROW)a[1]=[z,1-y,p,1-y,p,1-I,z,1-I];for(y=0;y<h;y++)q.push(k-r+t,-w+y*n+E,0),q.push(k+t,-w+y*n+E,0),q.push(k+t,-w+(y+1)*n+E,0),q.push(k-r+t,-w+(y+1)*n+E,0),M.push(F,F+1,F+3,F+1,F+2,F+3),F+=4,u=b===c.a.FLIP_TILE||b===c.a.ROTATE_TILE||
b===c.a.FLIP_N_ROTATE_TILE?u.concat(a[(y+g)%2]):b===c.a.FLIP_ROW||b===c.a.ROTATE_ROW||b===c.a.FLIP_N_ROTATE_ROW?u.concat(a[y%2]):u.concat(a[0]),K.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),A.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}}b=0===d.sideOrientation?0:d.sideOrientation||v.a.DEFAULTSIDE;v.a._ComputeSides(b,q,M,A,u,d.frontUVs,d.backUVs);d=new v.a;d.indices=M;d.positions=q;d.normals=A;d.uvs=u;b=b===v.a.DOUBLESIDE?K.concat(K):K;d.colors=b;return d};var B=function(){function d(){}d.CreateTiledPlane=function(b,
a,d){void 0===d&&(d=null);b=new c.a(b,d);a.sideOrientation=c.a._GetDefaultSideOrientation(a.sideOrientation);b._originalBuilderSideOrientation=a.sideOrientation;v.a.CreateTiledPlane(a).applyToMesh(b,a.updatable);return b};return d}()},dhMq:function(J,G,d){d.d(G,"a",function(){return r});var c=d("/SR9"),v=d("wAMR"),B=d("UtUh");B.a.CreateIcoSphere=function(b){var a=b.sideOrientation||B.a.DEFAULTSIDE,d=b.radius||1,f=void 0===b.flat?!0:b.flat,e=b.subdivisions||4,q=b.radiusX||d,g=b.radiusY||d,r=b.radiusZ||
d,h=(1+Math.sqrt(5))/2;h=[-1,h,-0,1,h,0,-1,-h,0,1,-h,0,0,-1,-h,0,1,-h,0,-1,h,0,1,h,h,0,1,h,0,-1,-h,0,1,-h,0,-1];var v=[0,11,5,0,5,1,0,1,7,0,7,10,12,22,23,1,5,20,5,11,4,23,22,13,22,18,6,7,1,8,14,21,4,14,4,2,16,13,6,15,6,19,3,8,9,4,21,5,13,17,23,6,13,22,19,6,18,9,8,1],l=[0,1,2,3,4,5,6,7,8,9,10,11,0,2,3,3,3,4,7,8,9,9,10,11],w=[5,1,3,1,6,4,0,0,5,3,4,2,2,2,4,0,2,0,1,1,6,0,6,2,0,4,3,3,4,4,3,1,4,2,4,4,0,2,1,1,2,2,3,3,1,3,2,4],t=[0,0,0,0,1,0,0,1,1,0,0,0,1,1,0,0,1,1,1,0],E=[],C=[],x=[],k=[],m=0,A=Array(3),
p=Array(3),u;for(u=0;3>u;u++)A[u]=c.e.Zero(),p[u]=c.d.Zero();for(var K=0;20>K;K++){for(u=0;3>u;u++){var M=v[3*K+u];A[u].copyFromFloats(h[3*l[M]],h[3*l[M]+1],h[3*l[M]+2]);A[u].normalize().scaleInPlace(d);p[u].copyFromFloats(.134765625*w[2*M]+.05859375+-.0390625*t[K],.2333984375*w[2*M+1]+.025390625+.01953125*t[K])}u=function(a,b,d,n){var h=c.e.Lerp(A[0],A[2],b/e),l=c.e.Lerp(A[1],A[2],b/e);h=e===b?A[2]:c.e.Lerp(h,l,a/(e-b));h.normalize();if(f){l=c.e.Lerp(A[0],A[2],n/e);var u=c.e.Lerp(A[1],A[2],n/e);
d=c.e.Lerp(l,u,d/(e-n))}else d=new c.e(h.x,h.y,h.z);d.x/=q;d.y/=g;d.z/=r;d.normalize();n=c.d.Lerp(p[0],p[2],b/e);l=c.d.Lerp(p[1],p[2],b/e);a=e===b?p[2]:c.d.Lerp(n,l,a/(e-b));C.push(h.x*q,h.y*g,h.z*r);x.push(d.x,d.y,d.z);k.push(a.x,a.y);E.push(m);m++};for(M=0;M<e;M++)for(var F=0;F+M<e;F++)u(F,M,F+1/3,M+1/3),u(F+1,M,F+1/3,M+1/3),u(F,M+1,F+1/3,M+1/3),F+M+1<e&&(u(F+1,M,F+2/3,M+2/3),u(F+1,M+1,F+2/3,M+2/3),u(F,M+1,F+2/3,M+2/3))}B.a._ComputeSides(a,C,E,x,k,b.frontUVs,b.backUVs);b=new B.a;b.indices=E;b.positions=
C;b.normals=x;b.uvs=k;return b};v.a.CreateIcoSphere=function(b,a,c){return r.CreateIcoSphere(b,a,c)};var r=function(){function b(){}b.CreateIcoSphere=function(a,b,c){void 0===c&&(c=null);a=new v.a(a,c);b.sideOrientation=v.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;B.a.CreateIcoSphere(b).applyToMesh(a,b.updatable);return a};return b}()},e993:function(J,G,d){d.d(G,"a",function(){return B});var c=d("wAMR"),v=d("UtUh");v.a.CreateDisc=function(c){var b=
[],a=[],d=[],f=[],e=c.radius||.5,q=c.tessellation||64,g=c.arc&&(0>=c.arc||1<c.arc)?1:c.arc||1,r=0===c.sideOrientation?0:c.sideOrientation||v.a.DEFAULTSIDE;b.push(0,0,0);f.push(.5,.5);var h=2*Math.PI*g;h=1===g?h/q:h/(q-1);for(var D=0,l=0;l<q;l++){var w=Math.cos(D),t=Math.sin(D),B=(w+1)/2,C=(1-t)/2;b.push(e*w,e*t,0);f.push(B,C);D+=h}1===g&&(b.push(b[3],b[4],b[5]),f.push(f[2],f[3]));e=b.length/3;for(q=1;q<e-1;q++)a.push(q+1,0,q);v.a.ComputeNormals(b,a,d);v.a._ComputeSides(r,b,a,d,f,c.frontUVs,c.backUVs);
c=new v.a;c.indices=a;c.positions=b;c.normals=d;c.uvs=f;return c};c.a.CreateDisc=function(c,b,a,d,f,e){void 0===d&&(d=null);return B.CreateDisc(c,{radius:b,tessellation:a,sideOrientation:e,updatable:f},d)};var B=function(){function d(){}d.CreateDisc=function(b,a,d){void 0===d&&(d=null);b=new c.a(b,d);a.sideOrientation=c.a._GetDefaultSideOrientation(a.sideOrientation);b._originalBuilderSideOrientation=a.sideOrientation;v.a.CreateDisc(a).applyToMesh(b,a.updatable);return b};return d}()},eC2D:function(J,
G,d){d.d(G,"a",function(){return r});var c=d("/SR9"),v=d("wAMR"),B=d("O2A8");v.a.CreateLathe=function(b,a,c,d,e,q,g){return r.CreateLathe(b,{shape:a,radius:c,tessellation:d,sideOrientation:g,updatable:q},e)};var r=function(){function b(){}b.CreateLathe=function(a,b,d){void 0===d&&(d=null);var e=b.arc?0>=b.arc||1<b.arc?1:b.arc:1,f=void 0===b.closed?!0:b.closed,g=b.shape,n=b.radius||1,h=b.tessellation||64,r=b.clip||0,l=b.updatable,w=v.a._GetDefaultSideOrientation(b.sideOrientation),t=b.cap||v.a.NO_CAP,
E=[],C=b.invertUV||!1,x,k=2*Math.PI/h*e;for(e=0;e<=h-r;e++){var m=[];if(t==v.a.CAP_START||t==v.a.CAP_ALL)m.push(new c.e(0,g[0].y,0)),m.push(new c.e(Math.cos(e*k)*g[0].x*n,g[0].y,Math.sin(e*k)*g[0].x*n));for(x=0;x<g.length;x++){var A=new c.e(Math.cos(e*k)*g[x].x*n,g[x].y,Math.sin(e*k)*g[x].x*n);m.push(A)}if(t==v.a.CAP_END||t==v.a.CAP_ALL)m.push(new c.e(Math.cos(e*k)*g[g.length-1].x*n,g[g.length-1].y,Math.sin(e*k)*g[g.length-1].x*n)),m.push(new c.e(0,g[g.length-1].y,0));E.push(m)}return B.a.CreateRibbon(a,
{pathArray:E,closeArray:f,sideOrientation:w,updatable:l,invertUV:C,frontUVs:b.frontUVs,backUVs:b.backUVs},d)};return b}()},ikaq:function(J,G,d){d.d(G,"a",function(){return C});var c=d("oYeq"),v=d("YKqZ"),B=d("ps+7"),r=d("/SR9"),b=d("qUIE"),a=d("y4Ty"),n=d("UtUh"),f=d("qVgn"),e=d("Q86s"),q=d("T5H4"),g=d("O+AM"),H=d("n5HA"),h=d("lJNW"),D=d("Xeau"),l=d("MhaC"),w=d("SYzJ");J=d("WHS4");var t=function(){return function(){this.facetNb=0;this.partitioningSubdivisions=10;this.partitioningBBoxRatio=1.01;this.facetDataEnabled=
!1;this.facetParameters={};this.bbSize=r.e.Zero();this.subDiv={max:1,X:1,Y:1,Z:1};this.facetDepthSortEnabled=this.facetDepthSort=!1}}(),E=function(){return function(){this._hasVertexAlpha=!1;this._useVertexColors=!0;this._numBoneInfluencers=4;this._applyFog=!0;this._receiveShadows=!1;this._facetData=new t;this._visibility=1;this._skeleton=null;this._layerMask=268435455;this._computeBonesUsingShaders=!0;this._actAsRegularMesh=this._onlyForInstancesIntermediate=this._isActiveIntermediate=this._onlyForInstances=
this._isActive=!1;this._currentLOD=null;this._currentLODIsUpToDate=!1}}(),C=function(d){function k(a,c){void 0===c&&(c=null);var m=d.call(this,a,c,!1)||this;m._internalAbstractMeshDataInfo=new E;m.cullingStrategy=k.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY;m.onCollideObservable=new B.a;m.onCollisionPositionChangeObservable=new B.a;m.onMaterialChangedObservable=new B.a;m.definedFacingForward=!0;m._occlusionQuery=null;m._renderingGroup=null;m.alphaIndex=Number.MAX_VALUE;m.isVisible=!0;m.isPickable=!0;m.showSubMeshesBoundingBox=
!1;m.isBlocker=!1;m.enablePointerMoveEvents=!1;m._renderingGroupId=0;m._material=null;m.outlineColor=D.a.Red();m.outlineWidth=.02;m.overlayColor=D.a.Red();m.overlayAlpha=.5;m.useOctreeForRenderingSelection=!0;m.useOctreeForPicking=!0;m.useOctreeForCollisions=!0;m.alwaysSelectAsActiveMesh=!1;m.doNotSyncBoundingInfo=!1;m.actionManager=null;m._meshCollisionData=new g.a;m.ellipsoid=new r.e(.5,1,.5);m.ellipsoidOffset=new r.e(0,0,0);m.edgesWidth=1;m.edgesColor=new D.b(1,0,0,1);m._edgesRenderer=null;m._masterMesh=
null;m._boundingInfo=null;m._renderId=0;m._intersectionsInProgress=[];m._unIndexed=!1;m._lightSources=[];m._waitingData={lods:null,actions:null,freezeWorldMatrix:null};m._bonesTransformMatrices=null;m._transformMatrixTexture=null;m.onRebuildObservable=new B.a;m._onCollisionPositionChange=function(a,c,e){void 0===e&&(e=null);c.subtractToRef(m._meshCollisionData._oldPositionForCollisions,m._meshCollisionData._diffPositionForCollisions);m._meshCollisionData._diffPositionForCollisions.length()>b.a.CollisionsEpsilon&&
m.position.addInPlace(m._meshCollisionData._diffPositionForCollisions);e&&m.onCollideObservable.notifyObservers(e);m.onCollisionPositionChangeObservable.notifyObservers(m.position)};m.getScene().addMesh(m);m._resyncLightSources();return m}Object(c.d)(k,d);Object.defineProperty(k,"BILLBOARDMODE_NONE",{get:function(){return f.a.BILLBOARDMODE_NONE},enumerable:!1,configurable:!0});Object.defineProperty(k,"BILLBOARDMODE_X",{get:function(){return f.a.BILLBOARDMODE_X},enumerable:!1,configurable:!0});Object.defineProperty(k,
"BILLBOARDMODE_Y",{get:function(){return f.a.BILLBOARDMODE_Y},enumerable:!1,configurable:!0});Object.defineProperty(k,"BILLBOARDMODE_Z",{get:function(){return f.a.BILLBOARDMODE_Z},enumerable:!1,configurable:!0});Object.defineProperty(k,"BILLBOARDMODE_ALL",{get:function(){return f.a.BILLBOARDMODE_ALL},enumerable:!1,configurable:!0});Object.defineProperty(k,"BILLBOARDMODE_USE_POSITION",{get:function(){return f.a.BILLBOARDMODE_USE_POSITION},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,
"facetNb",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetNb},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"partitioningSubdivisions",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions},set:function(a){this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"partitioningBBoxRatio",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio},
set:function(a){this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"mustDepthSortFacets",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSort},set:function(a){this._internalAbstractMeshDataInfo._facetData.facetDepthSort=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"facetDepthSortFrom",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom},
set:function(a){this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"isFacetDataEnabled",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDataEnabled},enumerable:!1,configurable:!0});k.prototype._updateNonUniformScalingState=function(a){if(!d.prototype._updateNonUniformScalingState.call(this,a))return!1;this._markSubMeshesAsMiscDirty();return!0};Object.defineProperty(k.prototype,"onCollide",
{set:function(a){this._meshCollisionData._onCollideObserver&&this.onCollideObservable.remove(this._meshCollisionData._onCollideObserver);this._meshCollisionData._onCollideObserver=this.onCollideObservable.add(a)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"onCollisionPositionChange",{set:function(a){this._meshCollisionData._onCollisionPositionChangeObserver&&this.onCollisionPositionChangeObservable.remove(this._meshCollisionData._onCollisionPositionChangeObserver);this._meshCollisionData._onCollisionPositionChangeObserver=
this.onCollisionPositionChangeObservable.add(a)},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"visibility",{get:function(){return this._internalAbstractMeshDataInfo._visibility},set:function(a){this._internalAbstractMeshDataInfo._visibility!==a&&(this._internalAbstractMeshDataInfo._visibility=a,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"renderingGroupId",{get:function(){return this._renderingGroupId},set:function(a){this._renderingGroupId=
a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"material",{get:function(){return this._material},set:function(a){this._material!==a&&(this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0),(this._material=a)&&a.meshMap&&(a.meshMap[this.uniqueId]=this),this.onMaterialChangedObservable.hasObservers()&&this.onMaterialChangedObservable.notifyObservers(this),this.subMeshes&&this._unBindEffect())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,
"receiveShadows",{get:function(){return this._internalAbstractMeshDataInfo._receiveShadows},set:function(a){this._internalAbstractMeshDataInfo._receiveShadows!==a&&(this._internalAbstractMeshDataInfo._receiveShadows=a,this._markSubMeshesAsLightDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"hasVertexAlpha",{get:function(){return this._internalAbstractMeshDataInfo._hasVertexAlpha},set:function(a){this._internalAbstractMeshDataInfo._hasVertexAlpha!==a&&(this._internalAbstractMeshDataInfo._hasVertexAlpha=
a,this._markSubMeshesAsAttributesDirty(),this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"useVertexColors",{get:function(){return this._internalAbstractMeshDataInfo._useVertexColors},set:function(a){this._internalAbstractMeshDataInfo._useVertexColors!==a&&(this._internalAbstractMeshDataInfo._useVertexColors=a,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},
set:function(a){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==a&&(this._internalAbstractMeshDataInfo._computeBonesUsingShaders=a,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"numBoneInfluencers",{get:function(){return this._internalAbstractMeshDataInfo._numBoneInfluencers},set:function(a){this._internalAbstractMeshDataInfo._numBoneInfluencers!==a&&(this._internalAbstractMeshDataInfo._numBoneInfluencers=a,this._markSubMeshesAsAttributesDirty())},
enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"applyFog",{get:function(){return this._internalAbstractMeshDataInfo._applyFog},set:function(a){this._internalAbstractMeshDataInfo._applyFog!==a&&(this._internalAbstractMeshDataInfo._applyFog=a,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"layerMask",{get:function(){return this._internalAbstractMeshDataInfo._layerMask},set:function(a){a!==this._internalAbstractMeshDataInfo._layerMask&&
(this._internalAbstractMeshDataInfo._layerMask=a,this._resyncLightSources())},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"collisionMask",{get:function(){return this._meshCollisionData._collisionMask},set:function(a){this._meshCollisionData._collisionMask=isNaN(a)?-1:a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"collisionResponse",{get:function(){return this._meshCollisionData._collisionResponse},set:function(a){this._meshCollisionData._collisionResponse=
a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"collisionGroup",{get:function(){return this._meshCollisionData._collisionGroup},set:function(a){this._meshCollisionData._collisionGroup=isNaN(a)?-1:a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"surroundingMeshes",{get:function(){return this._meshCollisionData._surroundingMeshes},set:function(a){this._meshCollisionData._surroundingMeshes=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,
"lightSources",{get:function(){return this._lightSources},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"_positions",{get:function(){return null},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"skeleton",{get:function(){return this._internalAbstractMeshDataInfo._skeleton},set:function(a){var b=this._internalAbstractMeshDataInfo._skeleton;b&&b.needInitialSkinMatrix&&b._unregisterMeshWithPoseMatrix(this);a&&a.needInitialSkinMatrix&&a._registerMeshWithPoseMatrix(this);
this._internalAbstractMeshDataInfo._skeleton=a;this._internalAbstractMeshDataInfo._skeleton||(this._bonesTransformMatrices=null);this._markSubMeshesAsAttributesDirty()},enumerable:!1,configurable:!0});k.prototype.getClassName=function(){return"AbstractMesh"};k.prototype.toString=function(a){var b="Name: "+this.name+", isInstance: "+("InstancedMesh"!==this.getClassName()?"YES":"NO");b+=", # of submeshes: "+(this.subMeshes?this.subMeshes.length:0);var c=this._internalAbstractMeshDataInfo._skeleton;
c&&(b+=", skeleton: "+c.name);a&&(b+=", billboard mode: "+["NONE","X","Y",null,"Z",null,null,"ALL"][this.billboardMode],b+=", freeze wrld mat: "+(this._isWorldMatrixFrozen||this._waitingData.freezeWorldMatrix?"YES":"NO"));return b};k.prototype._getEffectiveParent=function(){return this._masterMesh&&this.billboardMode!==f.a.BILLBOARDMODE_NONE?this._masterMesh:d.prototype._getEffectiveParent.call(this)};k.prototype._getActionManagerForTrigger=function(a,b){void 0===b&&(b=!0);if(this.actionManager&&
(b||this.actionManager.isRecursive))if(a){if(this.actionManager.hasSpecificTrigger(a))return this.actionManager}else return this.actionManager;return this.parent?this.parent._getActionManagerForTrigger(a,!1):null};k.prototype._rebuild=function(){this.onRebuildObservable.notifyObservers(this);this._occlusionQuery&&(this._occlusionQuery=null);if(this.subMeshes)for(var a=0,b=this.subMeshes;a<b.length;a++)b[a]._rebuild()};k.prototype._resyncLightSources=function(){for(var a=this._lightSources.length=
0,b=this.getScene().lights;a<b.length;a++){var c=b[a];c.isEnabled()&&c.canAffectMesh(this)&&this._lightSources.push(c)}this._markSubMeshesAsLightDirty()};k.prototype._resyncLightSource=function(a){var b=a.isEnabled()&&a.canAffectMesh(this),c=this._lightSources.indexOf(a),m=!1;if(-1===c){if(!b)return;this._lightSources.push(a)}else{if(b)return;m=!0;this._lightSources.splice(c,1)}this._markSubMeshesAsLightDirty(m)};k.prototype._unBindEffect=function(){for(var a=0,b=this.subMeshes;a<b.length;a++)b[a].setEffect(null)};
k.prototype._removeLightSource=function(a,b){a=this._lightSources.indexOf(a);-1!==a&&(this._lightSources.splice(a,1),this._markSubMeshesAsLightDirty(b))};k.prototype._markSubMeshesAsDirty=function(a){if(this.subMeshes)for(var b=0,c=this.subMeshes;b<c.length;b++){var m=c[b];m._materialDefines&&a(m._materialDefines)}};k.prototype._markSubMeshesAsLightDirty=function(a){void 0===a&&(a=!1);this._markSubMeshesAsDirty(function(b){return b.markAsLightDirty(a)})};k.prototype._markSubMeshesAsAttributesDirty=
function(){this._markSubMeshesAsDirty(function(a){return a.markAsAttributesDirty()})};k.prototype._markSubMeshesAsMiscDirty=function(){this._markSubMeshesAsDirty(function(a){return a.markAsMiscDirty()})};Object.defineProperty(k.prototype,"scaling",{get:function(){return this._scaling},set:function(a){this._scaling=a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"isBlocked",{get:function(){return!1},enumerable:!1,configurable:!0});k.prototype.getLOD=function(a){return this};k.prototype.getTotalVertices=
function(){return 0};k.prototype.getTotalIndices=function(){return 0};k.prototype.getIndices=function(){return null};k.prototype.getVerticesData=function(a){return null};k.prototype.setVerticesData=function(a,b,c,e){return this};k.prototype.updateVerticesData=function(a,b,c,e){return this};k.prototype.setIndices=function(a,b){return this};k.prototype.isVerticesDataPresent=function(a){return!1};k.prototype.getBoundingInfo=function(){if(this._masterMesh)return this._masterMesh.getBoundingInfo();this._boundingInfo||
this._updateBoundingInfo();return this._boundingInfo};k.prototype.normalizeToUnitCube=function(a,b,c){void 0===a&&(a=!0);void 0===b&&(b=!1);return d.prototype.normalizeToUnitCube.call(this,a,b,c)};k.prototype.setBoundingInfo=function(a){this._boundingInfo=a;return this};Object.defineProperty(k.prototype,"useBones",{get:function(){return this.skeleton&&this.getScene().skeletonsEnabled&&this.isVerticesDataPresent(a.b.MatricesIndicesKind)&&this.isVerticesDataPresent(a.b.MatricesWeightsKind)},enumerable:!1,
configurable:!0});k.prototype._preActivate=function(){};k.prototype._preActivateForIntermediateRendering=function(a){};k.prototype._activate=function(a,b){this._renderId=a;return!0};k.prototype._postActivate=function(){};k.prototype._freeze=function(){};k.prototype._unFreeze=function(){};k.prototype.getWorldMatrix=function(){return this._masterMesh&&this.billboardMode===f.a.BILLBOARDMODE_NONE?this._masterMesh.getWorldMatrix():d.prototype.getWorldMatrix.call(this)};k.prototype._getWorldMatrixDeterminant=
function(){return this._masterMesh?this._masterMesh._getWorldMatrixDeterminant():d.prototype._getWorldMatrixDeterminant.call(this)};Object.defineProperty(k.prototype,"isAnInstance",{get:function(){return!1},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"hasInstances",{get:function(){return!1},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"hasThinInstances",{get:function(){return!1},enumerable:!1,configurable:!0});k.prototype.movePOV=function(a,b,c){this.position.addInPlace(this.calcMovePOV(a,
b,c));return this};k.prototype.calcMovePOV=function(a,b,c){var m=new r.a;(this.rotationQuaternion?this.rotationQuaternion:r.b.RotationYawPitchRoll(this.rotation.y,this.rotation.x,this.rotation.z)).toRotationMatrix(m);var e=r.e.Zero(),d=this.definedFacingForward?-1:1;r.e.TransformCoordinatesFromFloatsToRef(a*d,b,c*d,m,e);return e};k.prototype.rotatePOV=function(a,b,c){this.rotation.addInPlace(this.calcRotatePOV(a,b,c));return this};k.prototype.calcRotatePOV=function(a,b,c){var m=this.definedFacingForward?
1:-1;return new r.e(a*m,b,c*m)};k.prototype.refreshBoundingInfo=function(a){void 0===a&&(a=!1);if(this._boundingInfo&&this._boundingInfo.isLocked)return this;this._refreshBoundingInfo(this._getPositionData(a),null);return this};k.prototype._refreshBoundingInfo=function(a,b){a&&(b=Object(h.a)(a,0,this.getTotalVertices(),b),this._boundingInfo?this._boundingInfo.reConstruct(b.minimum,b.maximum):this._boundingInfo=new q.a(b.minimum,b.maximum));if(this.subMeshes)for(b=0;b<this.subMeshes.length;b++)this.subMeshes[b].refreshBoundingInfo(a);
this._updateBoundingInfo()};k.prototype._getPositionData=function(b){var c=this.getVerticesData(a.b.PositionKind);if(c&&b&&this.skeleton){c=v.b.Slice(c);this._generatePointsArray();b=this.getVerticesData(a.b.MatricesIndicesKind);var m=this.getVerticesData(a.b.MatricesWeightsKind);if(m&&b){var e=4<this.numBoneInfluencers,d=e?this.getVerticesData(a.b.MatricesIndicesExtraKind):null,f=e?this.getVerticesData(a.b.MatricesWeightsExtraKind):null;this.skeleton.prepare();for(var h=this.skeleton.getTransformMatrices(this),
g=r.c.Vector3[0],n=r.c.Matrix[0],k=r.c.Matrix[1],l=0,q=0;q<c.length;q+=3,l+=4){n.reset();var t;for(t=0;4>t;t++){var w=m[l+t];0<w&&(r.a.FromFloat32ArrayToRefScaled(h,Math.floor(16*b[l+t]),w,k),n.addToSelf(k))}if(e)for(t=0;4>t;t++)w=f[l+t],0<w&&(r.a.FromFloat32ArrayToRefScaled(h,Math.floor(16*d[l+t]),w,k),n.addToSelf(k));r.e.TransformCoordinatesFromFloatsToRef(c[q],c[q+1],c[q+2],n,g);g.toArray(c,q);this._positions&&this._positions[q/3].copyFrom(g)}}}return c};k.prototype._updateBoundingInfo=function(){var a=
this._effectiveMesh;this._boundingInfo?this._boundingInfo.update(a.worldMatrixFromCache):this._boundingInfo=new q.a(this.absolutePosition,this.absolutePosition,a.worldMatrixFromCache);this._updateSubMeshesBoundingInfo(a.worldMatrixFromCache);return this};k.prototype._updateSubMeshesBoundingInfo=function(a){if(!this.subMeshes)return this;for(var b=this.subMeshes.length,c=0;c<b;c++){var m=this.subMeshes[c];(1<b||!m.IsGlobal)&&m.updateBoundingInfo(a)}return this};k.prototype._afterComputeWorldMatrix=
function(){this.doNotSyncBoundingInfo||this._updateBoundingInfo()};Object.defineProperty(k.prototype,"_effectiveMesh",{get:function(){return this.skeleton&&this.skeleton.overrideMesh||this},enumerable:!1,configurable:!0});k.prototype.isInFrustum=function(a){return null!==this._boundingInfo&&this._boundingInfo.isInFrustum(a,this.cullingStrategy)};k.prototype.isCompletelyInFrustum=function(a){return null!==this._boundingInfo&&this._boundingInfo.isCompletelyInFrustum(a)};k.prototype.intersectsMesh=function(a,
b,c){void 0===b&&(b=!1);if(!this._boundingInfo||!a._boundingInfo)return!1;if(this._boundingInfo.intersects(a._boundingInfo,b))return!0;if(c){c=0;for(var m=this.getChildMeshes();c<m.length;c++)if(m[c].intersectsMesh(a,b,!0))return!0}return!1};k.prototype.intersectsPoint=function(a){return this._boundingInfo?this._boundingInfo.intersectsPoint(a):!1};Object.defineProperty(k.prototype,"checkCollisions",{get:function(){return this._meshCollisionData._checkCollisions},set:function(a){this._meshCollisionData._checkCollisions=
a},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"collider",{get:function(){return this._meshCollisionData._collider},enumerable:!1,configurable:!0});k.prototype.moveWithCollisions=function(a){this.getAbsolutePosition().addToRef(this.ellipsoidOffset,this._meshCollisionData._oldPositionForCollisions);var b=this.getScene().collisionCoordinator;this._meshCollisionData._collider||(this._meshCollisionData._collider=b.createCollider());this._meshCollisionData._collider._radius=this.ellipsoid;
b.getNewPosition(this._meshCollisionData._oldPositionForCollisions,a,this._meshCollisionData._collider,3,this,this._onCollisionPositionChange,this.uniqueId);return this};k.prototype._collideForSubMesh=function(a,b,c){this._generatePointsArray();if(!this._positions)return this;if(!a._lastColliderWorldVertices||!a._lastColliderTransformMatrix.equals(b)){a._lastColliderTransformMatrix=b.clone();a._lastColliderWorldVertices=[];a._trianglePlanes=[];for(var m=a.verticesStart+a.verticesCount,e=a.verticesStart;e<
m;e++)a._lastColliderWorldVertices.push(r.e.TransformCoordinates(this._positions[e],b))}c._collide(a._trianglePlanes,a._lastColliderWorldVertices,this.getIndices(),a.indexStart,a.indexStart+a.indexCount,a.verticesStart,!!a.getMaterial(),this);return this};k.prototype._processCollisionsForSubMeshes=function(a,b){for(var c=this._scene.getCollidingSubMeshCandidates(this,a),m=c.length,e=0;e<m;e++){var d=c.data[e];1<m&&!d._checkCollision(a)||this._collideForSubMesh(d,b,a)}return this};k.prototype._checkCollision=
function(a){if(!this._boundingInfo||!this._boundingInfo._checkCollision(a))return this;var b=r.c.Matrix[0],c=r.c.Matrix[1];r.a.ScalingToRef(1/a._radius.x,1/a._radius.y,1/a._radius.z,b);this.worldMatrixFromCache.multiplyToRef(b,c);this._processCollisionsForSubMeshes(a,c);return this};k.prototype._generatePointsArray=function(){return!1};k.prototype.intersects=function(a,b,c,d,f,h){var m;void 0===d&&(d=!1);void 0===h&&(h=!1);var g=new e.a,n="InstancedLinesMesh"===this.getClassName()||"LinesMesh"===
this.getClassName()?this.intersectionThreshold:0,k=this._boundingInfo;if(!this.subMeshes||!k||!(h||a.intersectsSphere(k.boundingSphere,n)&&a.intersectsBox(k.boundingBox,n)))return g;if(d)return g.hit=h?!1:!0,g.pickedMesh=h?null:this,g.distance=h?0:r.e.Distance(a.origin,k.boundingSphere.center),g.subMeshId=0,g;if(!this._generatePointsArray())return g;d=null;h=this._scene.getIntersectingSubMeshCandidates(this,a);n=h.length;for(var l=!1,p=0;p<n;p++){var u=h.data[p];if((u=u.getMaterial())&&(null===(m=
this.getIndices())||void 0===m?0:m.length)&&(7==u.fillMode||0==u.fillMode||1==u.fillMode||2==u.fillMode)){l=!0;break}}if(!l)return g.hit=!0,g.pickedMesh=this,g.distance=r.e.Distance(a.origin,k.boundingSphere.center),g.subMeshId=-1,g;for(p=0;p<n&&(u=h.data[p],1<n&&!u.canIntersects(a)||!((m=u.intersects(a,this._positions,this.getIndices(),b,c))&&(b||!d||m.distance<d.distance)&&(d=m,d.subMeshId=p,b)));p++);d&&(c=null!==f&&void 0!==f?f:this.skeleton&&this.skeleton.overrideMesh?this.skeleton.overrideMesh.getWorldMatrix():
this.getWorldMatrix(),b=r.c.Vector3[0],f=r.c.Vector3[1],r.e.TransformCoordinatesToRef(a.origin,c,b),a.direction.scaleToRef(d.distance,f),a=r.e.TransformNormal(f,c).addInPlace(b),g.hit=!0,g.distance=r.e.Distance(b,a),g.pickedPoint=a,g.pickedMesh=this,g.bu=d.bu||0,g.bv=d.bv||0,g.subMeshFaceId=d.faceId,g.faceId=d.faceId+h.data[d.subMeshId].indexStart/(-1!==this.getClassName().indexOf("LinesMesh")?2:3),g.subMeshId=d.subMeshId);return g};k.prototype.clone=function(a,b,c){return null};k.prototype.releaseSubMeshes=
function(){if(this.subMeshes)for(;this.subMeshes.length;)this.subMeshes[0].dispose();else this.subMeshes=[];return this};k.prototype.dispose=function(a,b){var c=this;void 0===b&&(b=!1);var e;this._scene.useMaterialMeshMap&&this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0);this.getScene().freeActiveMeshes();this.getScene().freeRenderingGroups();void 0!==this.actionManager&&null!==this.actionManager&&(this.actionManager.dispose(),this.actionManager=null);this._internalAbstractMeshDataInfo._skeleton=
null;this._transformMatrixTexture&&(this._transformMatrixTexture.dispose(),this._transformMatrixTexture=null);for(e=0;e<this._intersectionsInProgress.length;e++){var m=this._intersectionsInProgress[e],f=m._intersectionsInProgress.indexOf(this);m._intersectionsInProgress.splice(f,1)}this._intersectionsInProgress=[];this.getScene().lights.forEach(function(a){var b=a.includedOnlyMeshes.indexOf(c);-1!==b&&a.includedOnlyMeshes.splice(b,1);b=a.excludedMeshes.indexOf(c);-1!==b&&a.excludedMeshes.splice(b,
1);(b=a.getShadowGenerator())&&(a=b.getShadowMap())&&a.renderList&&(b=a.renderList.indexOf(c),-1!==b&&a.renderList.splice(b,1))});"InstancedMesh"===this.getClassName()&&"InstancedLinesMesh"===this.getClassName()||this.releaseSubMeshes();e=this.getScene().getEngine();this._occlusionQuery&&(this.isOcclusionQueryInProgress=!1,e.deleteQuery(this._occlusionQuery),this._occlusionQuery=null);e.wipeCaches();this.getScene().removeMesh(this);b&&this.material&&("MultiMaterial"===this.material.getClassName()?
this.material.dispose(!1,!0,!0):this.material.dispose(!1,!0));if(!a)for(e=0;e<this.getScene().particleSystems.length;e++)this.getScene().particleSystems[e].emitter===this&&(this.getScene().particleSystems[e].dispose(),e--);this._internalAbstractMeshDataInfo._facetData.facetDataEnabled&&this.disableFacetData();this.onAfterWorldMatrixUpdateObservable.clear();this.onCollideObservable.clear();this.onCollisionPositionChangeObservable.clear();this.onRebuildObservable.clear();d.prototype.dispose.call(this,
a,b)};k.prototype.addChild=function(a){a.setParent(this);return this};k.prototype.removeChild=function(a){a.setParent(null);return this};k.prototype._initFacetData=function(){var a=this._internalAbstractMeshDataInfo._facetData;a.facetNormals||(a.facetNormals=[]);a.facetPositions||(a.facetPositions=[]);a.facetPartitioning||(a.facetPartitioning=[]);a.facetNb=this.getIndices().length/3|0;a.partitioningSubdivisions=a.partitioningSubdivisions?a.partitioningSubdivisions:10;a.partitioningBBoxRatio=a.partitioningBBoxRatio?
a.partitioningBBoxRatio:1.01;for(var b=0;b<a.facetNb;b++)a.facetNormals[b]=r.e.Zero(),a.facetPositions[b]=r.e.Zero();a.facetDataEnabled=!0;return this};k.prototype.updateFacetData=function(){var b=this._internalAbstractMeshDataInfo._facetData;b.facetDataEnabled||this._initFacetData();var c=this.getVerticesData(a.b.PositionKind),e=this.getIndices(),d=this.getVerticesData(a.b.NormalKind),f=this.getBoundingInfo();if(b.facetDepthSort&&!b.facetDepthSortEnabled){b.facetDepthSortEnabled=!0;if(e instanceof
Uint16Array)b.depthSortedIndices=new Uint16Array(e);else if(e instanceof Uint32Array)b.depthSortedIndices=new Uint32Array(e);else{for(var g=!1,h=0;h<e.length;h++)if(65535<e[h]){g=!0;break}b.depthSortedIndices=g?new Uint32Array(e):new Uint16Array(e)}b.facetDepthSortFunction=function(a,b){return b.sqDistance-a.sqDistance};b.facetDepthSortFrom||(g=this.getScene().activeCamera,b.facetDepthSortFrom=g?g.position:r.e.Zero());b.depthSortedFacets=[];for(g=0;g<b.facetNb;g++)b.depthSortedFacets.push({ind:3*
g,sqDistance:0});b.invertedMatrix=r.a.Identity();b.facetDepthSortOrigin=r.e.Zero()}b.bbSize.x=f.maximum.x-f.minimum.x>l.a?f.maximum.x-f.minimum.x:l.a;b.bbSize.y=f.maximum.y-f.minimum.y>l.a?f.maximum.y-f.minimum.y:l.a;b.bbSize.z=f.maximum.z-f.minimum.z>l.a?f.maximum.z-f.minimum.z:l.a;g=b.bbSize.x>b.bbSize.y?b.bbSize.x:b.bbSize.y;g=g>b.bbSize.z?g:b.bbSize.z;b.subDiv.max=b.partitioningSubdivisions;b.subDiv.X=Math.floor(b.subDiv.max*b.bbSize.x/g);b.subDiv.Y=Math.floor(b.subDiv.max*b.bbSize.y/g);b.subDiv.Z=
Math.floor(b.subDiv.max*b.bbSize.z/g);b.subDiv.X=1>b.subDiv.X?1:b.subDiv.X;b.subDiv.Y=1>b.subDiv.Y?1:b.subDiv.Y;b.subDiv.Z=1>b.subDiv.Z?1:b.subDiv.Z;b.facetParameters.facetNormals=this.getFacetLocalNormals();b.facetParameters.facetPositions=this.getFacetLocalPositions();b.facetParameters.facetPartitioning=this.getFacetLocalPartitioning();b.facetParameters.bInfo=f;b.facetParameters.bbSize=b.bbSize;b.facetParameters.subDiv=b.subDiv;b.facetParameters.ratio=this.partitioningBBoxRatio;(b.facetParameters.depthSort=
b.facetDepthSort)&&b.facetDepthSortEnabled&&(this.computeWorldMatrix(!0),this._worldMatrix.invertToRef(b.invertedMatrix),r.e.TransformCoordinatesToRef(b.facetDepthSortFrom,b.invertedMatrix,b.facetDepthSortOrigin),b.facetParameters.distanceTo=b.facetDepthSortOrigin);b.facetParameters.depthSortedFacets=b.depthSortedFacets;n.a.ComputeNormals(c,e,d,b.facetParameters);if(b.facetDepthSort&&b.facetDepthSortEnabled){b.depthSortedFacets.sort(b.facetDepthSortFunction);c=b.depthSortedIndices.length/3|0;for(g=
0;g<c;g++)d=b.depthSortedFacets[g].ind,b.depthSortedIndices[3*g]=e[d],b.depthSortedIndices[3*g+1]=e[d+1],b.depthSortedIndices[3*g+2]=e[d+2];this.updateIndices(b.depthSortedIndices,void 0,!0)}return this};k.prototype.getFacetLocalNormals=function(){var a=this._internalAbstractMeshDataInfo._facetData;a.facetNormals||this.updateFacetData();return a.facetNormals};k.prototype.getFacetLocalPositions=function(){var a=this._internalAbstractMeshDataInfo._facetData;a.facetPositions||this.updateFacetData();
return a.facetPositions};k.prototype.getFacetLocalPartitioning=function(){var a=this._internalAbstractMeshDataInfo._facetData;a.facetPartitioning||this.updateFacetData();return a.facetPartitioning};k.prototype.getFacetPosition=function(a){var b=r.e.Zero();this.getFacetPositionToRef(a,b);return b};k.prototype.getFacetPositionToRef=function(a,b){a=this.getFacetLocalPositions()[a];var c=this.getWorldMatrix();r.e.TransformCoordinatesToRef(a,c,b);return this};k.prototype.getFacetNormal=function(a){var b=
r.e.Zero();this.getFacetNormalToRef(a,b);return b};k.prototype.getFacetNormalToRef=function(a,b){a=this.getFacetLocalNormals()[a];r.e.TransformNormalToRef(a,this.getWorldMatrix(),b);return this};k.prototype.getFacetsAtLocalCoordinates=function(a,b,c){var e=this.getBoundingInfo(),d=this._internalAbstractMeshDataInfo._facetData;a=Math.floor((a-e.minimum.x*d.partitioningBBoxRatio)*d.subDiv.X*d.partitioningBBoxRatio/d.bbSize.x);b=Math.floor((b-e.minimum.y*d.partitioningBBoxRatio)*d.subDiv.Y*d.partitioningBBoxRatio/
d.bbSize.y);c=Math.floor((c-e.minimum.z*d.partitioningBBoxRatio)*d.subDiv.Z*d.partitioningBBoxRatio/d.bbSize.z);return 0>a||a>d.subDiv.max||0>b||b>d.subDiv.max||0>c||c>d.subDiv.max?null:d.facetPartitioning[a+d.subDiv.max*b+d.subDiv.max*d.subDiv.max*c]};k.prototype.getClosestFacetAtCoordinates=function(a,b,c,e,d,f){void 0===d&&(d=!1);void 0===f&&(f=!0);var g=this.getWorldMatrix(),h=r.c.Matrix[5];g.invertToRef(h);var n=r.c.Vector3[8];r.e.TransformCoordinatesFromFloatsToRef(a,b,c,h,n);a=this.getClosestFacetAtLocalCoordinates(n.x,
n.y,n.z,e,d,f);e&&r.e.TransformCoordinatesFromFloatsToRef(e.x,e.y,e.z,g,e);return a};k.prototype.getClosestFacetAtLocalCoordinates=function(a,b,c,e,d,f){void 0===d&&(d=!1);void 0===f&&(f=!0);var g=null,h=this.getFacetLocalPositions(),n=this.getFacetLocalNormals(),k=this.getFacetsAtLocalCoordinates(a,b,c);if(!k)return null;for(var m=Number.MAX_VALUE,l,p=0;p<k.length;p++){l=k[p];var q=n[l];var u=h[l];var t=(a-u.x)*q.x+(b-u.y)*q.y+(c-u.z)*q.z;if(!d||d&&f&&0<=t||d&&!f&&0>=t){t=q.x*u.x+q.y*u.y+q.z*u.z;
var r=-(q.x*a+q.y*b+q.z*c-t)/(q.x*q.x+q.y*q.y+q.z*q.z);t=a+q.x*r;u=b+q.y*r;q=c+q.z*r;r=t-a;var w=u-b;var v=q-c;r=r*r+w*w+v*v;r<m&&(m=r,g=l,e&&(e.x=t,e.y=u,e.z=q))}}return g};k.prototype.getFacetDataParameters=function(){return this._internalAbstractMeshDataInfo._facetData.facetParameters};k.prototype.disableFacetData=function(){var a=this._internalAbstractMeshDataInfo._facetData;a.facetDataEnabled&&(a.facetDataEnabled=!1,a.facetPositions=[],a.facetNormals=[],a.facetPartitioning=[],a.facetParameters=
null,a.depthSortedIndices=new Uint32Array(0));return this};k.prototype.updateIndices=function(a,b,c){return this};k.prototype.createNormals=function(b){var c=this.getVerticesData(a.b.PositionKind),e=this.getIndices();var d=this.isVerticesDataPresent(a.b.NormalKind)?this.getVerticesData(a.b.NormalKind):[];n.a.ComputeNormals(c,e,d,{useRightHandedSystem:this.getScene().useRightHandedSystem});this.setVerticesData(a.b.NormalKind,d,b);return this};k.prototype.alignWithNormal=function(a,b){b||(b=w.a.Y);
var c=r.c.Vector3[0],e=r.c.Vector3[1];r.e.CrossToRef(b,a,e);r.e.CrossToRef(a,e,c);this.rotationQuaternion?r.b.RotationQuaternionFromAxisToRef(c,a,e,this.rotationQuaternion):r.e.RotationFromAxisToRef(c,a,e,this.rotation);return this};k.prototype._checkOcclusionQuery=function(){return!1};k.prototype.disableEdgesRendering=function(){throw H.a.WarnImport("EdgesRenderer");};k.prototype.enableEdgesRendering=function(a,b,c){throw H.a.WarnImport("EdgesRenderer");};k.prototype.getConnectedParticleSystems=
function(){var a=this;return this._scene.particleSystems.filter(function(b){return b.emitter===a})};k.OCCLUSION_TYPE_NONE=0;k.OCCLUSION_TYPE_OPTIMISTIC=1;k.OCCLUSION_TYPE_STRICT=2;k.OCCLUSION_ALGORITHM_TYPE_ACCURATE=0;k.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE=1;k.CULLINGSTRATEGY_STANDARD=0;k.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY=1;k.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION=2;k.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY=3;return k}(f.a);J.a.RegisteredTypes["BABYLON.AbstractMesh"]=C},lUEe:function(J,
G,d){d.d(G,"a",function(){return r});var c=d("UtUh"),v=d("/SR9"),B=d("wAMR");c.a.CreateCapsule=function(b){void 0===b&&(b={subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6});var a=Math.max(b.height?b.height:1,0),d=Math.max(b.radius?b.radius:.25,0),f=Math.max(b.capSubdivisions?b.capSubdivisions:6,1),e=Math.max(b.tessellation?b.tessellation:16,3),q=Math.max(b.subdivisions?b.subdivisions:2,1),g=Math.max(b.radiusTop?b.radiusTop:d,0),r=Math.max(b.radiusBottom?b.radiusBottom:d,0),h=
2*Math.PI,D=Math.max(b.topCapSubdivisions?b.topCapSubdivisions:f,1),l=Math.max(b.bottomCapSubdivisions?b.bottomCapSubdivisions:f,1),w=Math.acos((r-g)/a);f=[];d=[];var t=[],B=[],C=0,x=[],k=.5*(a-(g+r)),m=.5*Math.PI,A,p=v.e.Zero(),u=v.e.Zero(),G=Math.cos(w),J=Math.sin(w),F=(new v.d(g*J,k+g*G)).subtract(new v.d(r*J,-k+r*G)).length(),y=g*w+F+r*(m-w),z=0;for(A=0;A<=D;A++){var O=[];var L=m-A/D*w;z+=g*w/D;var I=Math.cos(L),T=Math.sin(L),U=I*g;for(L=0;L<=e;L++){var V=L/e,P=V*h,Q=Math.sin(P);P=Math.cos(P);
u.x=U*Q;u.y=k+T*g;u.z=U*P;d.push(u.x,u.y,u.z);p.set(I*Q,T,I*P);t.push(p.x,p.y,p.z);B.push(V,1-z/y);O.push(C);C++}x.push(O)}a=a-g-r+G*g-G*r;I=J*(r-g)/a;for(A=1;A<=q;A++){O=[];z+=F/q;U=J*(A*(r-g)/q+g);for(L=0;L<=e;L++)V=L/e,P=V*h,Q=Math.sin(P),P=Math.cos(P),u.x=U*Q,u.y=k+G*g-A*a/q,u.z=U*P,d.push(u.x,u.y,u.z),p.set(Q,I,P).normalize(),t.push(p.x,p.y,p.z),B.push(V,1-z/y),O.push(C),C++;x.push(O)}for(A=1;A<=l;A++){O=[];L=m-w-A/l*(Math.PI-w);z+=r*w/l;I=Math.cos(L);T=Math.sin(L);U=I*r;for(L=0;L<=e;L++)V=L/
e,P=V*h,Q=Math.sin(P),P=Math.cos(P),u.x=U*Q,u.y=-k+T*r,u.z=U*P,d.push(u.x,u.y,u.z),p.set(I*Q,T,I*P),t.push(p.x,p.y,p.z),B.push(V,1-z/y),O.push(C),C++;x.push(O)}for(L=0;L<e;L++)for(A=0;A<D+q+l;A++)g=x[A+1][L],r=x[A+1][L+1],h=x[A][L+1],f.push(x[A][L]),f.push(g),f.push(h),f.push(g),f.push(r),f.push(h);f=f.reverse();if(b.orientation&&!b.orientation.equals(v.e.Up()))for(e=new v.a,b.orientation.clone().scale(.5*Math.PI).cross(v.e.Up()).toQuaternion().toRotationMatrix(e),b=v.e.Zero(),q=0;q<d.length;q+=3)b.set(d[q],
d[q+1],d[q+2]),v.e.TransformCoordinatesToRef(b.clone(),e,b),d[q]=b.x,d[q+1]=b.y,d[q+2]=b.z;b=new c.a;b.positions=d;b.normals=t;b.uvs=B;b.indices=f;return b};B.a.CreateCapsule=function(b,a,c){return r.CreateCapsule(b,a,c)};var r=function(){function b(){}b.CreateCapsule=function(a,b,d){void 0===b&&(b={orientation:v.e.Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6});a=new B.a(a,d);c.a.CreateCapsule(b).applyToMesh(a);return a};return b}()},nY5k:function(J,G,d){d("QpEL")},"oW/l":function(J,
G,d){d.d(G,"a",function(){return B});var c=d("wAMR"),v=d("H22S");c.a.CreateHemisphere=function(c,b,a,d){return B.CreateHemisphere(c,{segments:b,diameter:a},d)};var B=function(){function d(){}d.CreateHemisphere=function(b,a,d){a.diameter||(a.diameter=1);a.segments||(a.segments=16);var f=v.a.CreateSphere("",{slice:.5,diameter:a.diameter,segments:a.segments},d);a=c.a.CreateDisc("",a.diameter/2,3*a.segments+(4-a.segments),d);a.rotation.x=-Math.PI/2;a.parent=f;f=c.a.MergeMeshes([a,f],!0);f.name=b;return f};
return d}()},qq9P:function(J,G,d){d.d(G,"a",function(){return r});var c=d("/SR9"),v=d("wAMR"),B=d("UtUh");B.a.CreateTorusKnot=function(b){var a=[],d=[],f=[],e=[],q=b.radius||2,g=b.tube||.5,r=b.radialSegments||32,h=b.tubularSegments||32,v=b.p||2,l=b.q||3,w=0===b.sideOrientation?0:b.sideOrientation||B.a.DEFAULTSIDE,t=function(a){var b=l/v*a,d=Math.cos(b);return new c.e(q*(2+d)*.5*Math.cos(a),q*(2+d)*Math.sin(a)*.5,q*Math.sin(b)*.5)},E;for(E=0;E<=r;E++){var C=E%r/r*2*v*Math.PI;var x=t(C),k=t(C+.01);
C=k.subtract(x);k=k.add(x);var m=c.e.Cross(C,k);k=c.e.Cross(m,C);m.normalize();k.normalize();for(C=0;C<h;C++){var A=C%h/h*2*Math.PI,p=-g*Math.cos(A);A=g*Math.sin(A);d.push(x.x+p*k.x+A*m.x);d.push(x.y+p*k.y+A*m.y);d.push(x.z+p*k.z+A*m.z);e.push(E/r);e.push(C/h)}}for(E=0;E<r;E++)for(C=0;C<h;C++)k=(C+1)%h,g=E*h+C,t=(E+1)*h+C,x=(E+1)*h+k,k=E*h+k,a.push(k),a.push(t),a.push(g),a.push(k),a.push(x),a.push(t);B.a.ComputeNormals(d,a,f);B.a._ComputeSides(w,d,a,f,e,b.frontUVs,b.backUVs);b=new B.a;b.indices=a;
b.positions=d;b.normals=f;b.uvs=e;return b};v.a.CreateTorusKnot=function(b,a,c,d,e,q,g,v,h,B){return r.CreateTorusKnot(b,{radius:a,tube:c,radialSegments:d,tubularSegments:e,p:q,q:g,sideOrientation:B,updatable:h},v)};var r=function(){function b(){}b.CreateTorusKnot=function(a,b,c){a=new v.a(a,c);b.sideOrientation=v.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;B.a.CreateTorusKnot(b).applyToMesh(a,b.updatable);return a};return b}()},s3JK:function(J,
G,d){d.d(G,"a",function(){return r});var c=d("/SR9"),v=d("wAMR"),B=d("UtUh");B.a.CreateTorus=function(b){for(var a=[],d=[],f=[],e=[],q=b.diameter||1,g=b.thickness||.5,r=b.tessellation||16,h=0===b.sideOrientation?0:b.sideOrientation||B.a.DEFAULTSIDE,v=r+1,l=0;l<=r;l++){var w=l/r,t=l*Math.PI*2/r-Math.PI/2;t=c.a.Translation(q/2,0,0).multiply(c.a.RotationY(t));for(var E=0;E<=r;E++){var C=1-E/r,x=E*Math.PI*2/r+Math.PI;x=new c.e(Math.cos(x),Math.sin(x),0);var k=x.scale(g/2);C=new c.d(w,C);k=c.e.TransformCoordinates(k,
t);x=c.e.TransformNormal(x,t);d.push(k.x,k.y,k.z);f.push(x.x,x.y,x.z);e.push(C.x,C.y);C=(l+1)%v;x=(E+1)%v;a.push(l*v+E);a.push(l*v+x);a.push(C*v+E);a.push(l*v+x);a.push(C*v+x);a.push(C*v+E)}}B.a._ComputeSides(h,d,a,f,e,b.frontUVs,b.backUVs);b=new B.a;b.indices=a;b.positions=d;b.normals=f;b.uvs=e;return b};v.a.CreateTorus=function(b,a,c,d,e,q,g){return r.CreateTorus(b,{diameter:a,thickness:c,tessellation:d,sideOrientation:g,updatable:q},e)};var r=function(){function b(){}b.CreateTorus=function(a,b,
c){a=new v.a(a,c);b.sideOrientation=v.a._GetDefaultSideOrientation(b.sideOrientation);a._originalBuilderSideOrientation=b.sideOrientation;B.a.CreateTorus(b).applyToMesh(a,b.updatable);return a};return b}()},y1QB:function(J,G,d){d("HZbn");d("aXRn");d("e993");d("O2A8");d("H22S");d("oW/l");d("5xLc");d("s3JK");d("qq9P");d("IIC5");d("RhQe");d("SgR9");d("eC2D");d("NNSw");d("cykt");d("bnDv");d("2Qj2");d("RV+K");d("dhMq");d("66Nj");d("lUEe")}}]);
