var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,q,e){l!=Array.prototype&&l!=Object.prototype&&(l[q]=e.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(l,q,e,k){if(q){e=$jscomp.global;l=l.split(".");for(k=0;k<l.length-1;k++){var h=l[k];h in e||(e[h]={});e=e[h]}l=l[l.length-1];k=e[l];q=q(k);q!=k&&null!=q&&$jscomp.defineProperty(e,l,{configurable:!0,writable:!0,value:q})}};$jscomp.arrayIteratorImpl=function(l){var q=0;return function(){return q<l.length?{done:!1,value:l[q++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(l,q){this.$jscomp$symbol$id_=l;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:q})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function l(e){if(this instanceof l)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(e||"")+"_"+q++,e)}var q=0;return l}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.iterator;l||(l=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[l]&&$jscomp.defineProperty(Array.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var l=$jscomp.global.Symbol.asyncIterator;l||(l=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(l){$jscomp.initSymbolIterator();l={next:l};l[$jscomp.global.Symbol.iterator]=function(){return this};return l};
$jscomp.iteratorFromArray=function(l,q){$jscomp.initSymbolIterator();l instanceof String&&(l+="");var e=0,k={next:function(){if(e<l.length){var h=e++;return{value:q(h,l[h]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};$jscomp.polyfill("Array.prototype.entries",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(l,e){return[l,e]})}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"+dXC":function(l,q,e){e.d(q,"a",function(){return f.a});var k=e("fHo7");e("T5H4");e("vvwx");var h=e("Bfey"),r=e("/SR9"),t=function(){function a(g,d,a,b,c,f){this.entries=[];this._boundingVectors=[];this._capacity=a;this._depth=b;this._maxDepth=c;this._creationFunc=f;this._minPoint=g;this._maxPoint=d;this._boundingVectors.push(g.clone());this._boundingVectors.push(d.clone());this._boundingVectors.push(g.clone());this._boundingVectors[2].x=
d.x;this._boundingVectors.push(g.clone());this._boundingVectors[3].y=d.y;this._boundingVectors.push(g.clone());this._boundingVectors[4].z=d.z;this._boundingVectors.push(d.clone());this._boundingVectors[5].z=g.z;this._boundingVectors.push(d.clone());this._boundingVectors[6].x=g.x;this._boundingVectors.push(d.clone());this._boundingVectors[7].y=g.y}Object.defineProperty(a.prototype,"capacity",{get:function(){return this._capacity},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"minPoint",
{get:function(){return this._minPoint},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"maxPoint",{get:function(){return this._maxPoint},enumerable:!1,configurable:!0});a.prototype.addEntry=function(a){if(this.blocks)for(var d=0;d<this.blocks.length;d++)this.blocks[d].addEntry(a);else this._creationFunc(a,this),this.entries.length>this.capacity&&this._depth<this._maxDepth&&this.createInnerBlocks()};a.prototype.removeEntry=function(a){if(this.blocks)for(var d=0;d<this.blocks.length;d++)this.blocks[d].removeEntry(a);
else a=this.entries.indexOf(a),-1<a&&this.entries.splice(a,1)};a.prototype.addEntries=function(a){for(var d=0;d<a.length;d++)this.addEntry(a[d])};a.prototype.select=function(a,d,b){if(k.a.IsInFrustum(this._boundingVectors,a))if(this.blocks)for(var g=0;g<this.blocks.length;g++)this.blocks[g].select(a,d,b);else b?d.concat(this.entries):d.concatWithNoDuplicate(this.entries)};a.prototype.intersects=function(a,d,b,c){if(k.a.IntersectsSphere(this._minPoint,this._maxPoint,a,d))if(this.blocks)for(var g=0;g<
this.blocks.length;g++)this.blocks[g].intersects(a,d,b,c);else c?b.concat(this.entries):b.concatWithNoDuplicate(this.entries)};a.prototype.intersectsRay=function(a,d){if(a.intersectsBoxMinMax(this._minPoint,this._maxPoint))if(this.blocks)for(var b=0;b<this.blocks.length;b++)this.blocks[b].intersectsRay(a,d);else d.concatWithNoDuplicate(this.entries)};a.prototype.createInnerBlocks=function(){a._CreateBlocks(this._minPoint,this._maxPoint,this.entries,this._capacity,this._depth,this._maxDepth,this,this._creationFunc)};
a._CreateBlocks=function(b,d,c,f,h,p,k,l){k.blocks=[];d=new r.e((d.x-b.x)/2,(d.y-b.y)/2,(d.z-b.z)/2);for(var g=0;2>g;g++)for(var m=0;2>m;m++)for(var n=0;2>n;n++){var e=b.add(d.multiplyByFloats(g,m,n)),v=b.add(d.multiplyByFloats(g+1,m+1,n+1));e=new a(e,v,f,h+1,p,l);e.addEntries(c);k.blocks.push(e)}};return a}(),p=function(){function a(a,d,b){void 0===b&&(b=2);this.maxDepth=b;this.dynamicContent=[];this._maxBlockCapacity=d||64;this._selectionContent=new h.b(1024);this._creationFunc=a}a.prototype.update=
function(a,d,b){t._CreateBlocks(a,d,b,this._maxBlockCapacity,0,this.maxDepth,this,this._creationFunc)};a.prototype.addMesh=function(a){for(var d=0;d<this.blocks.length;d++)this.blocks[d].addEntry(a)};a.prototype.removeMesh=function(a){for(var d=0;d<this.blocks.length;d++)this.blocks[d].removeEntry(a)};a.prototype.select=function(a,d){this._selectionContent.reset();for(var b=0;b<this.blocks.length;b++)this.blocks[b].select(a,this._selectionContent,d);d?this._selectionContent.concat(this.dynamicContent):
this._selectionContent.concatWithNoDuplicate(this.dynamicContent);return this._selectionContent};a.prototype.intersects=function(a,d,b){this._selectionContent.reset();for(var c=0;c<this.blocks.length;c++)this.blocks[c].intersects(a,d,this._selectionContent,b);b?this._selectionContent.concat(this.dynamicContent):this._selectionContent.concatWithNoDuplicate(this.dynamicContent);return this._selectionContent};a.prototype.intersectsRay=function(a){this._selectionContent.reset();for(var d=0;d<this.blocks.length;d++)this.blocks[d].intersectsRay(a,
this._selectionContent);this._selectionContent.concatWithNoDuplicate(this.dynamicContent);return this._selectionContent};a.CreationFuncForMeshes=function(a,d){var b=a.getBoundingInfo();!a.isBlocked&&b.boundingBox.intersectsMinMax(d.minPoint,d.maxPoint)&&d.entries.push(a)};a.CreationFuncForSubMeshes=function(a,d){a.getBoundingInfo().boundingBox.intersectsMinMax(d.minPoint,d.maxPoint)&&d.entries.push(a)};return a}();l=e("tVVT");q=e("ikaq");var f=e("2/Cc"),c=e("Yap0");l.a.prototype.createOrUpdateSelectionOctree=
function(a,g){void 0===a&&(a=64);void 0===g&&(g=2);var d=this._getComponent(c.a.NAME_OCTREE);d||(d=new b(this),this._addComponent(d));this._selectionOctree||(this._selectionOctree=new p(p.CreationFuncForMeshes,a,g));a=this.getWorldExtends();this._selectionOctree.update(a.min,a.max,this.meshes);return this._selectionOctree};Object.defineProperty(l.a.prototype,"selectionOctree",{get:function(){return this._selectionOctree},enumerable:!0,configurable:!0});q.a.prototype.createOrUpdateSubmeshesOctree=
function(a,g){void 0===a&&(a=64);void 0===g&&(g=2);var d=this.getScene(),f=d._getComponent(c.a.NAME_OCTREE);f||(f=new b(d),d._addComponent(f));this._submeshesOctree||(this._submeshesOctree=new p(p.CreationFuncForSubMeshes,a,g));this.computeWorldMatrix(!0);a=this.getBoundingInfo().boundingBox;this._submeshesOctree.update(a.minimumWorld,a.maximumWorld,this.subMeshes);return this._submeshesOctree};var b=function(){function a(a){this.name=c.a.NAME_OCTREE;this.checksIsEnabled=!0;this._tempRay=new f.a(r.e.Zero(),
new r.e(1,1,1));this.scene=a;this.scene.getActiveMeshCandidates=this.getActiveMeshCandidates.bind(this);this.scene.getActiveSubMeshCandidates=this.getActiveSubMeshCandidates.bind(this);this.scene.getCollidingSubMeshCandidates=this.getCollidingSubMeshCandidates.bind(this);this.scene.getIntersectingSubMeshCandidates=this.getIntersectingSubMeshCandidates.bind(this)}a.prototype.register=function(){var a=this;this.scene.onMeshRemovedObservable.add(function(d){var b=a.scene.selectionOctree;void 0!==b&&
null!==b&&(d=b.dynamicContent.indexOf(d),-1!==d&&b.dynamicContent.splice(d,1))});this.scene.onMeshImportedObservable.add(function(d){var b=a.scene.selectionOctree;void 0!==b&&null!==b&&b.addMesh(d)})};a.prototype.getActiveMeshCandidates=function(){return this.scene._selectionOctree?this.scene._selectionOctree.select(this.scene.frustumPlanes):this.scene._getDefaultMeshCandidates()};a.prototype.getActiveSubMeshCandidates=function(a){return a._submeshesOctree&&a.useOctreeForRenderingSelection?a._submeshesOctree.select(this.scene.frustumPlanes):
this.scene._getDefaultSubMeshCandidates(a)};a.prototype.getIntersectingSubMeshCandidates=function(a,d){return a._submeshesOctree&&a.useOctreeForPicking?(f.a.TransformToRef(d,a.getWorldMatrix(),this._tempRay),a._submeshesOctree.intersectsRay(this._tempRay)):this.scene._getDefaultSubMeshCandidates(a)};a.prototype.getCollidingSubMeshCandidates=function(a,d){return a._submeshesOctree&&a.useOctreeForCollisions?a._submeshesOctree.intersects(d._basePointWorld,d._velocityWorldLength+Math.max(d._radius.x,
d._radius.y,d._radius.z)):this.scene._getDefaultSubMeshCandidates(a)};a.prototype.rebuild=function(){};a.prototype.dispose=function(){};return a}()},"1m8g":function(l,q,e){e.d(q,"a",function(){return k});var k=function(){return function(h,k,l){this.bu=h;this.bv=k;this.distance=l;this.subMeshId=this.faceId=0}}()},"2/Cc":function(l,q,e){e.d(q,"a",function(){return p});var k=e("mHtN"),h=e("/SR9"),r=e("Q86s"),t=e("1m8g");l=e("tVVT");e=e("CAkI");var p=function(){function f(c,b,a){void 0===a&&(a=Number.MAX_VALUE);
this.origin=c;this.direction=b;this.length=a}f.prototype.intersectsBoxMinMax=function(c,b,a){void 0===a&&(a=0);c=f._TmpVector3[0].copyFromFloats(c.x-a,c.y-a,c.z-a);b=f._TmpVector3[1].copyFromFloats(b.x+a,b.y+a,b.z+a);a=0;var g=Number.MAX_VALUE;if(1E-7>Math.abs(this.direction.x)){if(this.origin.x<c.x||this.origin.x>b.x)return!1}else{var d=1/this.direction.x;var m=(c.x-this.origin.x)*d;d*=b.x-this.origin.x;-Infinity===d&&(d=Infinity);if(m>d){var n=m;m=d;d=n}a=Math.max(m,a);g=Math.min(d,g);if(a>g)return!1}if(1E-7>
Math.abs(this.direction.y)){if(this.origin.y<c.y||this.origin.y>b.y)return!1}else if(d=1/this.direction.y,m=(c.y-this.origin.y)*d,d*=b.y-this.origin.y,-Infinity===d&&(d=Infinity),m>d&&(n=m,m=d,d=n),a=Math.max(m,a),g=Math.min(d,g),a>g)return!1;if(1E-7>Math.abs(this.direction.z)){if(this.origin.z<c.z||this.origin.z>b.z)return!1}else if(d=1/this.direction.z,m=(c.z-this.origin.z)*d,d*=b.z-this.origin.z,-Infinity===d&&(d=Infinity),m>d&&(n=m,m=d,d=n),a=Math.max(m,a),g=Math.min(d,g),a>g)return!1;return!0};
f.prototype.intersectsBox=function(c,b){void 0===b&&(b=0);return this.intersectsBoxMinMax(c.minimum,c.maximum,b)};f.prototype.intersectsSphere=function(c,b){void 0===b&&(b=0);var a=c.center.x-this.origin.x,g=c.center.y-this.origin.y,d=c.center.z-this.origin.z,f=a*a+g*g+d*d;c=c.radius+b;c*=c;if(f<=c)return!0;a=a*this.direction.x+g*this.direction.y+d*this.direction.z;return 0>a?!1:f-a*a<=c};f.prototype.intersectsTriangle=function(c,b,a){var g=f._TmpVector3[0],d=f._TmpVector3[1],m=f._TmpVector3[2],n=
f._TmpVector3[3],k=f._TmpVector3[4];b.subtractToRef(c,g);a.subtractToRef(c,d);h.e.CrossToRef(this.direction,d,m);b=h.e.Dot(g,m);if(0===b)return null;b=1/b;this.origin.subtractToRef(c,n);c=h.e.Dot(n,m)*b;if(0>c||1<c)return null;h.e.CrossToRef(n,g,k);g=h.e.Dot(this.direction,k)*b;if(0>g||1<c+g)return null;d=h.e.Dot(d,k)*b;return d>this.length?null:new t.a(1-c-g,c,d)};f.prototype.intersectsPlane=function(c){var b=h.e.Dot(c.normal,this.direction);if(9.99999997475243E-7>Math.abs(b))return null;var a=h.e.Dot(c.normal,
this.origin);c=(-c.d-a)/b;return 0>c?-9.99999997475243E-7>c?null:0:c};f.prototype.intersectsAxis=function(c,b){void 0===b&&(b=0);switch(c){case "y":return c=(this.origin.y-b)/this.direction.y,0<c?null:new h.e(this.origin.x+this.direction.x*-c,b,this.origin.z+this.direction.z*-c);case "x":return c=(this.origin.x-b)/this.direction.x,0<c?null:new h.e(b,this.origin.y+this.direction.y*-c,this.origin.z+this.direction.z*-c);case "z":return c=(this.origin.z-b)/this.direction.z,0<c?null:new h.e(this.origin.x+
this.direction.x*-c,this.origin.y+this.direction.y*-c,b);default:return null}};f.prototype.intersectsMesh=function(c,b){var a=h.c.Matrix[0];c.getWorldMatrix().invertToRef(a);this._tmpRay?f.TransformToRef(this,a,this._tmpRay):this._tmpRay=f.Transform(this,a);return c.intersects(this._tmpRay,b)};f.prototype.intersectsMeshes=function(c,b,a){a?a.length=0:a=[];for(var g=0;g<c.length;g++){var d=this.intersectsMesh(c[g],b);d.hit&&a.push(d)}a.sort(this._comparePickingInfo);return a};f.prototype._comparePickingInfo=
function(c,b){return c.distance<b.distance?-1:c.distance>b.distance?1:0};f.prototype.intersectionSegment=function(c,b,a){var g=this.origin,d=h.c.Vector3[0],m=h.c.Vector3[1],n=h.c.Vector3[2],k=h.c.Vector3[3];b.subtractToRef(c,d);this.direction.scaleToRef(f.rayl,n);g.addToRef(n,m);c.subtractToRef(g,k);b=h.e.Dot(d,d);g=h.e.Dot(d,n);m=h.e.Dot(n,n);var p=h.e.Dot(d,k),l=h.e.Dot(n,k),e=b*m-g*g,q=e;c=e;if(e<f.smallnum){var u=0;q=1;e=l;c=m}else u=g*l-m*p,e=b*l-g*p,0>u?(u=0,e=l,c=m):u>q&&(u=q,e=l+g,c=m);0>
e?(e=0,0>-p?u=0:-p>b?u=q:(u=-p,q=b)):e>c&&(e=c,0>-p+g?u=0:-p+g>b?u=q:(u=-p+g,q=b));b=Math.abs(u)<f.smallnum?0:u/q;c=Math.abs(e)<f.smallnum?0:e/c;g=h.c.Vector3[4];n.scaleToRef(c,g);n=h.c.Vector3[5];d.scaleToRef(b,n);n.addInPlace(k);d=h.c.Vector3[6];n.subtractToRef(g,d);return 0<c&&c<=this.length&&d.lengthSquared()<a*a?n.length():-1};f.prototype.update=function(c,b,a,g,d,f,n){this.unprojectRayToRef(c,b,a,g,d,f,n);return this};f.Zero=function(){return new f(h.e.Zero(),h.e.Zero())};f.CreateNew=function(c,
b,a,g,d,m,n){return f.Zero().update(c,b,a,g,d,m,n)};f.CreateNewFromTo=function(c,b,a){void 0===a&&(a=h.a.IdentityReadOnly);b=b.subtract(c);var g=Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z);b.normalize();return f.Transform(new f(c,b,g),a)};f.Transform=function(c,b){var a=new f(new h.e(0,0,0),new h.e(0,0,0));f.TransformToRef(c,b,a);return a};f.TransformToRef=function(c,b,a){h.e.TransformCoordinatesToRef(c.origin,b,a.origin);h.e.TransformNormalToRef(c.direction,b,a.direction);a.length=c.length;c=a.direction;
b=c.length();if(0!==b&&1!==b){var g=1/b;c.x*=g;c.y*=g;c.z*=g;a.length*=b}};f.prototype.unprojectRayToRef=function(c,b,a,g,d,f,n){var m=h.c.Matrix[0];d.multiplyToRef(f,m);m.multiplyToRef(n,m);m.invert();d=h.c.Vector3[0];d.x=c/a*2-1;d.y=-(b/g*2-1);d.z=-1;c=h.c.Vector3[1].copyFromFloats(d.x,d.y,1);b=h.c.Vector3[2];a=h.c.Vector3[3];h.e._UnprojectFromInvertedMatrixToRef(d,m,b);h.e._UnprojectFromInvertedMatrixToRef(c,m,a);this.origin.copyFrom(b);a.subtractToRef(b,this.direction);this.direction.normalize()};
f._TmpVector3=k.a.BuildArray(6,h.e.Zero);f.smallnum=1E-8;f.rayl=1E9;return f}();l.a.prototype.createPickingRay=function(f,c,b,a,g){void 0===g&&(g=!1);var d=p.Zero();this.createPickingRayToRef(f,c,b,d,a,g);return d};l.a.prototype.createPickingRayToRef=function(f,c,b,a,g,d){void 0===d&&(d=!1);var m=this.getEngine();if(!g){if(!this.activeCamera)return this;g=this.activeCamera}var n=g.viewport.toGlobal(m.getRenderWidth(),m.getRenderHeight());f=f/m.getHardwareScalingLevel()-n.x;c=c/m.getHardwareScalingLevel()-
(m.getRenderHeight()-n.y-n.height);a.update(f,c,n.width,n.height,b?b:h.a.IdentityReadOnly,d?h.a.IdentityReadOnly:g.getViewMatrix(),g.getProjectionMatrix());return this};l.a.prototype.createPickingRayInCameraSpace=function(f,c,b){var a=p.Zero();this.createPickingRayInCameraSpaceToRef(f,c,a,b);return a};l.a.prototype.createPickingRayInCameraSpaceToRef=function(f,c,b,a){if(!r.a)return this;var g=this.getEngine();if(!a){if(!this.activeCamera)throw Error("Active camera not set");a=this.activeCamera}var d=
a.viewport.toGlobal(g.getRenderWidth(),g.getRenderHeight()),m=h.a.Identity();f=f/g.getHardwareScalingLevel()-d.x;c=c/g.getHardwareScalingLevel()-(g.getRenderHeight()-d.y-d.height);b.update(f,c,d.width,d.height,m,m,a.getProjectionMatrix());return this};l.a.prototype._internalPickForMesh=function(f,c,b,a,g,d,m,n){c=c(a);b=b.intersects(c,g,m,d,a,n);return!b||!b.hit||!g&&null!=f&&b.distance>=f.distance?null:b};l.a.prototype._internalPick=function(f,c,b,a,g){if(!r.a)return null;for(var d=null,m=0;m<this.meshes.length;m++){var n=
this.meshes[m];if(c){if(!c(n))continue}else if(!n.isEnabled()||!n.isVisible||!n.isPickable)continue;var k=n.skeleton&&n.skeleton.overrideMesh?n.skeleton.overrideMesh.getWorldMatrix():n.getWorldMatrix();if(n.hasThinInstances&&n.thinInstanceEnablePicking){var p=this._internalPickForMesh(d,f,n,k,!0,!0,g);if(p){if(a)return d;p=h.c.Matrix[1];for(var e=n.thinInstanceGetWorldMatrices(),l=0;l<e.length;l++){e[l].multiplyToRef(k,p);var q=this._internalPickForMesh(d,f,n,p,b,a,g,!0);if(q&&(d=q,d.thinInstanceIndex=
l,b))return d}}}else if(p=this._internalPickForMesh(d,f,n,k,b,a,g))if(d=p,b)return d}return d||new r.a};l.a.prototype._internalMultiPick=function(f,c,b){if(!r.a)return null;for(var a=[],g=0;g<this.meshes.length;g++){var d=this.meshes[g];if(c){if(!c(d))continue}else if(!d.isEnabled()||!d.isVisible||!d.isPickable)continue;var m=d.skeleton&&d.skeleton.overrideMesh?d.skeleton.overrideMesh.getWorldMatrix():d.getWorldMatrix();if(d.hasThinInstances&&d.thinInstanceEnablePicking){var n=this._internalPickForMesh(null,
f,d,m,!0,!0,b);if(n){n=h.c.Matrix[1];for(var p=d.thinInstanceGetWorldMatrices(),k=0;k<p.length;k++){p[k].multiplyToRef(m,n);var e=this._internalPickForMesh(null,f,d,n,!1,!1,b,!0);e&&(e.thinInstanceIndex=k,a.push(e))}}}else(n=this._internalPickForMesh(null,f,d,m,!1,!1,b))&&a.push(n)}return a};l.a.prototype.pickWithBoundingInfo=function(f,c,b,a,g){var d=this;if(!r.a)return null;if(b=this._internalPick(function(a){d._tempPickingRay||(d._tempPickingRay=p.Zero());d.createPickingRayToRef(f,c,a,d._tempPickingRay,
g||null);return d._tempPickingRay},b,a,!0))b.ray=this.createPickingRay(f,c,h.a.Identity(),g||null);return b};l.a.prototype.pick=function(f,c,b,a,g,d){var m=this;if(!r.a)return null;if(b=this._internalPick(function(a){m._tempPickingRay||(m._tempPickingRay=p.Zero());m.createPickingRayToRef(f,c,a,m._tempPickingRay,g||null);return m._tempPickingRay},b,a,!1,d))b.ray=this.createPickingRay(f,c,h.a.Identity(),g||null);return b};l.a.prototype.pickWithRay=function(f,c,b,a){var g=this;if(c=this._internalPick(function(a){g._pickWithRayInverseMatrix||
(g._pickWithRayInverseMatrix=h.a.Identity());a.invertToRef(g._pickWithRayInverseMatrix);g._cachedRayForTransform||(g._cachedRayForTransform=p.Zero());p.TransformToRef(f,g._pickWithRayInverseMatrix,g._cachedRayForTransform);return g._cachedRayForTransform},c,b,!1,a))c.ray=f;return c};l.a.prototype.multiPick=function(f,c,b,a,g){var d=this;return this._internalMultiPick(function(b){return d.createPickingRay(f,c,b,a||null)},b,g)};l.a.prototype.multiPickWithRay=function(f,c,b){var a=this;return this._internalMultiPick(function(b){a._pickWithRayInverseMatrix||
(a._pickWithRayInverseMatrix=h.a.Identity());b.invertToRef(a._pickWithRayInverseMatrix);a._cachedRayForTransform||(a._cachedRayForTransform=p.Zero());p.TransformToRef(f,a._pickWithRayInverseMatrix,a._cachedRayForTransform);return a._cachedRayForTransform},c,b)};e.a.prototype.getForwardRay=function(f,c,b){void 0===f&&(f=100);return this.getForwardRayToRef(new p(h.e.Zero(),h.e.Zero(),f),f,c,b)};e.a.prototype.getForwardRayToRef=function(f,c,b,a){void 0===c&&(c=100);b||(b=this.getWorldMatrix());f.length=
c;a?f.origin.copyFrom(a):f.origin.copyFrom(this.position);h.c.Vector3[2].set(0,0,this._scene.useRightHandedSystem?-1:1);h.e.TransformNormalToRef(h.c.Vector3[2],b,h.c.Vector3[3]);h.e.NormalizeToRef(h.c.Vector3[3],f.direction);return f}},"O+AM":function(l,q,e){e.d(q,"a",function(){return h});var k=e("/SR9"),h=function(){return function(){this._checkCollisions=!1;this._collisionGroup=this._collisionMask=-1;this._collider=this._surroundingMeshes=null;this._oldPositionForCollisions=new k.e(0,0,0);this._diffPositionForCollisions=
new k.e(0,0,0);this._collisionResponse=!0}}()},Q86s:function(l,q,e){e.d(q,"a",function(){return r});var k=e("/SR9"),h=e("y4Ty"),r=function(){function e(){this.hit=this._pickingUnavailable=!1;this.distance=0;this.pickedMesh=this.pickedPoint=null;this.bv=this.bu=0;this.subMeshFaceId=this.faceId=-1;this.subMeshId=0;this.pickedSprite=null;this.thinInstanceIndex=-1;this.ray=this.originMesh=null}e.prototype.getNormal=function(p,f){void 0===p&&(p=!1);void 0===f&&(f=!0);if(!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(h.b.NormalKind))return null;
var c=this.pickedMesh.getIndices();if(!c)return null;if(f){var b=this.pickedMesh.getVerticesData(h.b.NormalKind);f=k.e.FromArray(b,3*c[3*this.faceId]);var a=k.e.FromArray(b,3*c[3*this.faceId+1]);c=k.e.FromArray(b,3*c[3*this.faceId+2]);f=f.scale(this.bu);a=a.scale(this.bv);c=c.scale(1-this.bu-this.bv);c=new k.e(f.x+a.x+c.x,f.y+a.y+c.y,f.z+a.z+c.z)}else b=this.pickedMesh.getVerticesData(h.b.PositionKind),a=k.e.FromArray(b,3*c[3*this.faceId]),f=k.e.FromArray(b,3*c[3*this.faceId+1]),c=k.e.FromArray(b,
3*c[3*this.faceId+2]),a=a.subtract(f),c=c.subtract(f),c=k.e.Cross(a,c);p&&(p=this.pickedMesh.getWorldMatrix(),this.pickedMesh.nonUniformScaling&&(k.c.Matrix[0].copyFrom(p),p=k.c.Matrix[0],p.setTranslationFromFloats(0,0,0),p.invert(),p.transposeToRef(k.c.Matrix[1]),p=k.c.Matrix[1]),c=k.e.TransformNormal(c,p));c.normalize();return c};e.prototype.getTextureCoordinates=function(){if(!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(h.b.UVKind))return null;var p=this.pickedMesh.getIndices();if(!p)return null;
var f=this.pickedMesh.getVerticesData(h.b.UVKind);if(!f)return null;var c=k.d.FromArray(f,2*p[3*this.faceId]),b=k.d.FromArray(f,2*p[3*this.faceId+1]);p=k.d.FromArray(f,2*p[3*this.faceId+2]);c=c.scale(this.bu);b=b.scale(this.bv);p=p.scale(1-this.bu-this.bv);return new k.d(c.x+b.x+p.x,c.y+b.y+p.y)};return e}()},R3GP:function(l,q,e){var k=e("/SR9"),h=e("j2cH"),r=function(){var c={root:0,found:!1};return function(b,a,g,d){c.root=0;c.found=!1;g=a*a-4*b*g;if(0>g)return c;var f=Math.sqrt(g);g=(-a-f)/(2*
b);b=(-a+f)/(2*b);g>b&&(a=b,b=g,g=a);if(0<g&&g<d)return c.root=g,c.found=!0,c;0<b&&b<d&&(c.root=b,c.found=!0);return c}}(),t=function(){function c(){this._collisionPoint=k.e.Zero();this._planeIntersectionPoint=k.e.Zero();this._tempVector=k.e.Zero();this._tempVector2=k.e.Zero();this._tempVector3=k.e.Zero();this._tempVector4=k.e.Zero();this._edge=k.e.Zero();this._baseToVertex=k.e.Zero();this._destinationPoint=k.e.Zero();this._slidePlaneNormal=k.e.Zero();this._displacementVector=k.e.Zero();this._radius=
k.e.One();this._retry=0;this._basePointWorld=k.e.Zero();this._velocityWorld=k.e.Zero();this._normalizedVelocity=k.e.Zero();this._collisionMask=-1}Object.defineProperty(c.prototype,"collisionMask",{get:function(){return this._collisionMask},set:function(b){this._collisionMask=isNaN(b)?-1:b},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"slidePlaneNormal",{get:function(){return this._slidePlaneNormal},enumerable:!1,configurable:!0});c.prototype._initialize=function(b,a,c){this._velocity=
a;k.e.NormalizeToRef(a,this._normalizedVelocity);this._basePoint=b;b.multiplyToRef(this._radius,this._basePointWorld);a.multiplyToRef(this._radius,this._velocityWorld);this._velocityWorldLength=this._velocityWorld.length();this._epsilon=c;this.collisionFound=!1};c.prototype._checkPointInTriangle=function(b,a,c,d,f){a.subtractToRef(b,this._tempVector);c.subtractToRef(b,this._tempVector2);k.e.CrossToRef(this._tempVector,this._tempVector2,this._tempVector4);a=k.e.Dot(this._tempVector4,f);if(0>a)return!1;
d.subtractToRef(b,this._tempVector3);k.e.CrossToRef(this._tempVector2,this._tempVector3,this._tempVector4);a=k.e.Dot(this._tempVector4,f);if(0>a)return!1;k.e.CrossToRef(this._tempVector3,this._tempVector,this._tempVector4);a=k.e.Dot(this._tempVector4,f);return 0<=a};c.prototype._canDoCollision=function(b,a,c,d){var g=k.e.Distance(this._basePointWorld,b);b=Math.max(this._radius.x,this._radius.y,this._radius.z);(a=g>this._velocityWorldLength+b+a)||(a=this._basePointWorld,b=this._velocityWorldLength+
b,c=c.x>a.x+b||a.x-b>d.x||c.y>a.y+b||a.y-b>d.y||c.z>a.z+b||a.z-b>d.z?!1:!0,a=!c);return a?!1:!0};c.prototype._testTriangle=function(b,a,c,d,f,n,p){var g=!1;a||(a=[]);a[b]||(a[b]=new h.a(0,0,0,0),a[b].copyFromPoints(c,d,f));a=a[b];if(n||a.isFrontFacingTo(this._normalizedVelocity,0)){n=a.signedDistanceTo(this._basePoint);b=k.e.Dot(a.normal,this._velocity);if(0==b){if(1<=Math.abs(n))return;g=!0;var m=0}else{m=(-1-n)/b;n=(1-n)/b;m>n&&(b=n,n=m,m=b);if(1<m||0>n)return;0>m&&(m=0);1<m&&(m=1)}this._collisionPoint.copyFromFloats(0,
0,0);n=!1;b=1;g||(this._basePoint.subtractToRef(a.normal,this._planeIntersectionPoint),this._velocity.scaleToRef(m,this._tempVector),this._planeIntersectionPoint.addInPlace(this._tempVector),this._checkPointInTriangle(this._planeIntersectionPoint,c,d,f,a.normal)&&(n=!0,b=m,this._collisionPoint.copyFrom(this._planeIntersectionPoint)));if(!n){a=g=this._velocity.lengthSquared();this._basePoint.subtractToRef(c,this._tempVector);var e=2*k.e.Dot(this._velocity,this._tempVector),l=this._tempVector.lengthSquared()-
1;e=r(a,e,l,b);e.found&&(b=e.root,n=!0,this._collisionPoint.copyFrom(c));this._basePoint.subtractToRef(d,this._tempVector);e=2*k.e.Dot(this._velocity,this._tempVector);l=this._tempVector.lengthSquared()-1;e=r(a,e,l,b);e.found&&(b=e.root,n=!0,this._collisionPoint.copyFrom(d));this._basePoint.subtractToRef(f,this._tempVector);e=2*k.e.Dot(this._velocity,this._tempVector);l=this._tempVector.lengthSquared()-1;e=r(a,e,l,b);e.found&&(b=e.root,n=!0,this._collisionPoint.copyFrom(f));d.subtractToRef(c,this._edge);
c.subtractToRef(this._basePoint,this._baseToVertex);m=this._edge.lengthSquared();var q=k.e.Dot(this._edge,this._velocity),t=k.e.Dot(this._edge,this._baseToVertex);a=m*-g+q*q;e=2*m*k.e.Dot(this._velocity,this._baseToVertex)-2*q*t;l=m*(1-this._baseToVertex.lengthSquared())+t*t;e=r(a,e,l,b);e.found&&(a=(q*e.root-t)/m,0<=a&&1>=a&&(b=e.root,n=!0,this._edge.scaleInPlace(a),c.addToRef(this._edge,this._collisionPoint)));f.subtractToRef(d,this._edge);d.subtractToRef(this._basePoint,this._baseToVertex);m=this._edge.lengthSquared();
q=k.e.Dot(this._edge,this._velocity);t=k.e.Dot(this._edge,this._baseToVertex);a=m*-g+q*q;e=2*m*k.e.Dot(this._velocity,this._baseToVertex)-2*q*t;l=m*(1-this._baseToVertex.lengthSquared())+t*t;e=r(a,e,l,b);e.found&&(a=(q*e.root-t)/m,0<=a&&1>=a&&(b=e.root,n=!0,this._edge.scaleInPlace(a),d.addToRef(this._edge,this._collisionPoint)));c.subtractToRef(f,this._edge);f.subtractToRef(this._basePoint,this._baseToVertex);m=this._edge.lengthSquared();q=k.e.Dot(this._edge,this._velocity);t=k.e.Dot(this._edge,this._baseToVertex);
a=m*-g+q*q;e=2*m*k.e.Dot(this._velocity,this._baseToVertex)-2*q*t;l=m*(1-this._baseToVertex.lengthSquared())+t*t;e=r(a,e,l,b);e.found&&(a=(q*e.root-t)/m,0<=a&&1>=a&&(b=e.root,n=!0,this._edge.scaleInPlace(a),f.addToRef(this._edge,this._collisionPoint)))}n&&(c=b*this._velocity.length(),!this.collisionFound||c<this._nearestDistance)&&(p.collisionResponse&&(this.intersectionPoint?this.intersectionPoint.copyFrom(this._collisionPoint):this.intersectionPoint=this._collisionPoint.clone(),this._nearestDistance=
c,this.collisionFound=!0),this.collidedMesh=p)}};c.prototype._collide=function(b,a,c,d,f,e,h,p){if(c&&0!==c.length)for(;d<f;d+=3)g=a[c[d]-e],m=a[c[d+1]-e],n=a[c[d+2]-e],this._testTriangle(d,b,n,m,g,h,p);else for(d=0;d<a.length;d+=3){var g=a[d],m=a[d+1],n=a[d+2];this._testTriangle(d,b,n,m,g,h,p)}};c.prototype._getResponse=function(b,a){b.addToRef(a,this._destinationPoint);a.scaleInPlace(this._nearestDistance/a.length());this._basePoint.addToRef(a,b);b.subtractToRef(this.intersectionPoint,this._slidePlaneNormal);
this._slidePlaneNormal.normalize();this._slidePlaneNormal.scaleToRef(this._epsilon,this._displacementVector);b.addInPlace(this._displacementVector);this.intersectionPoint.addInPlace(this._displacementVector);this._slidePlaneNormal.scaleInPlace(h.a.SignedDistanceToPlaneFromPositionAndNormal(this.intersectionPoint,this._slidePlaneNormal,this._destinationPoint));this._destinationPoint.subtractInPlace(this._slidePlaneNormal);this._destinationPoint.subtractToRef(this.intersectionPoint,a)};return c}();
l=e("tVVT");var p=e("qUIE"),f=function(){function c(){this._scaledPosition=k.e.Zero();this._scaledVelocity=k.e.Zero();this._finalPosition=k.e.Zero()}c.prototype.getNewPosition=function(b,a,c,d,f,e,h){b.divideToRef(c._radius,this._scaledPosition);a.divideToRef(c._radius,this._scaledVelocity);c.collidedMesh=null;c._retry=0;c._initialVelocity=this._scaledVelocity;c._initialPosition=this._scaledPosition;this._collideWithWorld(this._scaledPosition,this._scaledVelocity,c,d,this._finalPosition,f);this._finalPosition.multiplyInPlace(c._radius);
e(h,this._finalPosition,c.collidedMesh)};c.prototype.createCollider=function(){return new t};c.prototype.init=function(b){this._scene=b};c.prototype._collideWithWorld=function(b,a,c,d,f,e){void 0===e&&(e=null);var g=10*p.a.CollisionsEpsilon;if(c._retry>=d)f.copyFrom(b);else{var m=e?e.collisionMask:c.collisionMask;c._initialize(b,a,g);for(var h=e&&e.surroundingMeshes||this._scene.meshes,n=0;n<h.length;n++){var k=h[n];k.isEnabled()&&k.checkCollisions&&k.subMeshes&&k!==e&&0!==(m&k.collisionGroup)&&k._checkCollision(c)}c.collisionFound?
(0===a.x&&0===a.y&&0===a.z||c._getResponse(b,a),a.length()<=g?f.copyFrom(b):(c._retry++,this._collideWithWorld(b,a,c,d,f,e))):b.addToRef(a,f)}};return c}();l.a.CollisionCoordinatorFactory=function(){return new f};e("Q86s");e("1m8g");e("O+AM")},T5H4:function(l,q,e){e.d(q,"a",function(){return a});var k=e("mHtN"),h=e("/SR9"),r=e("fHo7"),t=e("vvwx"),p={min:0,max:0},f={min:0,max:0},c=function(a,b,c){var d=h.e.Dot(b.centerWorld,a),f=Math.abs(h.e.Dot(b.directions[0],a))*b.extendSize.x,g=Math.abs(h.e.Dot(b.directions[1],
a))*b.extendSize.y;a=Math.abs(h.e.Dot(b.directions[2],a))*b.extendSize.z;f=f+g+a;c.min=d-f;c.max=d+f},b=function(a,b,m){c(a,b,p);c(a,m,f);return!(p.min>f.max||f.min>p.max)},a=function(){function a(a,b,c){this._isLocked=!1;this.boundingBox=new r.a(a,b,c);this.boundingSphere=new t.a(a,b,c)}a.prototype.reConstruct=function(a,b,c){this.boundingBox.reConstruct(a,b,c);this.boundingSphere.reConstruct(a,b,c)};Object.defineProperty(a.prototype,"minimum",{get:function(){return this.boundingBox.minimum},enumerable:!1,
configurable:!0});Object.defineProperty(a.prototype,"maximum",{get:function(){return this.boundingBox.maximum},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"isLocked",{get:function(){return this._isLocked},set:function(a){this._isLocked=a},enumerable:!1,configurable:!0});a.prototype.update=function(a){this._isLocked||(this.boundingBox._update(a),this.boundingSphere._update(a))};a.prototype.centerOn=function(b,c){var d=a.TmpVector3[0].copyFrom(b).subtractInPlace(c);b=a.TmpVector3[1].copyFrom(b).addInPlace(c);
this.boundingBox.reConstruct(d,b,this.boundingBox.getWorldMatrix());this.boundingSphere.reConstruct(d,b,this.boundingBox.getWorldMatrix());return this};a.prototype.scale=function(a){this.boundingBox.scale(a);this.boundingSphere.scale(a);return this};a.prototype.isInFrustum=function(a,b){void 0===b&&(b=0);return 2!==b&&3!==b||!this.boundingSphere.isCenterInFrustum(a)?this.boundingSphere.isInFrustum(a)?1===b||3===b?!0:this.boundingBox.isInFrustum(a):!1:!0};Object.defineProperty(a.prototype,"diagonalLength",
{get:function(){var b=this.boundingBox;return b.maximumWorld.subtractToRef(b.minimumWorld,a.TmpVector3[0]).length()},enumerable:!1,configurable:!0});a.prototype.isCompletelyInFrustum=function(a){return this.boundingBox.isCompletelyInFrustum(a)};a.prototype._checkCollision=function(a){return a._canDoCollision(this.boundingSphere.centerWorld,this.boundingSphere.radiusWorld,this.boundingBox.minimumWorld,this.boundingBox.maximumWorld)};a.prototype.intersectsPoint=function(a){return this.boundingSphere.centerWorld&&
this.boundingSphere.intersectsPoint(a)&&this.boundingBox.intersectsPoint(a)?!0:!1};a.prototype.intersects=function(a,c){if(!t.a.Intersects(this.boundingSphere,a.boundingSphere)||!r.a.Intersects(this.boundingBox,a.boundingBox))return!1;if(!c)return!0;c=this.boundingBox;a=a.boundingBox;return b(c.directions[0],c,a)&&b(c.directions[1],c,a)&&b(c.directions[2],c,a)&&b(a.directions[0],c,a)&&b(a.directions[1],c,a)&&b(a.directions[2],c,a)&&b(h.e.Cross(c.directions[0],a.directions[0]),c,a)&&b(h.e.Cross(c.directions[0],
a.directions[1]),c,a)&&b(h.e.Cross(c.directions[0],a.directions[2]),c,a)&&b(h.e.Cross(c.directions[1],a.directions[0]),c,a)&&b(h.e.Cross(c.directions[1],a.directions[1]),c,a)&&b(h.e.Cross(c.directions[1],a.directions[2]),c,a)&&b(h.e.Cross(c.directions[2],a.directions[0]),c,a)&&b(h.e.Cross(c.directions[2],a.directions[1]),c,a)&&b(h.e.Cross(c.directions[2],a.directions[2]),c,a)?!0:!1};a.TmpVector3=k.a.BuildArray(2,h.e.Zero);return a}()},fHo7:function(l,q,e){e.d(q,"a",function(){return t});var k=e("mHtN"),
h=e("/SR9"),r=e("MhaC"),t=function(){function e(f,c,b){this.vectors=k.a.BuildArray(8,h.e.Zero);this.center=h.e.Zero();this.centerWorld=h.e.Zero();this.extendSize=h.e.Zero();this.extendSizeWorld=h.e.Zero();this.directions=k.a.BuildArray(3,h.e.Zero);this.vectorsWorld=k.a.BuildArray(8,h.e.Zero);this.minimumWorld=h.e.Zero();this.maximumWorld=h.e.Zero();this.minimum=h.e.Zero();this.maximum=h.e.Zero();this.reConstruct(f,c,b)}e.prototype.reConstruct=function(f,c,b){var a=f.x,g=f.y,d=f.z,e=c.x,k=c.y,l=c.z,
p=this.vectors;this.minimum.copyFromFloats(a,g,d);this.maximum.copyFromFloats(e,k,l);p[0].copyFromFloats(a,g,d);p[1].copyFromFloats(e,k,l);p[2].copyFromFloats(e,g,d);p[3].copyFromFloats(a,k,d);p[4].copyFromFloats(a,g,l);p[5].copyFromFloats(e,k,d);p[6].copyFromFloats(a,k,l);p[7].copyFromFloats(e,g,l);c.addToRef(f,this.center).scaleInPlace(.5);c.subtractToRef(f,this.extendSize).scaleInPlace(.5);this._worldMatrix=b||h.a.IdentityReadOnly;this._update(this._worldMatrix)};e.prototype.scale=function(f){var c=
e.TmpVector3,b=this.maximum.subtractToRef(this.minimum,c[0]),a=b.length();b.normalizeFromLength(a);b=b.scaleInPlace(a*f*.5);f=this.center.subtractToRef(b,c[1]);c=this.center.addToRef(b,c[2]);this.reConstruct(f,c,this._worldMatrix);return this};e.prototype.getWorldMatrix=function(){return this._worldMatrix};e.prototype._update=function(f){var c=this.minimumWorld,b=this.maximumWorld,a=this.directions,g=this.vectorsWorld,d=this.vectors;if(f.isIdentity()){c.copyFrom(this.minimum);b.copyFrom(this.maximum);
for(e=0;8>e;++e)g[e].copyFrom(d[e]);this.extendSizeWorld.copyFrom(this.extendSize);this.centerWorld.copyFrom(this.center)}else{c.setAll(Number.MAX_VALUE);b.setAll(-Number.MAX_VALUE);for(var e=0;8>e;++e){var k=g[e];h.e.TransformCoordinatesToRef(d[e],f,k);c.minimizeInPlace(k);b.maximizeInPlace(k)}b.subtractToRef(c,this.extendSizeWorld).scaleInPlace(.5);b.addToRef(c,this.centerWorld).scaleInPlace(.5)}h.e.FromArrayToRef(f.m,0,a[0]);h.e.FromArrayToRef(f.m,4,a[1]);h.e.FromArrayToRef(f.m,8,a[2]);this._worldMatrix=
f};e.prototype.isInFrustum=function(f){return e.IsInFrustum(this.vectorsWorld,f)};e.prototype.isCompletelyInFrustum=function(f){return e.IsCompletelyInFrustum(this.vectorsWorld,f)};e.prototype.intersectsPoint=function(f){var c=this.minimumWorld,b=this.maximumWorld,a=c.x,e=c.y;c=c.z;var d=f.x,h=f.y;f=f.z;var k=-r.a;return b.x-d<k||k>d-a||b.y-h<k||k>h-e||b.z-f<k||k>f-c?!1:!0};e.prototype.intersectsSphere=function(f){return e.IntersectsSphere(this.minimumWorld,this.maximumWorld,f.centerWorld,f.radiusWorld)};
e.prototype.intersectsMinMax=function(f,c){var b=this.minimumWorld,a=this.maximumWorld,e=b.x,d=b.y;b=b.z;var h=c.x,k=c.y;c=c.z;return a.x<f.x||e>h||a.y<f.y||d>k||a.z<f.z||b>c?!1:!0};e.Intersects=function(f,c){return f.intersectsMinMax(c.minimumWorld,c.maximumWorld)};e.IntersectsSphere=function(f,c,b,a){var g=e.TmpVector3[0];h.e.ClampToRef(b,f,c,g);return h.e.DistanceSquared(b,g)<=a*a};e.IsCompletelyInFrustum=function(f,c){for(var b=0;6>b;++b)for(var a=c[b],e=0;8>e;++e)if(0>a.dotCoordinate(f[e]))return!1;
return!0};e.IsInFrustum=function(f,c){for(var b=0;6>b;++b){for(var a=!0,e=c[b],d=0;8>d;++d)if(0<=e.dotCoordinate(f[d])){a=!1;break}if(a)return!1}return!0};e.TmpVector3=k.a.BuildArray(3,h.e.Zero);return e}()},vvwx:function(l,q,e){e.d(q,"a",function(){return r});var k=e("mHtN"),h=e("/SR9"),r=function(){function e(e,f,c){this.center=h.e.Zero();this.centerWorld=h.e.Zero();this.minimum=h.e.Zero();this.maximum=h.e.Zero();this.reConstruct(e,f,c)}e.prototype.reConstruct=function(e,f,c){this.minimum.copyFrom(e);
this.maximum.copyFrom(f);var b=h.e.Distance(e,f);f.addToRef(e,this.center).scaleInPlace(.5);this.radius=.5*b;this._update(c||h.a.IdentityReadOnly)};e.prototype.scale=function(h){var f=e.TmpVector3,c=f[0].setAll(this.radius*h);h=this.center.subtractToRef(c,f[1]);f=this.center.addToRef(c,f[2]);this.reConstruct(h,f,this._worldMatrix);return this};e.prototype.getWorldMatrix=function(){return this._worldMatrix};e.prototype._update=function(k){if(k.isIdentity())this.centerWorld.copyFrom(this.center),this.radiusWorld=
this.radius;else{h.e.TransformCoordinatesToRef(this.center,k,this.centerWorld);var f=e.TmpVector3[0];h.e.TransformNormalFromFloatsToRef(1,1,1,k,f);this.radiusWorld=Math.max(Math.abs(f.x),Math.abs(f.y),Math.abs(f.z))*this.radius}};e.prototype.isInFrustum=function(e){for(var f=this.centerWorld,c=this.radiusWorld,b=0;6>b;b++)if(e[b].dotCoordinate(f)<=-c)return!1;return!0};e.prototype.isCenterInFrustum=function(e){for(var f=this.centerWorld,c=0;6>c;c++)if(0>e[c].dotCoordinate(f))return!1;return!0};e.prototype.intersectsPoint=
function(e){e=h.e.DistanceSquared(this.centerWorld,e);return this.radiusWorld*this.radiusWorld<e?!1:!0};e.Intersects=function(e,f){var c=h.e.DistanceSquared(e.centerWorld,f.centerWorld);e=e.radiusWorld+f.radiusWorld;return e*e<c?!1:!0};e.TmpVector3=k.a.BuildArray(3,h.e.Zero);return e}()}}]);
