(function(){'use strict';function B(d){var e=0;return function(){return e<d.length?{done:!1,value:d[e++]}:{done:!0}}}var D="function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,p){d!=Array.prototype&&d!=Object.prototype&&(d[e]=p.value)},F="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function I(){I=function(){};F.Symbol||(F.Symbol=J)}function K(d,e){this.a=d;D(this,"description",{configurable:!0,writable:!0,value:e})}
K.prototype.toString=function(){return this.a};var J=function(){function d(p){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new K("jscomp_symbol_"+(p||"")+"_"+e++,p)}var e=0;return d}();function P(){I();var d=F.Symbol.iterator;d||(d=F.Symbol.iterator=F.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[d]&&D(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return Q(B(this))}});P=function(){}}
function Q(d){P();d={next:d};d[F.Symbol.iterator]=function(){return this};return d}function R(d){var e="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return e?e.call(d):{next:B(d)}}function S(d,e){return Object.prototype.hasOwnProperty.call(d,e)}function T(d,e){if(e){var p=F;d=d.split(".");for(var f=0;f<d.length-1;f++){var g=d[f];g in p||(p[g]={});p=p[g]}d=d[d.length-1];f=p[d];e=e(f);e!=f&&null!=e&&D(p,d,{configurable:!0,writable:!0,value:e})}}
T("WeakMap",function(d){function e(a){this.a=(C+=Math.random()+1).toString();if(a){a=R(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}function p(){}function f(a){if(!S(a,q)){var c=new p;D(a,q,{value:c})}}function g(a){var c=Object[a];c&&(Object[a]=function(b){if(b instanceof p)return b;f(b);return c(b)})}if(function(){if(!d||!Object.seal)return!1;try{var a=Object.seal({}),c=Object.seal({}),b=new d([[a,2],[c,3]]);if(2!=b.get(a)||3!=b.get(c))return!1;b.delete(a);b.set(c,4);return!b.has(a)&&
4==b.get(c)}catch(v){return!1}}())return d;var q="$jscomp_hidden_"+Math.random();g("freeze");g("preventExtensions");g("seal");var C=0;e.prototype.set=function(a,c){f(a);if(!S(a,q))throw Error("WeakMap key fail: "+a);a[q][this.a]=c;return this};e.prototype.get=function(a){return S(a,q)?a[q][this.a]:void 0};e.prototype.has=function(a){return S(a,q)&&S(a[q],this.a)};e.prototype.delete=function(a){return S(a,q)&&S(a[q],this.a)?delete a[q][this.a]:!1};return e});
T("Map",function(d){function e(){var a={};return a.c=a.next=a.head=a}function p(a,c){var b=a.a;return Q(function(){if(b){for(;b.head!=a.a;)b=b.c;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})}function f(a,c){var b=c&&typeof c;"object"==b||"function"==b?q.has(c)?b=q.get(c):(b=""+ ++C,q.set(c,b)):b="p_"+c;var v=a.f[b];if(v&&S(a.f,b))for(a=0;a<v.length;a++){var z=v[a];if(c!==c&&z.key!==z.key||c===z.key)return{id:b,list:v,index:a,b:z}}return{id:b,list:v,
index:-1,b:void 0}}function g(a){this.f={};this.a=e();this.size=0;if(a){a=R(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new d(R([[a,"s"]]));if("s"!=c.get(a)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var b=c.entries(),v=b.next();if(v.done||v.value[0]!=a||"s"!=v.value[1])return!1;v=b.next();return v.done||4!=v.value[0].x||
"t"!=v.value[1]||!b.next().done?!1:!0}catch(z){return!1}}())return d;P();var q=new WeakMap;g.prototype.set=function(a,c){a=0===a?0:a;var b=f(this,a);b.list||(b.list=this.f[b.id]=[]);b.b?b.b.value=c:(b.b={next:this.a,c:this.a.c,head:this.a,key:a,value:c},b.list.push(b.b),this.a.c.next=b.b,this.a.c=b.b,this.size++);return this};g.prototype.delete=function(a){a=f(this,a);return a.b&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.f[a.id],a.b.c.next=a.b.next,a.b.next.c=a.b.c,a.b.head=null,
this.size--,!0):!1};g.prototype.clear=function(){this.f={};this.a=this.a.c=e();this.size=0};g.prototype.has=function(a){return!!f(this,a).b};g.prototype.get=function(a){return(a=f(this,a).b)&&a.value};g.prototype.entries=function(){return p(this,function(a){return[a.key,a.value]})};g.prototype.keys=function(){return p(this,function(a){return a.key})};g.prototype.values=function(){return p(this,function(a){return a.value})};g.prototype.forEach=function(a,c){for(var b=this.entries(),v;!(v=b.next()).done;)v=
v.value,a.call(c,v[1],v[0],this)};g.prototype[Symbol.iterator]=g.prototype.entries;var C=0;return g});
(function(d){function e(f){if(p[f])return p[f].g;var g=p[f]={s:f,i:!1,g:{}};d[f].call(g.g,g,g.g,e);g.i=!0;return g.g}var p={};e.o=d;e.f=p;e.d=function(f,g,q){e.a(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:q})};e.r=function(f){I();I();"undefined"!==typeof Symbol&&Symbol.toStringTag&&(I(),Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(f,"__esModule",{value:!0})};e.m=function(f,g){g&1&&(f=e(f));if(g&8)return f;if(g&4&&"object"===typeof f&&f&&f.h)return f;
var q=Object.create(null);e.r(q);Object.defineProperty(q,"default",{enumerable:!0,value:f});if(g&2&&"string"!=typeof f)for(var C in f)e.d(q,C,function(a){return f[a]}.bind(null,C));return q};e.j=function(f){var g=f&&f.h?function(){return f["default"]}:function(){return f};e.d(g,"a",g);return g};e.a=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)};e.l="";return e(e.u=0)})([function(d,e,p){function f(h,w){w=void 0===w?!1:w;var x=[];h=h.split("geometry IndexedFaceSet {").splice(1);for(var A=
h.length,y=0;y<A;y++){var r=h[y];var t=q("point [","]",r).match(b);if(null===t)t=new Float32Array(0);else{for(var m=t.length,n=new Float32Array(m),k=0;k<m;k+=3)n[k]=+t[k+2],n[k+1]=+t[k+1],n[k+2]=+t[k];t=n}w&&(t=g(t));m=q("coordIndex [","]",r).match(b);if(null===m)m=new Uint32Array(0);else{n=3*m.length/4;k=new Uint32Array(n);for(var u=0;u<n;u+=3){var l=4*u/3;k[u]=+m[l];k[u+1]=+m[l+1];k[u+2]=+m[l+2]}m=k}r=q("color [","]",r).match(b);if(null===r)r=new Float32Array(0);else{n=new Float32Array(4*r.length/
3);k=n.length;for(u=0;u<k;u+=4)l=3*u/4,n[u]=+r[l],n[u+1]=+r[l+1],n[u+2]=+r[l+2],n[u+3]=1;r=n}t=C(t,m,r);x.push({coors:t[0],trisIdxs:t[1],colors:t[2]})}v=new Float32Array([0,0,0]);if(z){c=[];w=["colors","coors","trisIdxs"];h=w.length;A=x.length;for(y=0;y<A;y++)for(t=0;t<h;t++){r=w[t];m=x[y][r];n=[];k=0;for(u=m.length;k<u;)n.push(m.slice(k,k+=1E7));m=n;n=m.length;for(k=0;k<n;k++)c.push([y,r,m[k]])}return[]}return x}function g(h){for(var w=h[0],x=h[1],A=h[2],y=h.length,r=0;r<y;r+=3){var t=r+1,m=r+2;
0===h[r]&&0===h[t]&&0===h[m]&&(h[r]=w,h[t]=x,h[m]=A)}return h}function q(h,w,x){h=x.split(h,2);if(1>=h.length)return"";h=h[1].split(w,2);return h[0]}function C(h,w,x){var A=h.length/3,y,r=new Map,t=new Map,m=0,n=new Float32Array(h.length),k=new Float32Array(x.length);for(y=0;y<A;y++){var u=3*y;var l=u+1;var G=u+2;u=h[u];var L=h[l];G=h[G];var E=4*y;l=E+1;var H=E+2;E=x[E];var M=x[l];H=x[H];var N=Math.round(1E10*E+1E8*M+1E6*H+1E4*u+100*L+G);l=t.has(N);if(!0===l){var O=t.get(N);l=3*O;l=.01>Math.abs(u-
n[l])&&.01>Math.abs(L-n[l+1])&&.01>Math.abs(G-n[l+2]);!0===l&&(l=4*O,l=.01>Math.abs(E-k[l])&&.01>Math.abs(M-k[l+1])&&.01>Math.abs(H-k[l+2]))}l?r.set(y,O):(r.set(y,m),t.set(N,m),l=3*m,n[l]=u,n[l+1]=L,n[l+2]=G,l=4*m,k[l]=E,k[l+1]=M,k[l+2]=H,k[l+3]=1,m++)}n=n.slice(0,3*m);k=k.slice(0,4*m);w=w.map(function(U){return r.get(U)});console.log("Duplicate vertices merged: "+(A-m).toString()+" of "+A.toString());return[n,w,k]}p.r(e);p.d(e,"loadValsFromVRML",function(){return f});p.d(e,"removeStrayPoints",function(){return g});
var a=self,c=[],b=/(^|-| )[0-9.]{1,8}/g,v=void 0,z=!1;"undefined"!==typeof WorkerGlobalScope&&a instanceof WorkerGlobalScope&&(z=!0);z&&(a.onmessage=function(h){var w=h.data.cmd,x=h.data.data;h=h.data.removeExtraPts;"start"===w&&(f(x,h),w="sendDataChunk");"sendDataChunk"===w&&(w=c.shift(),x=0===c.length?"done":"more",void 0===w&&(x="done"),a.postMessage({chunk:w,status:x,geoCenter:v}))})}]);}).call(this || window)
