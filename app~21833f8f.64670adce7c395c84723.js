/**
 * ProteinVR (The 3-Clause BSD License)
 * 
 * Copyright 2021 Jacob D. Durrant.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(function(){'use strict';function aa(t){var b=0;return function(){return b<t.length?{done:!1,value:t[b++]}:{done:!0}}}function ea(t){var b="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return b?b.call(t):{next:aa(t)}}function ha(t){if(!(t instanceof Array)){t=ea(t);for(var b,a=[];!(b=t.next()).done;)a.push(b.value);t=a}return t}var ia="function"==typeof Object.create?Object.create:function(t){function b(){}b.prototype=t;return new b},ja;
if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={Ea:!0},na={};try{na.__proto__=la;ka=na.Ea;break a}catch(t){}ka=!1}ja=ka?function(t,b){t.__proto__=b;if(t.__proto__!==b)throw new TypeError(t+" is not extensible");return t}:null}var oa=ja;
function pa(t,b){t.prototype=ia(b.prototype);t.prototype.constructor=t;if(oa)oa(t,b);else for(var a in b)if("prototype"!=a)if(Object.defineProperties){var k=Object.getOwnPropertyDescriptor(b,a);k&&Object.defineProperty(t,a,k)}else t[a]=b[a];t.wb=b.prototype}
var qa="function"==typeof Object.defineProperties?Object.defineProperty:function(t,b,a){t!=Array.prototype&&t!=Object.prototype&&(t[b]=a.value)},ra="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function sa(){sa=function(){};ra.Symbol||(ra.Symbol=ta)}function ua(t,b){this.B=t;qa(this,"description",{configurable:!0,writable:!0,value:b})}ua.prototype.toString=function(){return this.B};
var ta=function(){function t(a){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new ua("jscomp_symbol_"+(a||"")+"_"+b++,a)}var b=0;return t}();function va(){sa();var t=ra.Symbol.iterator;t||(t=ra.Symbol.iterator=ra.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[t]&&qa(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return wa(aa(this))}});va=function(){}}
function wa(t){va();t={next:t};t[ra.Symbol.iterator]=function(){return this};return t}function xa(t,b){va();t instanceof String&&(t+="");var a=0,k={next:function(){if(a<t.length){var x=a++;return{value:b(x,t[x]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k}
function ya(t,b){if(b){var a=ra;t=t.split(".");for(var k=0;k<t.length-1;k++){var x=t[k];x in a||(a[x]={});a=a[x]}t=t[t.length-1];k=a[t];b=b(k);b!=k&&null!=b&&qa(a,t,{configurable:!0,writable:!0,value:b})}}ya("Array.prototype.keys",function(t){return t?t:function(){return xa(this,function(b){return b})}});
ya("Promise",function(t){function b(h){this.C=0;this.J=void 0;this.B=[];var c=this.D();try{h(c.resolve,c.reject)}catch(d){c.reject(d)}}function a(){this.B=null}function k(h){return h instanceof b?h:new b(function(c){c(h)})}if(t)return t;a.prototype.C=function(h){if(null==this.B){this.B=[];var c=this;this.D(function(){c.J()})}this.B.push(h)};var x=ra.setTimeout;a.prototype.D=function(h){x(h,0)};a.prototype.J=function(){for(;this.B&&this.B.length;){var h=this.B;this.B=[];for(var c=0;c<h.length;++c){var d=
h[c];h[c]=null;try{d()}catch(g){this.I(g)}}}this.B=null};a.prototype.I=function(h){this.D(function(){throw h;})};b.prototype.D=function(){function h(g){return function(n){d||(d=!0,g.call(c,n))}}var c=this,d=!1;return{resolve:h(this.Za),reject:h(this.I)}};b.prototype.Za=function(h){if(h===this)this.I(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof b)this.$a(h);else{a:switch(typeof h){case "object":var c=null!=h;break a;case "function":c=!0;break a;default:c=!1}c?this.Ya(h):
this.K(h)}};b.prototype.Ya=function(h){var c=void 0;try{c=h.then}catch(d){this.I(d);return}"function"==typeof c?this.ab(c,h):this.K(h)};b.prototype.I=function(h){this.sa(2,h)};b.prototype.K=function(h){this.sa(1,h)};b.prototype.sa=function(h,c){if(0!=this.C)throw Error("Cannot settle("+h+", "+c+"): Promise already settled in state"+this.C);this.C=h;this.J=c;this.Xa()};b.prototype.Xa=function(){if(null!=this.B){for(var h=0;h<this.B.length;++h)y.C(this.B[h]);this.B=null}};var y=new a;b.prototype.$a=
function(h){var c=this.D();h.va(c.resolve,c.reject)};b.prototype.ab=function(h,c){var d=this.D();try{h.call(c,d.resolve,d.reject)}catch(g){d.reject(g)}};b.prototype.then=function(h,c){function d(A,w){return"function"==typeof A?function(m){try{g(A(m))}catch(f){n(f)}}:w}var g,n,q=new b(function(A,w){g=A;n=w});this.va(d(h,g),d(c,n));return q};b.prototype.catch=function(h){return this.then(void 0,h)};b.prototype.va=function(h,c){function d(){switch(g.C){case 1:h(g.J);break;case 2:c(g.J);break;default:throw Error("Unexpected state: "+
g.C);}}var g=this;null==this.B?y.C(d):this.B.push(d)};b.resolve=k;b.reject=function(h){return new b(function(c,d){d(h)})};b.race=function(h){return new b(function(c,d){for(var g=ea(h),n=g.next();!n.done;n=g.next())k(n.value).va(c,d)})};b.all=function(h){var c=ea(h),d=c.next();return d.done?k([]):new b(function(g,n){function q(m){return function(f){A[m]=f;w--;0==w&&g(A)}}var A=[],w=0;do A.push(void 0),w++,k(d.value).va(q(A.length-1),n),d=c.next();while(!d.done)})};return b});
ya("Array.prototype.find",function(t){return t?t:function(b,a){a:{var k=this;k instanceof String&&(k=String(k));for(var x=k.length,y=0;y<x;y++){var h=k[y];if(b.call(a,h,y,k)){b=h;break a}}b=void 0}return b}});ya("Object.is",function(t){return t?t:function(b,a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a}});
ya("Array.prototype.includes",function(t){return t?t:function(b,a){var k=this;k instanceof String&&(k=String(k));var x=k.length;a=a||0;for(0>a&&(a=Math.max(a+x,0));a<x;a++){var y=k[a];if(y===b||Object.is(y,b))return!0}return!1}});
ya("String.prototype.includes",function(t){return t?t:function(b,a){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,a||0)}});function za(t,b){return Object.prototype.hasOwnProperty.call(t,b)}
ya("WeakMap",function(t){function b(c){this.B=(h+=Math.random()+1).toString();if(c){c=ea(c);for(var d;!(d=c.next()).done;)d=d.value,this.set(d[0],d[1])}}function a(){}function k(c){if(!za(c,y)){var d=new a;qa(c,y,{value:d})}}function x(c){var d=Object[c];d&&(Object[c]=function(g){if(g instanceof a)return g;k(g);return d(g)})}if(function(){if(!t||!Object.seal)return!1;try{var c=Object.seal({}),d=Object.seal({}),g=new t([[c,2],[d,3]]);if(2!=g.get(c)||3!=g.get(d))return!1;g.delete(c);g.set(d,4);return!g.has(c)&&
4==g.get(d)}catch(n){return!1}}())return t;var y="$jscomp_hidden_"+Math.random();x("freeze");x("preventExtensions");x("seal");var h=0;b.prototype.set=function(c,d){k(c);if(!za(c,y))throw Error("WeakMap key fail: "+c);c[y][this.B]=d;return this};b.prototype.get=function(c){return za(c,y)?c[y][this.B]:void 0};b.prototype.has=function(c){return za(c,y)&&za(c[y],this.B)};b.prototype.delete=function(c){return za(c,y)&&za(c[y],this.B)?delete c[y][this.B]:!1};return b});
ya("Map",function(t){function b(){var c={};return c.$=c.next=c.head=c}function a(c,d){var g=c.B;return wa(function(){if(g){for(;g.head!=c.B;)g=g.$;for(;g.next!=g.head;)return g=g.next,{done:!1,value:d(g)};g=null}return{done:!0,value:void 0}})}function k(c,d){var g=d&&typeof d;"object"==g||"function"==g?y.has(d)?g=y.get(d):(g=""+ ++h,y.set(d,g)):g="p_"+d;var n=c.C[g];if(n&&za(c.C,g))for(c=0;c<n.length;c++){var q=n[c];if(d!==d&&q.key!==q.key||d===q.key)return{id:g,list:n,index:c,O:q}}return{id:g,list:n,
index:-1,O:void 0}}function x(c){this.C={};this.B=b();this.size=0;if(c){c=ea(c);for(var d;!(d=c.next()).done;)d=d.value,this.set(d[0],d[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new t(ea([[c,"s"]]));if("s"!=d.get(c)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var g=d.entries(),n=g.next();if(n.done||n.value[0]!=c||"s"!=n.value[1])return!1;n=g.next();return n.done||4!=n.value[0].x||
"t"!=n.value[1]||!g.next().done?!1:!0}catch(q){return!1}}())return t;va();var y=new WeakMap;x.prototype.set=function(c,d){c=0===c?0:c;var g=k(this,c);g.list||(g.list=this.C[g.id]=[]);g.O?g.O.value=d:(g.O={next:this.B,$:this.B.$,head:this.B,key:c,value:d},g.list.push(g.O),this.B.$.next=g.O,this.B.$=g.O,this.size++);return this};x.prototype.delete=function(c){c=k(this,c);return c.O&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.C[c.id],c.O.$.next=c.O.next,c.O.next.$=c.O.$,c.O.head=null,
this.size--,!0):!1};x.prototype.clear=function(){this.C={};this.B=this.B.$=b();this.size=0};x.prototype.has=function(c){return!!k(this,c).O};x.prototype.get=function(c){return(c=k(this,c).O)&&c.value};x.prototype.entries=function(){return a(this,function(c){return[c.key,c.value]})};x.prototype.keys=function(){return a(this,function(c){return c.key})};x.prototype.values=function(){return a(this,function(c){return c.value})};x.prototype.forEach=function(c,d){for(var g=this.entries(),n;!(n=g.next()).done;)n=
n.value,c.call(d,n[1],n[0],this)};x.prototype[Symbol.iterator]=x.prototype.entries;var h=0;return x});
ya("Set",function(t){function b(a){this.B=new Map;if(a){a=ea(a);for(var k;!(k=a.next()).done;)this.add(k.value)}this.size=this.B.size}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),k=new t(ea([a]));if(!k.has(a)||1!=k.size||k.add(a)!=k||1!=k.size||k.add({x:4})!=k||2!=k.size)return!1;var x=k.entries(),y=x.next();if(y.done||y.value[0]!=a||y.value[1]!=a)return!1;y=x.next();return y.done||y.value[0]==a||4!=y.value[0].x||
y.value[1]!=y.value[0]?!1:x.next().done}catch(h){return!1}}())return t;va();b.prototype.add=function(a){a=0===a?0:a;this.B.set(a,a);this.size=this.B.size;return this};b.prototype.delete=function(a){a=this.B.delete(a);this.size=this.B.size;return a};b.prototype.clear=function(){this.B.clear();this.size=0};b.prototype.has=function(a){return this.B.has(a)};b.prototype.entries=function(){return this.B.entries()};b.prototype.values=function(){return this.B.values()};b.prototype.keys=b.prototype.values;
b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,k){var x=this;this.B.forEach(function(y){return a.call(k,y,y,x)})};return b});ya("Math.sign",function(t){return t?t:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}});
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/7QA":function(t,b,a){a.r(b);(function(k){var x=a("fcUb"),y=a("p11u"),h=a("gqHH"),c=a("gjsD"),d=a("t5e9"),g=a("iItH"),n=a("BMQn"),q=a("jOUz"),A=a("2+Tl"),w=a("lQ36"),m=a("lFou");window.jq=k;console.log("ProteinVR "+h.k);console.log("Compiled on 7/9/2021, 2:54:05 AM (EST)");document.title="ProteinVR "+h.k;A.a().then(function(){w.a();c.a();Object(m.c)();n.b();y.h();q.a();g.a();x.a();d.a()})}).call(this,a("EVdn"))},"/fW+":function(t,b,a){function k(C){var L=
this;this.button=new p.c(C.name);C.Oa.addControl(this.button);this.K();void 0!==C.color&&this.oa(C.color);this.level=C.level;this.B=new p.g;this.B.color="white";this.B.tb=!0;this.value=C.default;this.na=C.na;this.ka=C.ka;this.X=C.X;this.Ca();this.button.scaling=l.clone();this.Y=f.j.CreateSphere(C.name+"-container-mesh",2,m.a,m.t);this.Y.position=this.button.node.absolutePosition;this.Y.visibility=0;this.Y.scaling=l.clone();this.Y.X=function(){L.Ba()};e.a(this.Y);void 0!==C.Ka&&C.Ka(this)}function x(){B=
[];H=[];u={Styles:E.a(),Rotate:z.b()};void 0===J&&(J=new p.b(m.t));q();c();O=new f.u("CommonMenuAnchor_ForPanel");y();void 0===F&&g();void 0===G&&(G=new f.s("click-button",M.Ea,m.t,null,{loop:!1,autoplay:!1,vb:!0,volume:.1}))}function y(){var C=new p.e;C.radius=m.f;C.margin=m.e;J.addControl(C);C.blockLayout=!0;for(var L={},S=0;16>S;L={Da:L.Da},S++){L.Da=function(){};var T=S.toString();B.push(new k({X:function(){return function(){}}(L),default:!1,ka:T,Ka:function(K){K.isVisible(!1)},level:1,name:"menu-visible-button-"+
T,Oa:C,na:T,color:"yellow"}))}C.columns=4;C.linkToTransformNode(O);C.blockLayout=!1}function h(C){function L(S,T){C(S,T);for(var K=Object.keys(S),P=K.length,R=0;R<P;R++){var Z=K[R],Q=S[Z];switch(typeof Q){case "object":L(Q,T.concat([Z]))}}}L(u,[])}function c(){h(function(C,L){d(C,L)})}function d(C,L){0<L.length&&(C["Back \u21e6"]=function(){n(L.slice(0,L.length-1))});C["Close Menu \u00d7"]=function(){F.Ba()}}function g(){var C=new p.f;J.addControl(C);F=new k({X:function(S){S.value?n([]):n(void 0);
O.position.copyFrom(A.a());O.rotation.y=A.c()},default:!1,ka:"Show Menu",level:0,name:"menu-visible-button",Oa:C,na:"Hide Menu"});F.button.position.y=.75;F.button.position.z=.75;var L=new f.u("MainMenuAnchorToggle_FloorButton");C.linkToTransformNode(L);L.rotation.x=.5*Math.PI;L.position.copyFrom(w.b);L.position.y+=.1;L.rotation.y=A.c();L.rotation.x=.4*Math.PI;m.t.registerBeforeRender(function(){L.position.copyFrom(w.b);L.position.y+=.1;L.rotation.y=A.c()})}function n(C){void 0!==C&&0<C.length&&(H=
C,void 0===u.Last&&(u.Last=function(){console.log("Going to",H);n(H)}));for(var L=B.length,S=0;S<L;S++)B[S].isVisible(!1);if(void 0!==C){L=u;S=C.length;for(var T=0;T<S;T++)L=L[C[T]];S=Object.keys(L);T=["Close Menu \u00d7","Exit VR \u00d7"];var K=["Back \u21e6"],P=T.concat(K);Object(D.b)(S);S.sort(function(I,N){I=-1!==P.indexOf(I);N=-1!==P.indexOf(N);return I&&!N?1:!I&&N?-1:0});var R=[];R=4>=S.length?[7,6,5,4]:8>=S.length?[7,6,5,4,11,10,9,8]:12>=S.length?[3,2,1,0,7,6,5,4,11,10,9,8]:[3,2,1,0,7,6,5,
4,11,10,9,8,15,14,13,12];for(var Z=S.length,Q={},W=0;W<Z;Q={ea:Q.ea},W++){Q.ea=S[W];var V=L[Q.ea],r=B[R[W]];r.Ca(Q.ea);switch(typeof V){case "object":r.X=function(I){return function(){n(C.concat(I.ea))}}(Q);r.oa("green");break;case "function":r.X=V,r.oa("default")}-1!==T.indexOf(Q.ea)?r.oa("red"):-1!==K.indexOf(Q.ea)&&r.oa("yellow");r.isVisible(!0)}}}function q(){function C(L,S){var T=Object.keys(L);if(1===T.length){T=T[0];var K=S[S.length-1],P=K+": "+T;S=S.slice(0,S.length-1).concat([P]);L=u;for(var R=
S.slice(0,S.length-1),Z=R.length,Q=0;Q<Z;Q++)L=L[R[Q]];L[P]=L[K][T];delete L[K];L=L[P];T=Object.keys(L)}K=T.length;for(P=0;P<K;P++)switch(R=T[P],Z=L[R],typeof Z){case "object":C(Z,S.concat([R]))}}C(u,[])}a.d(b,"b",function(){return u});a.d(b,"a",function(){return G});a.d(b,"c",function(){return F});a.d(b,"d",function(){return x});a.d(b,"e",function(){return d});var A=a("vCcv"),w=a("ph2Y"),m=a("gqHH"),f=a("v5Mq"),p=a("vjql"),e=a("TqLJ"),l=new f.v(.75,.75,.75);k.prototype.oa=function(C){switch(C){case "default":this.button.mesh.material=
this.C;break;case void 0:this.button.mesh.material=this.C;break;case "green":this.button.mesh.material=this.D;break;case "yellow":this.button.mesh.material=this.J;break;case "red":this.button.mesh.material=this.I}};k.prototype.isVisible=function(C){if(void 0===C)return this.button.isVisible;this.button.isVisible=C;this.Y.isVisible=C};k.prototype.Ba=function(){G.setPosition(this.Y.position.clone());G.play();this.value=!this.value;this.X(this);this.Ca()};k.prototype.Ca=function(C){void 0===C?this.B.text=
this.value?this.na:this.ka:this.ka=this.na=this.B.text=C;this.B.text=this.wrap(this.B.text,25);this.button.content.dispose();this.button.content=this.B};k.prototype.wrap=function(C,L){return C.replace(new RegExp("(?![^\\n]{1,"+L+"}$)([^\\n]{1,"+L+"})\\s","g"),"$1\n")};k.prototype.K=function(){this.C=this.button.mesh.material;this.D=this.button.mesh.material.clone();this.D.albedoColor=new f.c(.3,.35+.1,.4);this.J=this.button.mesh.material.clone();this.J.albedoColor=new f.c(.4,.35+.1,.4);this.I=this.button.mesh.material.clone();
this.I.albedoColor=new f.c(.4,.35,.4)};var z=a("XSPr"),E=a("GJqe");t=a("zblS");var M=a.n(t),D=a("k3hL"),u,G=void 0,F,B,H,J,O},"0fSa":function(t,b,a){function k(){w.a("OptimizeScene",["LoadBabylonScene"],function(f){q.t.autoClear=!1;q.t.autoClearDepthAndStencil=!1;var p=q.t.meshes.length;new m.c(0,0,0);for(var e=0;e<p;e++){var l=q.t.meshes[e];-1!==l.name.indexOf("baked")&&void 0!==l.material&&l.freezeWorldMatrix()}x();y();p=q.t.meshes.length;for(e=0;e<p;e++)(l=q.t.meshes[e].material)&&l.emissiveTexture&&
(l.emissiveColor=new m.c(1,1,1),l.albedoColor=new m.c(0,0,0),l.nb=new m.c(0,0,0));p=q.t.meshes.length;for(e=0;e<p;e++)if(q.t.meshes[e].material){l=q.t.meshes[e];var z=l.material;if(void 0===z.emissiveTexture||null===z.emissiveTexture&&"navTargetMesh"!==l.name)z.emissiveTexture=z.diffuseTexture,z.diffuseColor=new m.c(0,0,0),z.specularColor=new m.c(0,0,0),z.emissiveColor=new m.c(0,0,0);c(l,!1);A.f({mesh:l,scene:q.t})}f()})}function x(){for(var f=!1,p=q.t.lights.map(function(E){return E}),e=n.b().name.toLowerCase();0<
p.length;){var l=p.shift(),z=l.name.toLowerCase();z!==e?-1===z.indexOf("keeplight")&&l.dispose():f?-1===z.indexOf("keeplight")&&l.dispose():f=!0}}function y(){for(var f=q.t.meshes.length,p={},e=0;e<f;p={da:p.da},e++)p.da=q.t.meshes[e],"protein_box"===p.da.name?p.da.isVisible=!1:-1!==p.da.name.toLowerCase().indexOf("skybox")&&q.u.Ja&&(p.da.material.disableLighting=!0,q.t.registerBeforeRender(function(l){return function(){l.da.position=q.t.activeCamera.position}}(p)))}function h(f){if(void 0!==f){var p=
f.getVerticesData(m.w.PositionKind);null===p?p=null:p=p.length/3}else p=0;null===p||100>p||(p=1+Math.floor(p/q.d),1<p&&f.subdivide(p))}function c(f,p){(void 0===p||p)&&f.material.freeze()}function d(){if(n.e){var f=n.b();f.autoUpdateExtends=!0;n.e.getShadowMap().refreshRate=m.n.REFRESHRATE_RENDER_ONCE;f.autoUpdateExtends=!1}}function g(f){null!==f&&f.dispose()}a.d(b,"d",function(){return k});a.d(b,"b",function(){return h});a.d(b,"a",function(){return c});a.d(b,"e",function(){return d});a.d(b,"c",
function(){return g});var n=a("sqbB"),q=a("gqHH"),A=a("TqLJ"),w=a("VNi4"),m=a("v5Mq")},"1RHl":function(t,b,a){function k(){h.a("SetupCamera",["LoadBabylonScene"],function(g){d=x.t.cameras.filter(function(q){return-1===q.name.indexOf("XR")&&-1===q.name.indexOf("VR")&&""!==q.name})[0];var n=new c.e("DevOr_camera",d.position.clone(),x.t,!0);n.rotation=d.rotation.clone();x.t.activeCamera=n;x.t.activeCamera.rotationQuaternion=c.l.FromEulerVector(d.rotation);y.d();g()})}a.d(b,"a",function(){return k});
var x=a("gqHH"),y=a("ejGh"),h=a("VNi4"),c=a("v5Mq"),d},"2+Tl":function(t,b,a){function k(){return Promise.resolve()}a.d(b,"a",function(){return k})},"7zZK":function(t,b,a){function k(w){var m=window.location.protocol+"//"+window.location.host+window.location.pathname,f=q.b.state.shadowsHardwareScaling.useHardwareScaling;w.sh=q.b.state.shadowsHardwareScaling.useShadows;w.hs=f;void 0===w.e&&(f=q.b.state.selectEnvironment.environment,localStorage.setItem("environ",f),w.e=f);f=Object.keys(w).map(function(p){return p+
"="+encodeURIComponent(w[p].toString())}).join("&");return m+"?"+f}function x(w,m,f){f=void 0===f?{}:f;void 0===m&&(m=-1!==w.indexOf("\nATOM ")?"pdb":-1!==w.indexOf("\nHETATM ")?"pdb":"sdf");f.s="LOCALFILE";sessionStorage.setItem("fileContent",w);sessionStorage.setItem("fileType",m);window.location.href=k(f)}function y(w){w=JSON.parse(w);var m=w.scene;delete w.scene;x(m.file,m.type,w)}function h(w){if(void 0!==w)return w=w.replace(/\.pvr\.json$/g,".pvr"),w.replace(/^\s+|\s+$/g,"").slice(w.length-
4).toUpperCase()}function c(){localStorage.setItem("shadows",q.b.state.shadowsHardwareScaling.useShadows.toString());localStorage.setItem("hardwareScaling",q.b.state.shadowsHardwareScaling.useHardwareScaling.toString())}function d(){null!==localStorage.getItem("shadows")&&q.b.commit("setVar",{F:"shadowsHardwareScaling",H:"useShadows",G:"true"===localStorage.getItem("shadows")});null!==localStorage.getItem("hardwareScaling")?q.b.commit("setVar",{F:"shadowsHardwareScaling",H:"useHardwareScaling",G:"true"===
localStorage.getItem("hardwareScaling")}):q.b.commit("setVar",{F:"shadowsHardwareScaling",H:"useHardwareScaling",G:!0});!0!==window.webXRPolyfill.nativeWebXR&&q.b.commit("setVar",{F:"shadowsHardwareScaling",H:"showHardwareScaling",G:!0})}function g(w,m){return Object(A.a)("js/FileSaver.min.js").then(function(){window.saveAs(w,m);return Promise.resolve()})}function n(w,m){return Object(A.a)("js/FileSaver.min.js").then(function(){window.saveAs(new Blob([w],{type:"application/octet-stream;charset=utf-8"}),
m);return Promise.resolve()})}a.d(b,"f",function(){return k});a.d(b,"d",function(){return x});a.d(b,"e",function(){return y});a.d(b,"c",function(){return h});a.d(b,"h",function(){return c});a.d(b,"g",function(){return d});a.d(b,"a",function(){return g});a.d(b,"b",function(){return n});var q=a("sLDT"),A=a("ma4r")},"8AaI":function(t,b,a){(function(k){function x(){var m=w.apply(this,arguments)||this;m.tag="modal";m.methods={};var f={};m.B=(f.skinnyClass=function(){return this.skinny?"skinny-modal":""},
f.msgContainerStyles=function(){return this.isUrl?"":"text-align: initial;"},f);m.D={id:{required:!0},title:{required:!0},hasCloseBtn:{required:!0},unclosable:{required:!0},showBackdrop:{required:!0,"default":!0},skinny:{required:!0},btnText:{required:!0},open:{required:!0,"default":!1}};m.J={open:function(p){var e=this;!0===p?y().then(function(){k(".modal-backdrop").hide();!0===e.unclosable&&(e.Ma={backdrop:"static",keyboard:!1},e.ba.on("shown.bs.modal",function(){k(".modal-backdrop.show").css("opacity",
1)}));e.ba.on("shown.bs.modal",function(){var l=k(".modal-backdrop");!0===e.showBackdrop?l.css("background-color","rgb(0,0,0)"):l.css("background-color","transparent");e.$emit("onReady");q=!0});e.ba.modal(e.Ma)}):this.ba.modal("hide")}};m.I=g.a;m.K={state:{},L:{}};m.data=function(){return{Ma:{},ba:void 0}};m.C=function(){var p=this;this.ba=k("#"+this.id);A.push(this.ba);this.ba.find(".modal-header").on("mousedown",function(e){var l=k(this),z=e.pageX-l.offset().left,E=e.pageY-l.offset().top;k("body").on("mousemove.draggable",
function(M){l.closest(".modal-dialog").offset({left:M.pageX-z,top:M.pageY-E})});k("body").one("mouseup",function(){k("body").off("mousemove.draggable")});l.closest(".modal").one("bs.modal.hide",function(){k("body").off("mousemove.draggable");setTimeout(function(){k(".modal-backdrop").hide()},100)})});this.ba.on("hidden.bs.modal",function(){q=!1;n.p.tabIndex=n.r.Ga;n.p.focus();p.$emit("onClose")})};return m}function y(){for(var m=A.length,f=[],p={},e=0;e<m;p={ya:p.ya},e++)p.ya=A[e],f.push(new Promise(function(l){return function(z){l.ya.modal("hide");
setTimeout(function(){z(void 0)},250)}}(p)));return Promise.all(f)}function h(){return A.map(function(m){return m.hasClass("show")}).reduce(function(m,f){return m||f})}a.d(b,"c",function(){return q});a.d(b,"a",function(){return x});a.d(b,"b",function(){return h});var c=a("vphU"),d=a("SYky");a.n(d);var g=a("tsqi"),n=a("gqHH"),q=!1,A=[],w=c.a;pa(x,w)}).call(this,a("EVdn"))},"9bcR":function(t,b,a){(function(k){function x(){D.a("SetupNavigation",["LoadBabylonScene"],function(C){l.b()?(f.A.M=3,f.t.getMeshByID("ground").visibility=
0,f.A.la.isVisible=!1):(M.a(),f.A.T=f.t.getMeshByID("ground"),null===f.A.T&&alert("No mesh named ground"),f.A.T.checkCollisions=!0,f.A.T.visibility=0,m.b(f.A.T),p.f({ua:c,mesh:f.A.T}),f.A.M=3,h(),e.g(),n(),y());C()})}function y(){F=A.a();f.t.registerBeforeRender(function(){var C=A.a();null===e.d(C).pickedMesh&&B===f.t.activeCamera.id?A.e(F):(F=C,B=f.t.activeCamera.id)})}function h(){k("body").keydown(function(C){!1===E.c&&(C="undefined"==typeof C.which?C.keyCode:C.which,32===C?c():77===C?z.c.Ba():
27===C&&u.a())})}function c(){if(!l.b()){var C=(new Date).getTime();if(!(250>C-H))switch(H=C,p.e()){case 2:d();break;case 4:g();break;case 3:p.d.X()}}}function d(C,L){void 0===L&&(L=function(){});f.A.la.isVisible=!1;var S=new G.b("animationCameraTeleportation","position",90,G.b.ANIMATIONTYPE_VECTOR3,G.b.ANIMATIONLOOPMODE_CONSTANT),T=A.a();void 0===C&&(C=new G.v(e.a.x,e.a.y+f.o,e.a.z));var K=A.d();C=C.subtract(K);T=T.subtract(K);S.setKeys([{frame:0,value:T},{frame:f.j,value:C}]);var P=f.t.activeCamera;
P.animations=[];P.animations.push(S);f.t.beginAnimation(P,0,f.j,!1,1,function(){f.A.la.isVisible=!0;P.animations=[];L()})}function g(){var C=e.c,L=A.a(),S=e.a.subtract(L),T=S.length(),K;.1*T<f.g?K=e.a.subtract(S.normalize().scale(f.g)):.1*T>f.b?K=e.a.subtract(S.normalize().scale(f.b)):.1*T<f.b&&(K=L.add(S.scale(.9)));K.y=e.a.y;K.y-C.y<.5*f.a+.1&&(K.y=C.y+.5*f.a+.1);f.w(e.a.y-C.y);d(K,function(){w.b()})}function n(){J=k("#capture-clicks");J.click(function(){c()});setInterval(q,500)}function q(){if(!0!==
O){var C=f.t.activeCamera.inputs.attached.deviceOrientation;(C=C?0!==C._alpha||0!==C._beta||0!==C._gamma:!1)&&!O?(O=!0,J.show(),console.log("Device orientation sensor detected...")):!C&&O&&(O=!1,J.hide())}}a.d(b,"b",function(){return x});a.d(b,"a",function(){return c});var A=a("vCcv"),w=a("ejGh"),m=a("0fSa"),f=a("gqHH"),p=a("TqLJ"),e=a("ph2Y"),l=a("p11u"),z=a("/fW+"),E=a("8AaI"),M=a("vMIs"),D=a("VNi4"),u=a("nV79"),G=a("v5Mq"),F,B="",H=0,J=void 0,O=!1}).call(this,a("EVdn"))},BMQn:function(t,b,a){function k(){var c=
[];c.push.apply(c,ha(y.a()));for(var d=c.length,g=0;g<d;g++){var n=c[g];void 0===h[n.type]&&(h[n.type]=[]);h[n.type].push(n)}}function x(c){return h[c]}a.d(b,"b",function(){return k});a.d(b,"a",function(){return x});var y=a("DXjm"),h={}},DXjm:function(t,b,a){function k(){var r=W.apply(this,arguments)||this;r.tag="select-environment";var I={};r.methods=(I.changeEnvironment=function(N){this.$store.commit("setVar",{F:"selectEnvironment",H:"environment",G:N})},I);r.B={};r.D={pluginSlug:{required:!0}};
r.J={};r.I='<form-input-wrapper> \x3c!-- <label for="environments">Environment</label> --\x3e <label :for="\'environments-\' + pluginSlug"> Select an environment to give context to your molecule. \x3c!-- Or <a href="#" onclick="loadMoreModels();">load complex environments</a> from durrantlab.com. --\x3e \x3c!-- Now loading automatically. --\x3e </label> <form-options :id="\'environments-\' + pluginSlug" :options="$store.state.selectEnvironment.environOptions" :selected="$store.state.selectEnvironment.environment" @change="changeEnvironment" > </form-options> \x3c!-- <p class="help-block"></p> --\x3e </form-input-wrapper>';
r.K={state:{environment:"",environOptions:[]},L:{}};r.data=function(){return{}};r.C=function(){f()};return r}function x(){var r=Q.apply(this,arguments)||this;r.tag="replace-warning";r.methods={};r.B={showWarning:{get:function(){return this.$store.state.replaceWarning.showWarning},set:function(I){this.$store.commit("setVar",{F:"replaceWarning",H:"showWarning",G:I})}}};r.D={};r.J={};r.I='<div v-if="showWarning" class="container-fluid" style="padding-top:15px;"> <div class="row will-erase"> \x3c!-- style="display:none;"> --\x3e <div class="col-md-12"> <div class="will-erase alert alert-warning" role="alert" style="text-align:center;"> A new molecule will replace the current one! </div> <hr class="mt-3 mb-4" style="border-top:0;" /> </div> </div> </div>';
r.K={state:{showWarning:!1},L:{}};r.data=function(){return{}};r.C=function(){};return r}function y(){var r=Z.apply(this,arguments)||this;r.tag="panel-footer";r.methods={};r.B={};r.D={};r.J={};r.I='<div> <hr /> <p> ProteinVR {{version}} is brought to you by the <a rel="noopener" href="http://durrantlab.com" target="_blank">Durrant Lab</a>, thanks in part to generous support from the <a href="https://www.provost.pitt.edu/acie/awards" target="_blank">University of Pittsburgh</a> and the <a href="https://reporter.nih.gov/project-details/9833043" target="_blank">National Institutes of Health</a>. If you use ProteinVR in your research, please cite our <a href="https://dx.plos.org/10.1371/journal.pcbi.1007747" target="_blank">article in PLoS Computational Biology</a>. </p> </div>';
r.data=function(){return{version:O.k}};r.C=function(){this.version=O.k};return r}function h(){var r=R.apply(this,arguments)||this;r.tag="shadows-hardware-scaling";var I={};r.methods=(I.onChangeHardwareScaling=function(N){F.b.commit("setVar",{F:"shadowsHardwareScaling",H:"useHardwareScaling",G:N})},I.onChangeShadows=function(N){F.b.commit("setVar",{F:"shadowsHardwareScaling",H:"useShadows",G:N})},I);I={};r.B=(I.hideHrdScle=function(){return!this.$store.state.shadowsHardwareScaling.showHardwareScaling},
I);r.D={pluginSlug:{required:!0}};r.J={};r.I='<div> <h5>Graphics Settings</h5> <form-checkbox :id="\'molecular-shadows-\' + pluginSlug" label="Allow Molecules to Cast Subtle Shadows" helpMsg="Molecular shadows can slow navigation and may crash some mobile browsers." :hidden="hideShadowsOption" :checked="$store.state.shadowsHardwareScaling.useShadows" @change="onChangeShadows" > </form-checkbox> <form-checkbox :id="\'set-hardware-scaling-level-\' + pluginSlug" label="Enhance Resolution in VR Mode (Recommended)" helpMsg="Try disabling enhanced VR resolution if ProteinVR sends incongruous images to each eye in VR mode." :hidden="hideHrdScle" :checked="$store.state.shadowsHardwareScaling.useHardwareScaling" @change="onChangeHardwareScaling" > </form-checkbox> \x3c!-- can cause problems on some headsets.--\x3e\x3c!-- (e.g., graphics in only one eye, left-eye field of view impinges on right, etc.).--\x3e \x3c!-- VR breaks on your device. --\x3e </div>';
r.K={state:{showHardwareScaling:!1,useHardwareScaling:!0,useShadows:!1},L:{}};r.data=function(){return{hideShadowsOption:!1}};r.C=function(){P.a()&&(this.hideShadowsOption=!0)};return r}function c(){var r=K.apply(this,arguments)||this;r.tag="panel";r.methods={};r.B={};r.D={};r.J={};r.I='<div class="container-fluid" style="padding-top:15px;"> <slot></slot> <hr class="mt-3 mb-3" style="border-top:0;" /> <panel-footer></panel-footer> </div>';r.data=function(){return{}};r.C=function(){};return r}function d(){var r=
T.apply(this,arguments)||this;r.ca="New<div class='emoji'>\ud83d\udcc2</div>";r.U="new";r.tag="new-panel";var I={};r.methods=(I.submitNew=function(){this.S()},I.S=function(){z.h();window.location.href=z.f({})},I.Z=function(){},I);r.B={};r.D={};r.J={};r.I='<panel> <h5>Load New (Blank) Scene</h5> <replace-warning></replace-warning> <select-environment pluginSlug="new-scene"></select-environment> <shadows-hardware-scaling pluginSlug="new-scene"></shadows-hardware-scaling> <form-button id="submit-new" cls="primary" @click.native="submitNew()"> New Scene </form-button> </panel>';
r.K={state:{},L:{}};r.data=function(){return{}};r.C=function(){};return r}function g(){var r=S.apply(this,arguments)||this;r.ca="Model<div class='emoji'>\ud83d\udcbe</div>";r.U="proteinvr-save-model";r.tag="proteinvr-save-model-panel";var I={};r.methods=(I.ib=function(){m();L.a.GLTFAsync(O.t,this.pvrModelFileName.slice(0,this.pvrModelFileName.length-5),this.Na).then(function(N){N.downloadFiles();O.t.getMeshByID("ProteinVRExport").dispose()})},I.hb=function(){m();L.a.GLBAsync(O.t,this.pvrModelFileName.slice(0,
this.pvrModelFileName.length-4),this.Na).then(function(N){N.downloadFiles();O.t.getMeshByID("ProteinVRExport").dispose()})},I.jb=function(){var N=O.t.meshes.filter(function(Y){return"MeshFrom3DMol"===Y.name.slice(0,13)});N=L.b.OBJ(N,!0,"",!0);Object(z.b)(N,this.pvrModelFileName)},I.lb=function(){var N=O.t.meshes.filter(function(Y){return"MeshFrom3DMol"===Y.name.slice(0,13)});L.c.CreateSTL(N,!0,this.pvrModelFileName.slice(0,this.pvrModelFileName.length-4),void 0,void 0,!1)},I.mb=function(){Object(z.b)(J.o,
this.pvrModelFileName)},I.startSave=function(){this.btnTxt="Saving...";this.overwriteBtnDisabled=!0;var N=this;setTimeout(function(){switch(N.formatInfo.format){case "GLTF":N.ib();break;case "GLB":N.hb();break;case "OBJ":N.jb();break;case "STL":N.lb();break;case "VRML":N.mb()}N.$store.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!1});setTimeout(function(){N.btnTxt="Save File";N.overwriteBtnDisabled=!1;B.b("Model exported")},1E3)},1E3)},I.S=function(){},I.onChange=function(N){this.pvrModelFileName=
N},I.onEnter=function(){this.startSave()},I.Z=function(){},I);I={};r.B=(I.btnDisabled=function(){return""===this.formatInfo.format},I.formatInfo=function(){if(-1===this.pvrModelFileName.indexOf("."))return{msg:"",format:""};var N=this.pvrModelFileName.split(".");switch(N[N.length-1].toUpperCase()){case "GLTF":return{msg:"",format:"GLTF"};case "GLB":return{msg:"",format:"GLB"};case "OBJ":return{msg:"ProteinVR cannot include color information when exporting to this format.",format:"OBJ"};case "STL":return{msg:"ProteinVR cannot include color information when exporting to this format.",
format:"STL"};case "VRML":return{msg:'VRML support is limited. Often only a portion of the scene is exported. Color information will be saved as vertex colors. In <a href="https://www.blender.org/" target="_blank">Blender</a>, use a material like this:<br /><img src="blender_mat_example.png">',format:"VRML"}}return{msg:"Extension invalid.",format:""}},I);r.D={};r.J={};r.I='<panel> <h5>Export 3D Model</h5> <p>Export to formats compatible with graphics programs such as <a href="https://www.blender.org/" target="_blank">Blender</a>. ProteinVR cannot read from these formats, so save separately to a ProteinVR-compatible format if you wish to reload later.</p> <form-input-wrapper> <form-input id="pvr-model-file-name" placeholder="Model file name" type="text" :value="pvrModelFileName" @change="onChange" @enter="onEnter"> Enter the name of the 3D model (ending in .gltf, .glb, .obj, .stl, or .vrml). </form-input> \x3c!-- <p class="help-block">moose</p> --\x3e </form-input-wrapper> <div v-if="formatInfo.msg !== \'\'" v-html="formatInfo.msg" class="will-erase alert alert-warning" role="alert" style="text-align:center;"> </div> <form-button :disabled="overwriteBtnDisabled || btnDisabled" @click.native="startSave" id="save-proteinvr-model"> {{btnTxt}} </form-button> </panel>';
r.K={state:{},L:{}};r.data=function(){return{pvrModelFileName:"my-scene.glb",btnTxt:"Save File",overwriteBtnDisabled:!1,Na:{shouldExportNode:function(N){return"ProteinVRExport"===N.name.slice(0,15)}}}};r.C=function(){};return r}function n(){var r=H.apply(this,arguments)||this;r.ca="QR<div class='emoji'>\ud83d\udcbe</div>";r.U="proteinvr-qr-code";r.tag="proteinvr-qr-code-panel";var I={};r.methods=(I.startSave=function(){var N=this,Y=this.qrCodeFileName;".png"!==Y.slice(Y.length-4)&&(this.qrCodeFileName=
Y+=".png");this.btnTxt="Saving...";this.btnDisabled=!0;setTimeout(function(){N.S(Y);N.$store.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!1});setTimeout(function(){N.btnTxt="Save PNG File";N.btnDisabled=!1},1E3)},1E3)},I.S=function(N){this.kb(N)},I.kb=function(N){var Y=F.c.state.proteinvrQrCodePanel.imgSrc,v=atob(Y.split(",")[1]);Y=Y.split(",")[0].split(":")[1].split(";")[0];for(var U=new ArrayBuffer(v.length),ba=new Uint8Array(U),X=0;X<v.length;X++)ba[X]=v.charCodeAt(X);Object(z.a)(new Blob([U],
{type:Y}),N).then(function(){Object(B.b)("QR download")})},I.onChange=function(N){this.qrCodeFileName=N},I.onEnter=function(){this.startSave()},I.Z=function(){for(var N=G.g(window.location.href,!0),Y={},v=ea(N.keys()),U=v.next();!U.done;U=v.next())U=U.value,Y[U]=N.get(U);if("LOCALFILE"===Y.s)F.c.commit("setVar",{F:"proteinvrQrCodePanel",H:"canUseQRCode",G:!1});else{F.c.commit("setVar",{F:"proteinvrQrCodePanel",H:"canUseQRCode",G:!0});var ba=window.location.origin+window.location.pathname+"?"+Object.keys(Y).map(function(X){return X+
"="+encodeURIComponent(Y[X])}).join("&");u.a("./js/qrcode.min.js").then(function(){window.QRCode.toDataURL(ba,function(X,fa){F.c.commit("setVar",{F:"proteinvrQrCodePanel",H:"imgSrc",G:fa})})})}},I);r.B={};r.D={};r.J={};r.I='<panel> <h5>QRCode</h5> <span v-if="$store.state.proteinvrQrCodePanel.canUseQRCode"> <img style="max-width: 200px; width: 100%; margin-left: auto; margin-right: auto; display: block;" :src="$store.state.proteinvrQrCodePanel.imgSrc" alt="QR code"> <form-input-wrapper> <form-input id="qr-code-file-name" placeholder="QR code file" type="text" :value="qrCodeFileName" @change="onChange" @enter="onEnter"> Enter the name of the file (ending in ".png"). </form-input> \x3c!-- <p class="help-block"></p> --\x3e </form-input-wrapper> <form-button :disabled="btnDisabled" @click.native="startSave" id="save-qrcode"> {{btnTxt}} </form-button> </span> <span v-else> <div class="container-fluid" style="padding-top:15px;"> <div class="row"> <div class="col-md-12"> <div class="alert alert-warning" role="alert" style="text-align:center;"> Cannot save your scene as a QR code because it relies on data from your local computer. Setup your scene using only web-accessible models (loaded via the "Web" tab) to use this feature. </div> <hr class="mt-3 mb-3" style="border-top:0;" /> </div> </div> </div> </span> </panel>';
r.K={state:{imgSrc:void 0,canUseQRCode:!0},L:{}};r.data=function(){return{qrCodeFileName:"my-scene.png",btnTxt:"Save PNG File",btnDisabled:!1,imgSrc:""}};r.C=function(){};return r}function q(){var r=M.apply(this,arguments)||this;r.ca="Text<div class='emoji'>\ud83d\udcc2</div>";r.U="pdb-sdf-text";r.tag="pdb-sdf-text-panel";var I={};r.methods=(I.startLoad=function(){this.S(this.fileContents)},I.S=function(N){z.h();z.d(N)},I.onChangeText=function(N){this.fileContents=N},I.Z=function(){},I.addSdfText=
function(){this.fileContents="85871450\nBasketeen\n\n 20 24  0  0  1  0  0  0  0  0999 V2000\n    1.8163    0.0643   -0.3187 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.9502   -0.1106   -1.0129 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.0493   -1.4466   -1.6124 C   0  0  3  0  0  0  0  0  0  0  0  0\n    2.8864   -2.6320   -0.6396 C   0  0  3  0  0  0  0  0  0  0  0  0\n    2.1100   -3.3634   -1.7367 C   0  0  3  0  0  0  0  0  0  0  0  0\n    0.8342   -3.1834   -0.9426 C   0  0  3  0  0  0  0  0  0  0  0  0\n    1.5544   -2.4024    0.1526 C   0  0  3  0  0  0  0  0  0  0  0  0\n    0.9047   -1.0902   -0.3937 C   0  0  3  0  0  0  0  0  0  0  0  0\n    0.5816   -1.8517   -1.6740 C   0  0  3  0  0  0  0  0  0  0  0  0\n    1.8897   -2.0166   -2.4489 C   0  0  3  0  0  0  0  0  0  0  0  0\n    1.6310    0.9143    0.3130 H   0  0  0  0  0  0  0  0  0  0  0  0\n    3.7693    0.5873   -0.9838 H   0  0  0  0  0  0  0  0  0  0  0  0\n    3.9863   -1.5138   -2.1827 H   0  0  0  0  0  0  0  0  0  0  0  0\n    3.7402   -3.1286   -0.1811 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4383   -4.2688   -2.2256 H   0  0  0  0  0  0  0  0  0  0  0  0\n    0.1034   -3.9525   -0.7351 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.4794   -2.7188    1.1907 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0759   -0.7414   -0.0442 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.3861   -1.7892   -2.1622 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8708   -1.9602   -3.5344 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  1  8  1  0  0  0  0\n  1 11  1  0  0  0  0\n  2  3  1  0  0  0  0\n  2 12  1  0  0  0  0\n  3  4  1  0  0  0  0\n  3 10  1  0  0  0  0\n  3 13  1  0  0  0  0\n  4  5  1  0  0  0  0\n  4  7  1  0  0  0  0\n  4 14  1  0  0  0  0\n  5  6  1  0  0  0  0\n  5 10  1  0  0  0  0\n  5 15  1  0  0  0  0\n  6  7  1  0  0  0  0\n  6  9  1  0  0  0  0\n  6 16  1  0  0  0  0\n  7  8  1  0  0  0  0\n  7 17  1  0  0  0  0\n  8  9  1  0  0  0  0\n  8 18  1  0  0  0  0\n  9 10  1  0  0  0  0\n  9 19  1  0  0  0  0\n 10 20  1  0  0  0  0\nM  END\n$$$$"},
I);r.B={};r.D={};r.J={};r.I='<panel> <h5>Load PDB or SDF from Text</h5> <replace-warning></replace-warning> <form-input-wrapper> <text-area id="pdbOrSdfText" placeholder="Contents of a PDB or SDF file" :value="fileContents" @change="onChangeText" > Type or copy-and-paste <a class="link-sim" href="#" @click.prevent="addSdfText()">the contents</a> of a PDB or SDF file into the text area below. </text-area> </form-input-wrapper> <select-environment pluginSlug="pdbOrSdfText"></select-environment> <shadows-hardware-scaling pluginSlug="pdbOrSdfText"></shadows-hardware-scaling> <form-button :disabled="fileContents === \'\'" @click.native="startLoad" id="load-local-file-text"> Load PDB/SDF File </form-button> </panel>';
r.K={state:{},L:{}};r.data=function(){return{fileContents:""}};r.C=function(){};return r}function A(){var r=E.apply(this,arguments)||this;r.ca="File<div class='emoji'>\ud83d\udcc2</div>";r.U="load-local-file";r.tag="load-local-file-panel";var I={};r.B=(I.fileType=function(){return z.c(this.fileName)},I);r.data=function(){return{fileContents:void 0,fileName:void 0}};I={};r.methods=(I.fileLoaded=function(N){this.fileContents=N.wa;this.fileName=N.fileName},I.startLoad=function(){this.S({fileName:this.fileName,
wa:this.fileContents})},I.S=function(N){z.h();".PVR"===z.c(N.fileName)?z.e(N.wa):z.d(N.wa)},I.Z=function(){},I);r.C=function(){};r.D={};r.I='<panel> <h5>Load PDB, SDF, or PVR (Scene) File</h5> <replace-warning></replace-warning> <super-file name="load-local-file" label="Specify the location of the .pdb, .sdf, or .pvr (scene) file on your computer." placeholder="Specify file..." accept=".pdb, .sdf, .pvr, .json" @fileLoaded="fileLoaded"></super-file> <select-environment v-if="fileType !== \'.PVR\'" pluginSlug="load-local-file"></select-environment> <shadows-hardware-scaling pluginSlug="load-local-file"></shadows-hardware-scaling> <form-button :disabled="fileContents === undefined" @click.native="startLoad" id="load-local-file-scene"> Load PDB/SDF/PVR File </form-button> </panel>';
r.K={state:{fileContent:void 0,fileType:void 0},L:{}};r.J={};return r}function w(r){if(1<r.subMeshes.length){var I=C.x.ExtractFromMesh(r,!0,!0),N=I.indices,Y=I.normals,v=I.positions,U=I.uvs;I=I.colors;for(var ba=[],X=0;X<r.subMeshes.length;X++){for(var fa=new C.x,ca=N.slice(r.subMeshes[X].indexStart,r.subMeshes[X].indexStart+r.subMeshes[X].indexCount),da=Y.slice(3*r.subMeshes[X].verticesStart,3*r.subMeshes[X].verticesStart+3*r.subMeshes[X].verticesCount),Aa=v.slice(3*r.subMeshes[X].verticesStart,
3*r.subMeshes[X].verticesStart+3*r.subMeshes[X].verticesCount),Ba=U?U.slice(2*r.subMeshes[X].verticesStart,2*r.subMeshes[X].verticesStart+2*r.subMeshes[X].verticesCount):void 0,Ca=I?I.slice(4*r.subMeshes[X].verticesStart,4*r.subMeshes[X].verticesStart+4*r.subMeshes[X].verticesCount):void 0,ma=0;ma<ca.length;ma++)ca[ma]-=r.subMeshes[X].verticesStart;fa.indices=ca;fa.normals=da;fa.positions=Aa;fa.uvs=Ba;fa.colors=Ca;ca=new C.j(r.name+"-"+X,O.t);fa.applyToMesh(ca);ba.push(ca)}return ba}return[r]}function m(){for(var r=
O.t.meshes.filter(function(v){return"MeshFrom3DMol"===v.name.slice(0,13)}),I=r.length,N=[],Y=0;Y<I;Y++)N.push.apply(N,ha(w(r[Y])));r=C.j.MergeMeshes(N,!0,!0,void 0,!1,!1);r.name="ProteinVRExport";r.id="ProteinVRExport";return r}function f(){!0!==V&&(V=!0,(new Promise(function(r){var I=new XMLHttpRequest;I.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var N=JSON.parse(this.responseText),Y=[];N=ea(N);for(var v=N.next();!v.done;v=N.next())v=v.value,Y.push({value:v.path,description:v.description});
r(Y)}};I.open("GET","environs/environments_list.json",!0);I.send()})).then(function(r){F.b.commit("setVar",{F:"selectEnvironment",H:"environOptions",G:r});r=r[0].value;var I=localStorage.getItem("environ");null!==I&&(r=I);F.b.commit("setVar",{F:"selectEnvironment",H:"environment",G:r})}))}function p(){var r=[];r.push(new l.a);r.push(new A);r.push(new q);r.push(new d);r.push(new D.a);r.push(new n);r.push(new g);for(var I=ea(r),N=I.next();!N.done;N=I.next())N.value.load(Vue);I=ea([c,h,y,x,k]);for(N=
I.next();!N.done;N=I.next())(new N.value).load(Vue);return r}function e(){F.b.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!0});var r=F.b.state.loadSaveModal.currentTabPlugin;void 0!==r&&r.methods.Z()}a.d(b,"a",function(){return p});a.d(b,"b",function(){return e});var l=a("O5m7");t=a("uD6w");var z=a("7zZK"),E=t.a;pa(A,E);var M=t.a;pa(q,M);var D=a("VFXb"),u=a("ma4r"),G=a("p11u"),F=a("sLDT"),B=a("VtEW"),H=t.a;pa(n,H);var J=a("PjGz"),O=a("gqHH"),C=a("v5Mq"),L=a("dVDo"),S=t.a;pa(g,S);var T=
t.a;pa(d,T);t=a("vphU");var K=t.a;pa(c,K);var P=a("XucL"),R=t.a;pa(h,R);var Z=t.a;pa(y,Z);var Q=t.a;pa(x,Q);var W=t.a;pa(k,W);var V=!1},EYe7:function(t,b,a){(function(k){function x(u,G,F,B){p.a&&p.b(u,G,F);var H=h(u,G,F);void 0===B&&(B=function(){});if("Hide"===F){var J=Object.keys(l);u=J.length;for(F=0;F<u;F++){var O=l[J[F]];O.ha===H.ha&&(O.mesh.isVisible=!1,console.log("Hiding existing mesh..."))}m.c(void 0,w.t.getMeshByName("protein_box"));d()}else if(void 0!==l[H.za])l[H.za].mesh.isVisible=!0,
console.log("showing existing mesh..."),m.c(void 0,w.t.getMeshByName("protein_box")),d();else{f.g();J=D[F];u={and:u.map(function(C){return void 0!==M[C]?M[C]:C})};switch(F){case "B Factor":F=k.getPropertyRange(f.n.selectedAtoms(),"b");J.colorscheme.gradient="rwb";J.colorscheme.min=F[0];J.colorscheme.max=F[1];J.colorscheme.mid=.5*(F[0]+F[1]);break;case "Atom Index":F=k.getPropertyRange(f.n.selectedAtoms(),"serial"),J.colorscheme.gradient="rwb",J.colorscheme.min=F[0],J.colorscheme.max=F[1],J.colorscheme.mid=
.5*(F[0]+F[1])}switch(G){case "Cartoon":J.style="oval";break;case "Trace":G="Cartoon";J.style="trace";break;case "Ribbon":G="Cartoon";J.ribbon=!0;break;case "Tubes":G="Cartoon",J.tubes=!0}"surface"===G.toLowerCase()?f.a(J,u,function(){y(H,G,B)}):(F={},F[G.toLowerCase()]=J,f.j(u,F),y(H,G,B))}}function y(u,G,F){f.c(!0,G,function(B){for(var H=Object.keys(l),J=H.length,O=0;O<J;O++){var C=H[O],L=l[C];L.ha===u.ha&&(g.c(L.mesh),delete l[C],console.log("deleting old mesh..."))}void 0!==B&&("Surface"===G&&
(B.material.backFaceCulling=!1),l[u.za]={ha:u.ha,mesh:B});d();F()})}function h(u,G,F){u.sort();u=u.map(function(B){return"string"===typeof B?B:JSON.stringify(B)});return{ha:u.join("--")+"--"+G,za:u.join("--")+"--"+G+"--"+F}}function c(u){for(var G=u.map(function(J){return J}),F=u.length,B=0;B<F;B++){var H=u[B];G.push(H.toUpperCase());G.push(H.toLowerCase())}return G=G.filter(function(J,O){return G.indexOf(J)>=O})}function d(){A.j();q.c(n.b);Object(e.b)(0)}a.d(b,"a",function(){return l});a.d(b,"b",
function(){return x});var g=a("0fSa"),n=a("/fW+"),q=a("GJqe"),A=a("p11u"),w=a("gqHH"),m=a("YORc"),f=a("PjGz"),p=a("mvtX"),e=a("lFou"),l={},z=["HIS","HID","HIE","HSE","HSD"],E=["HIS","HIP","HSP"],M={All:{},Protein:{resn:c("ALA ARG ASP ASN ASX CYS GLN GLU GLX GLY HYP ILE LEU LYS MET PCA PHE PRO TRP TYR VAL GLU SER THR MSE".split(" ").concat(z,E))},Acidic:{resn:c(["ASP","GLU"].concat(E))},Cyclic:{resn:c(["PHE","PRO","TRP","TYR"].concat(z,E))},Aliphatic:{resn:c(["ALA","GLY","ILE","LEU","VAL"])},Aromatic:{resn:c(["PHE",
"TRP","TYR"].concat(z,E))},Basic:{resn:c(["ARG","LYS"].concat(z))},Charged:{resn:c(["ASP","GLU","ARG","LYS"].concat(E))},Hydrophobic:{resn:c("ALA LEU VAL ILE PRO PHE MET TRP".split(" "))},Neutral:{resn:c("VAL PHE GLN TYR CYS MET TRP ASX GLX PCA HYP".split(" ").concat(z))},Nucleic:{resn:c("ADE A GUA G CYT C THY T URA U DA DG DC DT".split(" "))},Purine:{resn:c(["ADE","A","GUA","G"])},Pyrimidine:{resn:c("CYT C THY T URA U".split(" "))},Ions:{resn:c("AL BA CA CAL CD CES CLA CL CO CS CU CU1 CUA HG IN IOD K MG MN3 MO3 MO4 MO5 MO6 NA NAW OC7 PB POT PT RB SOD TB TL WO4 YB ZN ZN1 ZN2".split(" "))},
Water:{resn:c(["WAT","HOH","TIP","TIP3"])}};M.Ligand={not:{or:[M.Protein,M.Nucleic,M.Ions,M.Water]}};M["Ligand Context"]={byres:!0,within:{distance:4,sel:M.Ligand}};var D={"Amino Acid":{colorscheme:"amino"},Blue:{color:"blue"},Chain:{colorscheme:"chain"},Element:{colorscheme:"default"},Green:{color:"green"},Iceblue:{color:"0X8080BF"},Lime:{color:"0X80E666"},Nucleic:{colorscheme:"nucleic"},Orange:{color:"orange"},Pink:{color:"0XFF9999"},Purple:{color:"purple"},Red:{color:"red"},Spectrum:{color:"spectrum"},
White:{color:"white"},Yellow:{color:"yellow"},"B Factor":{colorscheme:{prop:"b",gradient:void 0,min:void 0,max:void 0,mid:void 0}},"Atom Index":{colorscheme:{prop:"serial",gradient:void 0,min:void 0,max:void 0,mid:void 0}},"Secondary Structure":{colorscheme:{prop:"ss",map:k.ssColors.Jmol}}}}).call(this,a("VS3o"))},GJqe:function(t,b,a){function k(){for(var e={Components:{},Selections:{},Clear:function(){for(var G=Object.keys(g.a),F=G.length,B=0;B<F;B++)g.a[G[B]].mesh.isVisible=!1},"Remove Existing":{}},
l=A.length,z={},E=0;E<l;z={aa:z.aa},E++){z.aa=A[E];e.Components[z.aa]={};for(var M=w[z.aa].length,D={},u=0;u<M;D={ra:D.ra},u++)D.ra=w[z.aa][u],e.Components[z.aa][D.ra]=c({},z.aa,function(G,F){return function(B,H){g.b([G.aa,F.ra],B,H)}}(z,D))}return e}function x(e){if(!n.b()){e.Styles["Remove Existing"]={};q.e(e.Styles["Remove Existing"],["Styles","Remove Existing"]);for(var l=Object.keys(g.a),z=l.length,E={},M=0;M<z;E={ja:E.ja},M++)if(E.ja=l[M],!0===g.a[E.ja].mesh.isVisible){var D=E.ja.replace(/--/g,
" ");D=D.replace(/{/g,"").replace(/}/g,"").replace(/"/g,"");e.Styles["Remove Existing"][D]=function(u){return function(){setTimeout(function(){var G=n.f(u.ja);g.b(G[0],G[1],"Hide")},0)}}(E)}}}function y(e){function l(F,B,H,J){H.sort(function(K,P){K=isNaN(+K)?K:+K;P=isNaN(+P)?P:+P;return K<P?-1:K>P?1:0});H=h(H,14);for(var O=H.length,C={},L=0;L<O;C={W:C.W},L++){var S=H[L];if(1===S.length)C.W=S[0],void 0===C.W?(C.W="N/A",B[C.W]=function(){}):(B[C.W]={},B[C.W]=c(B[C.W],F,function(K){return function(P,
R){var Z={};Z[z[F]]=K.W;g.b([Z],P,R)}}(C),J.concat([C.W])));else{var T="["+S[0].toString()+"-"+S[S.length-1].toString()+"]";B[T]={};l(F,B[T],S,J.concat([T]))}}q.e(B,J)}e.Styles.Selections={};q.e(e.Styles.Selections,["Styles","Selections"]);for(var z={"Atom Name":"atom",Chain:"chain",Element:"elem","Residue Index":"resi","Residue Name":"resn","Secondary Structure":"ss"},E=Object.keys(d.a),M=E.length,D=0;D<M;D++){var u=E[D],G=d.a[u];e.Styles.Selections[u]={};l(u,e.Styles.Selections[u],G,["Styles","Selections",
u])}}function h(e,l){if(2>l)return[e];var z=e.length,E=[],M=0,D;if(0===z%l)for(D=Math.floor(z/l);M<z;)E.push(e.slice(M,M+=D));else for(;M<z;)D=Math.ceil((z-M)/l--),E.push(e.slice(M,M+=D));return E}function c(e,l,z,E){l=void 0===m[l]?m.Protein:m[l];for(var M=l.length,D={},u=0;u<M;D={N:D.N},u++){D.N=l[u];e[D.N]={Colors:{},"Color Schemes":{}};for(var G=p.length,F={},B=0;B<G;F={qa:F.qa},B++)F.qa=p[B],e[D.N]["Color Schemes"][F.qa]=function(H,J){return function(){z(H.N,J.qa)}}(D,F);G=f.length;F={};for(B=
0;B<G;F={pa:F.pa},B++)F.pa=f[B],e[D.N].Colors[F.pa]=function(H,J){return function(){z(H.N,J.pa)}}(D,F);e[D.N].Hide=function(H){return function(){z(H.N,"Hide")}}(D);void 0!==E&&(G=E.concat([D.N]),q.e(e[D.N],G),G=E.concat([D.N,"Colors"]),F=e[D.N].Colors,q.e(F,G),G=E.concat([D.N,"Color Schemes"]),F=e[D.N]["Color Schemes"],q.e(F,G))}void 0!==E&&q.e(e,E);return e}a.d(b,"a",function(){return k});a.d(b,"c",function(){return x});a.d(b,"b",function(){return y});var d=a("qmVJ"),g=a("EYe7"),n=a("p11u"),q=a("/fW+"),
A=["Protein","Ligand","Ligand Context","Water","Nucleic"],w={Ligand:["All"],"Ligand Context":["All"],Nucleic:["All"],Protein:["All","Hydrophobic","Hydrophilic","Charged","Aromatic"],Water:["All"]};t=["Stick","Sphere","Surface"];var m={Ligand:t,"Ligand Context":["Cartoon"].concat(t),Nucleic:t,Protein:["Cartoon","Trace","Ribbon","Tubes"].concat(t),Water:t},f="White Red Blue Green Orange Pink Yellow Purple Iceblue Lime".split(" "),p="Element;Amino Acid;Chain;Nucleic;Spectrum;B Factor;Atom Index;Secondary Structure".split(";")},
GvVg:function(t,b,a){a.d(b,"a",function(){return k});var k='<panel> <h5>Load Remote PDB, SDF, or PVR (Scene) File</h5> <replace-warning></replace-warning> <form-input-wrapper> <form-input id="urlOrPDB" placeholder="PDB ID or URL" type="text" @change="onChangePDBUrl" @enter="onEnter" :value="urlOrPDB" > Enter a PDB ID (e.g., <a class="link-sim" href="#" @click.prevent="setUrl(\'1XDN\')" data-href="1XDN">1XDN</a>) or PDB-/SDF-/PVR-file URL (e.g., <a class="link-sim" rel="noopener" href="https://files.rcsb.org/view/1XDN.pdb" @click.prevent="setUrl(\'https://files.rcsb.org/view/1XDN.pdb\')">https://files.rcsb.org/.../1XDN.pdb</a>, <a class="link-sim" href="nanokid.sdf" @click.prevent="setUrl(\'nanokid.sdf\')">nanokid.sdf</a>, <a class="link-sim" href="1xdn.pvr" @click.prevent="setUrl(\'1xdn.pvr\')">1xdn.pvr</a>). </form-input> \x3c!-- <p class="help-block"></p> --\x3e </form-input-wrapper> <select-environment v-if="showEnvironmentSelector" pluginSlug="urlOrPDB"></select-environment> \x3c!-- <div class="row"> <div class="col-md-12"> <div class="form-check"> <input style="margin-left: 0;" type="checkbox" class="form-check-input" id="privacy-mode"> <label style="padding-left: 1.5rem;" class="form-check-label" for="privacy-mode">Privacy Mode (Warn Before Remote Connections)</label> </div> </div> </div> --\x3e \x3c!-- <hr class="mt-3 mb-4" style="border-top:0;" /> --\x3e \x3c!-- <div class="alert alert-warning enhance-resolution-container" style="display:none;"> Your browser does not support WebXR. ProteinVR will try to use the older WebVR API instead. </div> --\x3e <shadows-hardware-scaling pluginSlug="urlOrPDB"></shadows-hardware-scaling> <form-button :disabled="loadBtnDisabled" id="submit" cls="primary" @click.native="submitPDBUrl()"> Load Molecule </form-button> </panel>'},
O5m7:function(t,b,a){(function(k){function x(){var n=g.apply(this,arguments)||this;n.ca="Web<div class='emoji'>\ud83d\udcc2</div>";n.U="load-remote-file";n.tag="load-remote-file-panel";var q={};n.methods=(q.submitPDBUrl=function(){this.S()},q.S=function(){c.h();window.location.href=c.f({s:h.b.state.loadRemoteFilePanel.urlOrPDB})},q.onChangePDBUrl=function(A){A=A.replace(/^\s+|\s+$/g,"");this.Sa(A);var w=c.c(A);this.showEnvironmentSelector=".PVR"!==w;this.loadBtnDisabled=".PDB"!==w&&".SDF"!==w&&".PVR"!==
w&&4!==A.length},q.Sa=function(A){h.b.commit("setVar",{F:"loadRemoteFilePanel",H:"urlOrPDB",G:A})},q.setUrl=function(A){this.onChangePDBUrl(A)},q.onEnter=function(){this.submitPDBUrl()},q.Z=function(){},q);n.B={urlOrPDB:{get:function(){return this.$store.state.loadRemoteFilePanel.urlOrPDB},set:function(A){this.Sa(A)}}};n.D={};n.J={};n.I=d.a;n.K={state:{urlOrPDB:""},L:{}};n.data=function(){return{showEnvironmentSelector:!0,loadBtnDisabled:!0}};n.C=function(){k("#load-save-modal").on("shown.bs.modal",
function(){document.getElementById("urlOrPDB").focus()})};return n}a.d(b,"a",function(){return x});var y=a("uD6w"),h=a("sLDT"),c=a("7zZK"),d=a("GvVg"),g=y.a;pa(x,g)}).call(this,a("EVdn"))},PjGz:function(t,b,a){(function(k,x){function y(Q){var W=k("#mol-container");W&&W.remove();k("body").append('<div\n        id="mol-container"\n        class="mol-container"\n        style="display:none;"></div>');L=k("#mol-container");S={backgroundColor:"white"};C=x.createViewer(L,S);window.viewer=C;Q()}function h(){Z&&
(Z=!1,C=null,y(function(){C.addModel(P,"pdb",{keepH:!0})}));C.setStyle({},{})}function c(Q,W){k.ajax(Q,{success:function(V){P=V;R="pdb";switch(Object(F.c)(Q)){case ".SDF":R="sdf";break;case ".PVR":R="pvr"}d(P,R,W,Q)},error:function(V,r,I){g(V,r,I,Q)}})}function d(Q,W,V,r){if("pvr"===W){var I=JSON.parse(Q);W=I.scene.type;Q=I.scene.file;delete I.scene;I.s=r;r=z.g(window.location.href);for(var N=Object.keys(I),Y=N.length,v=0;v<Y;v++){var U=N[v],ba=I[U];if(r.get(U)!==ba&&-1===z.d.indexOf(U)){I=Object(F.f)(I);
sessionStorage.removeItem("loadAttempts");window.location.href=I;break}}}Q=C.addModel(Q,W,{keepH:!0});V(Q)}function g(Q,W,V,r){"undefined"===typeof Worker||!0===Worker.B?V="Your browser does not support web workers. Please use a more modern browser when running ProteinVR.":-9999!==W&&("http"!==r.substr(0,4)?("."!==V.substr(V.rb-1,1)&&""!==V&&(V+="."),V+=' The molecule URL must start with "http://" or "https://".'):""===V&&(Q=window.location.protocol,V=r.substr(0,Q.length)!==Q?"Protocols don't match. The ProteinVR URL starts with \""+
Q+'//", but the molecule URL starts with "'+r.split(":")[0]+'://".':'Unidentifiable network error. Perhaps the URL is wrong? Or it might be a <a rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank">CORS issue</a>, or even a dropped internet connection. If you\'re a developer, check the console.'));r="<p>Could not load molecule from URL: "+r+"</p><p><pre>"+(V+'</pre></p><p>(<a href="')+(window.location.href.split("?")[0]+'">Click to restart...</a>)</p>');u.b({title:"Error Loading Molecule",
content:r,R:!1,V:!0},!1)}function n(Q,W){void 0!==Q.and&&1===Object.keys(Q).length&&"{}"===JSON.stringify(Q.and[0])&&2===Q.and.length&&(Q=Q.and[1]);0!==C.selectedAtoms(Q).length&&(C.setStyle(Q,W),C.render())}function q(Q,W,V){0!==C.selectedAtoms(W).length&&(Z=!0,C.addSurface(x.SurfaceType.MS,Q,W,void 0,void 0,function(){V()}))}function A(Q,W,V){V=void 0===V?function(){}:V;E.r.hideLoadingUI();Q&&w(function(){m(W,function(){f().then(function(r){void 0!==r&&D.c(r,E.t.getMeshByName("protein_box"));V(r);
H=[]})})},function(){g(null,-9999,"Is the molecule file properly formatted?","")})}function w(Q,W){try{T=C.exportVRML()}catch(V){W(V)}try{Q()}catch(V){W(V)}}function m(Q,W){H=[];if("undefined"!==typeof Worker)K.onmessage=function(V){var r=V.data,I=r.chunk;V=r.status;J=new B.v(r.geoCenter[0],r.geoCenter[1],r.geoCenter[2]);if(void 0!==I){var N=I[0];r=I[1];for(var Y=I[2];H.length<=N;)H.push({coors:new Float32Array(0),colors:new Float32Array(0),trisIdxs:new Uint32Array(0)});I=H[N];N=[H[N][r],Y];var v=
0;Y=N.length;for(var U=0;U<Y;U++)v+=N[U].length;v=new ("trisIdxs"===r?Uint32Array:Float32Array)(v);for(var ba=U=0;ba<Y;ba++){var X=N[ba];v.set(X,U);U+=X.length}I[r]=v}switch(V){case "more":K.postMessage({cmd:"sendDataChunk",data:void 0});break;case "done":W();break;default:console.log("Error here!")}},K.postMessage({cmd:"start",data:T,removeExtraPts:"Stick"===Q});else throw u.b({title:"Browser Error",content:"Your browser does not support web workers. Please use a more\n                      modern browser when running ProteinVR.",
R:!1,V:!0},!1),Error("Browser does not support web workers.");}function f(){var Q=new B.t("Material",E.t);Q.diffuseColor=new B.c(1,1,1);Q.emissiveColor=new B.c(0,0,0);Q.specularColor=new B.c(0,0,0);for(var W=[],V=H.length,r=0;r<V;r++){var I=H[r],N=[];B.x.ComputeNormals(I.coors,I.trisIdxs,N);var Y=new B.x;Y.positions=I.coors;Y.indices=I.trisIdxs;Y.normals=N;Y.colors=I.colors;I=new B.j("mesh_3dmol_tmp"+r,E.t);Y.applyToMesh(I);I.material=Q;I.showBoundingBox=!0;W.push(I)}if(0<W.length){var v=B.j.MergeMeshes(W,
!0,!0);v.name="MeshFrom3DMol"+Math.random().toString();v.id=v.name;Q=M.b(v,123456789)}else Q=Promise.resolve();return Q.then(function(){G.b();return Promise.resolve(v)})}function p(Q,W){Q=new B.v("x"==Q?1:0,"y"==Q?1:0,"z"==Q?1:0);var V=new B.l;B.l.RotationAxisToRef(Q,W,V);V.multiplyToRef(O,O);z.j()}function e(Q,W,V){O=B.l.RotationYawPitchRoll(W,Q,V)}function l(Q){O=Q.clone()}a.d(b,"b",function(){return J});a.d(b,"f",function(){return O});a.d(b,"n",function(){return C});a.d(b,"o",function(){return T});
a.d(b,"k",function(){return y});a.d(b,"g",function(){return h});a.d(b,"e",function(){return c});a.d(b,"d",function(){return d});a.d(b,"l",function(){return g});a.d(b,"j",function(){return n});a.d(b,"a",function(){return q});a.d(b,"c",function(){return A});a.d(b,"m",function(){return p});a.d(b,"i",function(){return e});a.d(b,"h",function(){return l});var z=a("p11u"),E=a("gqHH"),M=a("cw8d"),D=a("YORc"),u=a("s6Jt"),G=a("lQ36"),F=a("7zZK"),B=a("v5Mq"),H=[],J,O=new B.l(0,0,0,0),C,L,S,T,K=new Worker("vrmlWebWorker.30ad95a11627d47d28b1.js"),
P="",R="pdb",Z=!1}).call(this,a("EVdn"),a("VS3o"))},QhH7:function(t,b,a){(function(k){function x(){var l=p.apply(this,arguments)||this;l.tag="front";l.methods={};var z={};l.B=(z.btnsWrapperStyle=function(){if(!1!==this.ia){var E=this.Ha+this.runModeButtons.length*this.Wa,M="height:"+E.toString()+"px;";if(this.ia){var D=1;window.innerHeight<E&&(D=window.innerHeight/E);M+="transform: scale("+D.toString()+");";this.ia=!1}return M}},z.runModeButtons=function(){var E=[];E.push({title:"Open Molecule",id:"open-button",
svg:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                        width="48px" height="48px" viewBox="0 0 48 48" enable-background="new 0 0 48 48" xml:space="preserve">\n                        <g>\n                            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linejoin="round" d="M41.99,17.573v-5.209\n                                c0-0.588-0.717-1.092-1.615-1.092H25.123V8.92c0-0.336-0.449-0.672-0.987-0.672H1.077C0.449,8.248,0,8.583,0,8.92v3.444\n                                c0,0,0,0,0,0.084v25.877c0,0.588,0.717,1.092,1.615,1.092h38.671"/>\n                            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linejoin="round" d="M7.985,17.573h38.67\n                                c0.898,0,1.526,0.504,1.347,1.008l-5.295,19.744c-0.089,0.588-0.985,1.092-1.884,1.092H2.064c-0.898,0-1.526-0.504-1.347-1.008\n                                l5.294-19.744C6.19,18.077,7.088,17.573,7.985,17.573L7.985,17.573"/>\n                        </g>\n                        </svg>',
showInFollowerMode:!1,clickFunc:function(){A.b.commit("setVar",{F:"replaceWarning",H:"showWarning",G:!0});h.b()},curBottom:void 0});E.push({title:"Menu",id:"menu-button",svg:'<svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                        x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" xml:space="preserve">\n                        <g>\n                            <path id="rect9967" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M17.678,35.173h27.476\n                                c1.434,0,2.598,1.136,2.598,2.539l0,0c0,1.4-1.164,2.538-2.598,2.538H17.678c-1.434,0-2.596-1.138-2.596-2.538l0,0\n                                C15.082,36.309,16.244,35.173,17.678,35.173z"/>\n                            <path id="rect9969" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M8.676,35.013H2.743\n                                c-1.434,0-2.597,1.176-2.597,2.62l0,0c0,1.441,1.163,2.617,2.597,2.617h5.933c1.435,0,2.598-1.176,2.598-2.617l0,0\n                                C11.274,36.188,10.11,35.013,8.676,35.013z"/>\n                            <path id="svg_60" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M17.533,26.506H45.01\n                                c1.434,0,2.597,1.134,2.597,2.538l0,0c0,1.406-1.163,2.542-2.597,2.542H17.533c-1.434,0-2.597-1.136-2.597-2.542l0,0\n                                C14.936,27.64,16.099,26.506,17.533,26.506z"/>\n                            <path id="svg_61" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M8.529,26.349H2.596\n                                C1.162,26.349,0,27.52,0,28.966l0,0c0,1.445,1.162,2.62,2.596,2.62h5.933c1.434,0,2.598-1.175,2.598-2.62l0,0\n                                C11.127,27.52,9.963,26.349,8.529,26.349z"/>\n                            <path id="svg_63" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M17.533,17.049H45.01\n                                c1.434,0,2.597,1.138,2.597,2.537l0,0c0,1.405-1.163,2.54-2.597,2.54H17.533c-1.434,0-2.597-1.135-2.597-2.54l0,0\n                                C14.936,18.187,16.099,17.049,17.533,17.049z"/>\n                            <path id="svg_64" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M8.529,16.891H2.596\n                                C1.162,16.891,0,18.059,0,19.507l0,0c0,1.45,1.162,2.625,2.596,2.625h5.933c1.434,0,2.598-1.175,2.598-2.625l0,0\n                                C11.127,18.059,9.963,16.891,8.529,16.891z"/>\n                            <path id="svg_66" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M17.793,8.605h27.476\n                                c1.435,0,2.598,1.136,2.598,2.54l0,0c0,1.402-1.163,2.54-2.598,2.54H17.793c-1.435,0-2.597-1.138-2.597-2.54l0,0\n                                C15.196,9.742,16.358,8.605,17.793,8.605z"/>\n                            <path id="svg_67" fill="none" stroke="#FFFFFF" stroke-width="1.75" stroke-miterlimit="10" d="M8.789,8.447H2.855\n                                c-1.434,0-2.597,1.172-2.597,2.619l0,0c0,1.447,1.163,2.622,2.597,2.622h5.933c1.435,0,2.598-1.175,2.598-2.622l0,0\n                                C11.387,9.619,10.224,8.447,8.789,8.447z"/>\n                        </g>\n                    </svg>',
showInFollowerMode:!1,clickFunc:function(){A.b.commit("setVar",{F:"menu2dModal",H:"showMenu2DModal",G:!0})},curBottom:void 0});E.push({title:"Help",id:"help-button",svg:'<svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                        x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" xml:space="preserve">\n                            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="\n                                M35.5,9.8c1.7,5.4-0.6,8-1.6,8.9c-1.9,1.9-4.5,4.7-5.8,7c-1.5,2.7-4.1,12-6.8,4.4c-3.2-9.1,1.3-11.6,3.5-13.4\n                                c1.5-1.3,3.4-4.3,0.5-5.3c-4-1.3-6.1,5.3-10.7,4c-3-0.8-3.2-4.1-2.2-6.6C15.4,1.7,32.5,0.6,35.5,9.8L35.5,9.8z"/>\n                            <path fill="none" stroke="#FFFFFF" stroke-width="2" stroke-miterlimit="10" d="M28.3,39.6c0-5.5-8.5-5.5-8.5,0S28.3,45.1,28.3,39.6"/>\n                    </svg>',
showInFollowerMode:!1,clickFunc:function(){c.b({title:"Help: ProteinVR "+d.k,content:"pages/help.html",R:!0,fa:!0,V:!1},!0)},curBottom:void 0});-1===window.location.href.indexOf("LOCALFILE")&&E.push({title:"Share (Leader)",id:"leader",svg:'<svg version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                            x="0px" y="0px" width="48px" height="48px" viewBox="0 0 48 48" xml:space="preserve">\n                            <path fill="none" stroke="#FFFFFF" stroke-width="1.5" d="M35.4,4.6c-3.2,0-5.8,2.4-5.8,5.8l0,0c0,0.5,0.2,1.1,0.5,1.4l-13.4,7.8\n                            c-1-1.4-2.6-1.8-4.1-1.8c-3.2,0-5.8,2.4-5.8,5.8l0,0c0,2.9,2.6,5.8,5.8,5.8l0,0c1.3,0,2.2-0.5,3.2-1.4l13.6,8.3\n                            c-0.3,0.4-0.3,0.9-0.3,1.4c0,3.4,2.7,5.8,5.9,5.8l0,0c3.2,0,5.6-2.4,5.6-5.8l0,0c0-2.9-2.4-5.9-5.6-5.9l0,0c-1.7,0-3.2,1.1-4.4,2\n                            l-13.1-7.3c0.5-0.9,0.7-2,0.7-2.9c0-0.5,0-1.4-0.2-2l13.3-7.3c1,0.9,2.5,1.5,4.1,1.5c3.2,0,5.9-2.5,5.9-5.4l0,0\n                            C41.3,6.9,38.5,4.6,35.4,4.6L35.4,4.6L35.4,4.6z"/>\n                        </svg>',
showInFollowerMode:!1,clickFunc:function(){g.e()},curBottom:void 0});w.a()||E.push({title:"Full Screen",id:"fullscreen-button",svg:'<svg style="position:relative; left:0.5px;" width="48px" height="48px" xmlns="http://www.w3.org/2000/svg"\n                            xmlns:svg="http://www.w3.org/2000/svg" clip-rule="evenodd">\n                            <g class="layer">\n                                <path d="m47.799999,43.649999l-47.699999,0l0,-39.749999l47.699999,0l0,39.749999zm-1.9875,-37.762499l-43.724999,0l0,35.774999l43.724999,0l0,-35.774999zm-7.95,13.9125l-1.9875,0l0,-6.441487l-22.341487,22.341487l6.441487,0l0,1.9875l-9.9375,0l0,-9.9375l1.9875,0l0,6.441487l22.341487,-22.341487l-6.441487,0l0,-1.9875l9.9375,0l0,9.9375z" fill="#ffffff" id="svg_1"/>\n                            </g>\n                        </svg>',
showInFollowerMode:!0,clickFunc:function(){d.r.switchFullscreen(!0);d.p.tabIndex=d.r.Ga;d.p.focus()},curBottom:void 0});if(n.b()){E=E.filter(function(G){return G.ub});var M=document.getElementById("renderCanvas");M.classList.remove("grab-icon");M.classList.add("no-grab")}M=this.Ha;for(var D=ea(E.reverse()),u=D.next();!u.done;u=D.next())u.value.curBottom=M,M+=this.Wa;return E},z);l.D={};l.J={};l.I=m.a;l.data=function(){return{Ha:60,Wa:55,ia:!0}};l.C=function(){var E=this;window.addEventListener("resize",
function(){E.ia=!0});window.addEventListener("orientationchange",function(){E.ia=!0});k(function(){var M=new Promise(function(u,G){var F=(new Date).getTime(),B=setInterval(function(){1E4<(new Date).getTime()-F&&(clearInterval(B),G());var H=document.getElementsByClassName("babylonVRicon");0<H.length&&(clearInterval(B),u(H[0]))},500)}),D=new Promise(function(u,G){var F=(new Date).getTime(),B=setInterval(function(){1E4<(new Date).getTime()-F&&(clearInterval(B),G());var H=document.getElementById("btnsWrapper");
H&&(clearInterval(B),u(H),E.ia=!0)},500)});Promise.all([M,D]).then(function(u){var G=u[0];u[1].appendChild(G);null!==G&&(G.style.opacity="1.0",G.style.filter="alpha(opacity=1.0)");y();w.a()&&(setInterval(function(){y()},1E3),w.b()||c.b({title:"Warning",content:"VR mode is only available when the phone is in landscape orientation.",R:!0,V:!1},!1))}).catch(function(){console.log("Warning: Could not activate VR!");n.b()||Object(f.b)("VR headset not detected! Navigate using click/tap, drag, and/or keyboard (e.g., arrow keys) instead.")})})};
return l}function y(){void 0===e&&(e=document.getElementsByClassName("babylonVRicon")[0]);switch(w.b()){case void 0:e&&(e.style.display="");break;case !0:e&&(e.style.display="");break;case !1:e&&(e.style.display="none")}}a.d(b,"a",function(){return x});a.d(b,"b",function(){return y});var h=a("DXjm"),c=a("s6Jt"),d=a("gqHH"),g=a("mvtX"),n=a("p11u"),q=a("vphU"),A=a("sLDT"),w=a("XucL"),m=a("eCSx"),f=a("ma9t"),p=q.a;pa(x,p);var e}).call(this,a("EVdn"))},RUjv:function(t,b,a){function k(){var A=q.apply(this,
arguments)||this;A.tag="menu-2d-display";var w={};A.methods=(w.eb=function(m){return"rgb("+(10*Math.sin(m)+245)+", "+(10*Math.sin(m+2)+245)+", "+(10*Math.sin(m+4)+245)+")"},w.Ta=function(m){m=m.replace(/'/g,"PRIME").replace(/\//g,"");var f="abcdefghijklmnopqrstuvwxyz".split("");f=f.concat(f.map(function(z){return z.toUpperCase()})).concat("0123456789".split(""));for(var p="",e=0;e<m.length;e++){var l=m.substring(e,e+1);-1!==f.indexOf(l)&&(p+=l)}return p},w.id=function(m){return this.accordionId+(""===
this.accordionId?"":"-")+this.Ta(void 0===m?"":m)},w.btnId=function(m){return"btn-"+this.id(void 0===m?"":m)},w.collapseId=function(m){return"collapse-"+this.id(void 0===m?"":m)},w.menuItemClick=function(m,f,p,e){for(var l=this,z=h.b,E=m.length,M,D=0;D<E;D++)M=m[D],z=z[M];if("object"===f||"object"===typeof f){D=e=this.$store.state.menu2dDisplay.partialMenuData;for(var u=0;u<E;u++){M=m[u];if(-1!==Object.keys(D).indexOf(p))break;D=D[M]}E=Object.keys(D);M=E.length;for(u=0;u<M;u++){var G=E[u],F=D[G];
G===p?D[p]="object"===f?{}:"object":"object"===typeof F&&(D[G]="object")}if("object"===f)for(f=x(Object.keys(z)),Object(g.b)(f),E=f.length,M=0;M<E;M++)u=f[M],D[p][u]=typeof z[u];this.Va(e)}else"function"===f&&(this.funcItemIndexClicked=e,setTimeout(function(){l.funcItemIndexClicked=void 0},750),Vue.nextTick(function(){setTimeout(function(){z();-1!==m.indexOf("Remove Existing")&&l.fb(m)},250)}))},w.fb=function(m){for(var f=this.$store.state.menu2dDisplay.partialMenuData,p=f,e=m.length,l=0;l<e-1;l++)p=
p[m[l]];delete p[m[m.length-1]];this.Va(f)},w.Va=function(m){c.b.commit("setVar",{F:"menu2dDisplay",H:"partialMenuData",G:{}});c.b.commit("setVar",{F:"menu2dDisplay",H:"partialMenuData",G:m})},w.menuData=function(){for(var m=this.$store.state.menu2dDisplay.partialMenuData,f=this.breadcrumbs,p=f.length,e=0;e<p;e++){var l=f[e];m=m[l];if(l===this.title)break}return m},w.heightStyle=function(m,f){var p=this;f=this.collapseId(f)+"-accordion-panel";if("object"===m&&"object"===typeof n[f]){m=this.$refs[f];
if(void 0!==m&&void 0===this.height){var e=m[0].clientHeight;if(0<e){var l=(new Date).getTime(),z=function(){var E=1-((new Date).getTime()-l)/250;0<E?(p.height=e*E,setTimeout(z,.1)):p.height=void 0};z()}}return void 0===this.height?"":this.bgColor+"height:"+(void 0===this.height?0:this.height).toString()+"px"}n[f]=m;return""},w);w={};A.B=(w.accordionId=function(){var m=this;return this.breadcrumbs.slice(0,this.depth).map(function(f){return m.Ta(f)}).join("-")},w.fontsize=function(){return 150-10*
this.depth},w.bgColor=function(){return"background-color: "+this.eb(this.depth)+";"},w.css=function(){return"cursor: pointer; font-size:"+this.fontsize+"%; "+this.bgColor+";"},w.partialMenuData=function(){return this.$store.state.menu2dDisplay.partialMenuData},w);A.D={breadcrumbs:{required:!1,"default":function(){return[]}},depth:{required:!1,"default":0},title:{required:!0}};A.J={};A.I='<div :id="\'accordion-\' + accordionId"> <div v-for="(menuItem, itemTitle, itemIndex) in menuData()" class="card" :key="itemTitle" :title="itemTitle" > \x3c!-- The header. Also what is clicked to open a submenu. --\x3e <div :id="btnId(itemTitle)" class="btn btn-sm menu2d-btn" data-toggle="collapse" :data-target="\'#\' + collapseId(itemTitle)" aria-expanded="false" :aria-controls="collapseId(itemTitle)" :style="css" :title="itemTitle" @click.stop="menuItemClick(breadcrumbs.concat(itemTitle), menuItem, itemTitle, itemIndex)" > <span :style="typeof menuItem === \'object\' ? \'font-weight:bold; text-decoration:underline;\' : \'\'">{{funcItemIndexClicked === itemIndex ? "(Updating view...)" : itemTitle}}</span> </div> \x3c!-- Accordion body --\x3e <div :id="collapseId(itemTitle)" :aria-labelledby="id(itemTitle)" :data-parent="\'#accordion-\' + accordionId" > \x3c!-- If it\'s submenu data... --\x3e <div :style="heightStyle(menuItem, itemTitle)" :ref="collapseId(itemTitle) + \'-accordion-panel\'" :class="\'accordion-panel \' + (typeof menuItem !== \'object\' ? \'collapsed\' : \'\')"> <div v-if="typeof menuItem === \'object\'" class="card-body pad10" :style="bgColor" > <menu-2d-display :depth="depth + 1" :title="itemTitle" :breadcrumbs="breadcrumbs.concat(itemTitle)" ></menu-2d-display> </div> </div> </div> </div> </div>';
A.K={state:{partialMenuData:{}},mutations:{}};A.data=function(){return{height:void 0,funcItemIndexClicked:void 0}};A.C=function(){};return A}function x(A){for(var w=["Back \u21e6","Close Menu \u00d7"],m=w.length,f=0;f<m;f++){var p=A.indexOf(w[f]);-1!==p&&A.splice(p,1)}return A}function y(){if(!d.b()){for(var A=x(Object.keys(h.b)).sort(),w=A.length,m={},f=0;f<w;f++){var p=A[f];m[p]=typeof h.b[p]}c.b.commit("setVar",{F:"menu2dDisplay",H:"partialMenuData",G:m})}}a.d(b,"a",function(){return k});a.d(b,
"b",function(){return y});t=a("vphU");var h=a("/fW+"),c=a("sLDT"),d=a("p11u"),g=a("k3hL"),n={},q=t.a;pa(k,q)},Rr3C:function(t,b,a){function k(){document.getElementById("loadingContainer").outerHTML=""}function x(g){h();c.r.displayLoadingUI();c.r.loadingUIText=g}function y(g){var n=g;clearInterval(d);d=setInterval(function(){n+=.02*(99-n);c.r.displayLoadingUI();c.r.loadingUIText="Loading the main scene... "+n.toFixed(0)+"%<br /><br />(Loading too slow? Reload page, use Incognito<br />mode, or clear browser cache.)"},
100)}function h(){clearInterval(d)}a.d(b,"b",function(){return k});a.d(b,"a",function(){return x});a.d(b,"c",function(){return y});a.d(b,"d",function(){return h});var c=a("gqHH"),d},TqLJ:function(t,b,a){function k(u){D=u}function x(){f.a("SetupPickables",["LoadBabylonScene"],function(u){p.b()||l.push(w.A.T);u()})}function y(u){l.push(u);z.push(u);A.b(u);g({mesh:u,ua:function(){u.X()}})}function h(u){l.push(u);E.push(u);A.b(u);g({mesh:u})}function c(u){return u.id===w.A.T.id?!0:u.isVisible?-1!==l.indexOf(u):
!1}function d(){return void 0===D?1:D.name===w.A.T.name?2:-1!==z.indexOf(D)?3:-1!==E.indexOf(D)?4:D.name===M.name?5:1}function g(u){void 0===u.ua&&(u.ua=m.a);void 0===u.scene&&(u.scene=w.t);void 0!==u.mesh&&(u.mesh.actionManager=new e.a(u.scene),u.mesh.actionManager.registerAction(new e.g(e.a.OnPickTrigger,function(){3===w.A.M&&u.ua()})))}function n(){if(-1===w.t.meshes.map(function(G){return G.name}).indexOf("padNavSphereAroundCamera")){M=e.j.CreateSphere("padNavSphereAroundCamera",4,w.c-1,w.t);
M.flipFaces(!0);var u=new e.t("padNavSphereAroundCameraMat",w.t);u.diffuseColor=new e.c(1,1,1);u.specularColor=new e.c(0,0,0);u.sb=null;M.material=u;M.visibility=0;w.t.registerBeforeRender(function(){M.position=q.a()});l.push(M)}}a.d(b,"h",function(){return M});a.d(b,"j",function(){return k});a.d(b,"d",function(){return D});a.d(b,"i",function(){return x});a.d(b,"a",function(){return y});a.d(b,"b",function(){return h});a.d(b,"c",function(){return c});a.d(b,"e",function(){return d});a.d(b,"f",function(){return g});
a.d(b,"g",function(){return n});var q=a("vCcv"),A=a("0fSa"),w=a("gqHH"),m=a("9bcR"),f=a("VNi4"),p=a("p11u"),e=a("v5Mq"),l=[],z=[],E=[],M,D},UvVi:function(t,b,a){function k(){return x.apply(this,arguments)||this}function x(){}function y(f){void 0===f&&(f=Object(h.g)(window.location.href));if(void 0!==m)var p=m;else m=[],m.push(new k),p=m;for(var e=p.length,l=0;l<e;l++)p[l].gb(f)}a.d(b,"a",function(){return y});var h=a("p11u");x.prototype.gb=function(f){f=this.D(f);for(var p=f.length,e=0;e<p;e++)this.B(f[e][1])};
var c=a("gqHH"),d=a("YORc"),g=a("PjGz"),n=a("lFou"),q=a("XSPr"),A=a("v5Mq"),w=a("vjql");pa(k,x);k.prototype.D=function(f){var p=f.keys(),e=[];p=ea(p);for(var l=p.next();!l.done;l=p.next())if(l=l.value,null!==l.match(/^l[0-9]+?$/g)){var z=f.get(l);e.push([l,z])}return e};k.prototype.C=function(f){var p=512,e=new w.a("tmp",512,128,c.t),l=e.getContext();l.font=(12).toString()+"px sans-serif";l=Math.floor(325/(l.measureText(f).width/12));e.dispose();if(74>l)return{width:p,height:128,fontSize:l};p=85*
f.length;return{width:p,height:128,fontSize:74}};k.prototype.B=function(f){try{var p=JSON.parse(f)}catch(G){Object(g.l)(null,-9999,"Is the molecule file properly formatted?","");return}f=p.t;var e=p.s?p.s:1,l=p.v?p.v:!1,z=new A.v(p.c[2],p.c[1],p.c[0]);p=this.C(f);var E=f+"-"+Math.random().toString(),M=new A.u("labelNode:"+E);M.parent=d.b;M.position=z;var D=A.k.CreatePlane("plane"+E,{width:p.width/512,height:p.height/512},c.t);D.scaling=(new A.v(1,1,1)).scale(.5).scale(e);D.billboardMode=A.j.BILLBOARDMODE_ALL;
D.parent=M;var u=D.scaling.clone();l&&(D.renderingGroupId=3);l=w.a.CreateForMesh(D,p.width,p.height);e=new w.d;e.width=1;e.height=1;e.cornerRadius=200;e.color="black";e.thickness=4;e.background="white";e.alpha=.8;l.addControl(e);e.linkWithMesh(M);l=new w.g;l.text=f;l.fontSize=p.fontSize;e.addControl(l);Object(n.a)(0,function(){M.position=z.subtract(g.b);Object(q.a)("REDRAW")});Object(n.a)(1,function(G){D.scaling=new A.v(u.x/G.scaling.x,u.y/G.scaling.y,u.z/G.scaling.z)})};var m=void 0},VFXb:function(t,
b,a){(function(k){function x(){var w=A.apply(this,arguments)||this;w.ca="Scene<div class='emoji'>\ud83d\udcbe</div>";w.U="proteinvr-save-scene";w.tag="proteinvr-save-scene-panel";var m={};w.methods=(m.startSave=function(){var f=this,p=this.pvrSceneFileName;".pvr"!==p.slice(p.length-4)&&(this.pvrSceneFileName=p+=".pvr");this.btnTxt="Saving...";this.btnDisabled=!0;setTimeout(function(){f.S(p);f.$store.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!1});setTimeout(function(){f.btnTxt="Save PVR File";
f.btnDisabled=!1},1E3)},1E3)},m.S=function(f){var p=this;g.h();for(var e=n.g(window.location.href,!0),l={},z=ea(e.keys()),E=z.next();!E.done;E=z.next())E=E.value,l[E]=e.get(E);var M=l.s;"LOCALFILE"===M?void 0===c.b.state.loadLocalFilePanel.fileContent||void 0===c.b.state.loadLocalFilePanel.fileType?(c.b.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!1}),d.b({title:"Error Saving PVR File",content:"Couldn't save PVR file due to an unrecoverable error. Sorry for the inconvenience! Please restart the ProteinVR app if you need to save your scene.",
R:!0,V:!1},!1)):this.Ra(f,c.b.state.loadLocalFilePanel.fileContent,c.b.state.loadLocalFilePanel.fileType,l):k.ajax(M,{success:function(D){var u=l.s.split(".").pop().toLowerCase();p.Ra(f,D,u,l)},error:function(D,u,G){h.l(D,u,G,M)}})},m.Ra=function(f,p,e,l){l.scene={file:p,type:e};delete l.s;Object(g.b)(JSON.stringify(l),f)},m.onChange=function(f){this.pvrSceneFileName=f},m.onEnter=function(){this.startSave()},m.Z=function(){},m);w.B={};w.D={};w.J={};w.I=q.a;w.K={state:{},L:{}};w.data=function(){return{pvrSceneFileName:"my-scene.pvr",
btnTxt:"Save PVR File",btnDisabled:!1}};w.C=function(){};return w}a.d(b,"a",function(){return x});var y=a("uD6w"),h=a("PjGz"),c=a("sLDT"),d=a("s6Jt"),g=a("7zZK"),n=a("p11u"),q=a("wow2"),A=y.a;pa(x,A)}).call(this,a("EVdn"))},VNi4:function(t,b,a){function k(h,c,d){if(void 0===y[h])throw Error("Promise not registered in PromiseStore.ts: "+h);for(var g=c.length,n=0;n<g;n++){var q=c[n];if(void 0===y[q])throw Error("Promise not registered in PromiseStore.ts: "+q);}y[h]=x(c).then(function(){return new Promise(function(A){d(A)})})}
function x(h){var c=h.map(function(d){return y[d]});if(-1!==c.indexOf(null))throw Error("Trying to wait for a promise that hasn't been defined yet! One of these: "+h.toString());return Promise.all(c)}a.d(b,"a",function(){return k});var y={DeviceOrientationAuthorizedIfNeeded:null,SceneLoaded:null,InitVR:null,SetupVRListeners:null,LoadBabylonScene:null,OptimizeScene:null,SetupCamera:null,SetupNavigation:null,SetupPickables:null,LoadMolecule:null,SetupMenus:null,FinalizeScene:null,SetupVue:null,CameraCollisions:null}},
VtEW:function(t,b,a){function k(){var c=h.apply(this,arguments)||this;c.tag="status";c.methods={};c.B={};c.D={};c.J={};c.I='<div style="display:none;" id="status">{{$store.state.status.status}}</div>';c.K={state:{status:""},L:{}};c.data=function(){return{}};return c}function x(c){y.c.commit("setVar",{F:"status",H:"status",G:c})}a.d(b,"a",function(){return k});a.d(b,"b",function(){return x});t=a("vphU");var y=a("sLDT"),h=t.a;pa(k,h);k.prototype.C=function(){}},XSPr:function(t,b,a){function k(){return{"Undo Rotate":function(){y()},
"+X Axis":function(){x("x")},"-X Axis":function(){x("x",-1)},"+Y Axis":function(){x("y")},"-Y Axis":function(){x("y",-1)},"+Z Axis":function(){x("z")},"-Z Axis":function(){x("z",-1)}}}function x(n,q){q=15*(void 0===q?1:q)*Math.PI/180;"REDRAW"===n&&(q=0,n="X");c.m(n,q);q=d.t.getMeshByName("protein_box");h.c(void 0,q,!0);g.a&&g.d(n)}function y(){c.h(h.a);var n=d.t.getMeshByName("protein_box");h.c(void 0,n,!0);g.a&&g.c()}a.d(b,"b",function(){return k});a.d(b,"a",function(){return x});a.d(b,"c",function(){return y});
var h=a("YORc"),c=a("PjGz"),d=a("gqHH"),g=a("mvtX")},XucL:function(t,b,a){function k(){return"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function x(){if(k())return window.innerHeight<window.innerWidth}a.d(b,"a",function(){return k});a.d(b,"b",function(){return x})},YORc:function(t,b,a){function k(){M=new e.u("nonMolMeshesTransformNode")}function x(D,u,G){G=void 0===G?!1:G;D=
y(D);for(var F=D.meshes,B=F.length,H=0;H<B;H++){var J=F[H];J.animations=[];!0===J.isVisible&&(J.scaling=new e.v(1,1,1),J.position=new e.v(0,0,0),J.rotationQuaternion=m.f,J.visibility=0)}M.scaling=new e.v(1,1,1);M.position=new e.v(0,0,0);M.rotationQuaternion=m.f;A.t.render();B=u.getBoundingInfo().boundingBox;u=[B.maximumWorld.x-B.minimumWorld.x,B.maximumWorld.y-B.minimumWorld.y,B.maximumWorld.z-B.minimumWorld.z];H=c(F);d(u,H.cb,F);H=c(F);u=F.length;J=H.bb.centerWorld.subtract(B.centerWorld);for(var O=
0;O<u;O++){var C=F[O];C.position=C.position.subtract(J)}M.position=M.position.subtract(J);A.t.render();J=0;if(A.u.Pa){var L=H.mesh;if(void 0!==L&&null!==L)if(H=Math.PI,H=L.name+"-"+(L.rotationQuaternion.x%H).toFixed(3)+"-"+(L.rotationQuaternion.y%H).toFixed(3)+"-"+(L.rotationQuaternion.z%H).toFixed(3)+"-"+(L.rotationQuaternion.w%H).toFixed(3)+"-"+L.position.x.toFixed(3)+"-"+L.position.y.toFixed(3)+"-"+L.position.z.toFixed(3),void 0!==E[H])J=E[H];else{J=L.getVerticesData(e.w.PositionKind);O=1E6;C=
J.length;L=L.getWorldMatrix();for(var S=Math.max(1,3*Math.floor(C/3E3)),T=0;T<C;T+=S){var K=new e.v(J[T],J[T+1],J[T+2]);K=e.v.TransformCoordinates(K,L);K.y<O&&(O=K.y)}B=O-B.minimumWorld.y-.1;J=E[H]=B}else J=void 0}for(B=0;B<u;B++)H=F[B],H.position.y=H.position.y-J;M.position.y=M.position.y-J;l=D.xa[0].rotationQuaternion.clone();u=F.length;for(B=0;B<u;B++)F[B].visibility=1;if(!0===G){G=D.xa.length;for(u=0;u<G;u++){B=D.xa[u];H=F[u];var P=H.position.clone();var R=H.scaling.clone();var Z=H.rotationQuaternion.clone();
g(H,B.position,B.scaling,B.rotationQuaternion,P,R,Z)}D=D.xa[0];g(M,D.position,D.scaling,D.rotationQuaternion,P,R,Z);Object(p.b)(1,{position:P,scaling:R,rotation:Z})}else q.e()}function y(D){D=h(D);void 0===z&&(z=m.f.clone());var u=D.map(function(G){return{position:G.position.clone(),rotationQuaternion:z.clone(),scaling:G.scaling.clone()}});z=m.f.clone();return{meshes:D,xa:u}}function h(D){for(var u=[],G=Object.keys(w.a),F=G.length,B=0;B<F;B++){var H=w.a[G[B]].mesh;!0===H.isVisible&&u.push(H)}void 0!==
D&&u.push(D);return u}function c(D){for(var u=D.length,G=0,F,B,H,J=0;J<u;J++){var O=D[J];O.computeWorldMatrix(!0);var C=O.getBoundingInfo().boundingBox,L=[C.maximumWorld.x-C.minimumWorld.x,C.maximumWorld.y-C.minimumWorld.y,C.maximumWorld.z-C.minimumWorld.z],S=L[0]*L[1]*L[2];S>G&&(G=S,F=C,B=L,H=O)}return{bb:F,cb:B,mesh:H}}function d(D,u,G){var F=G.length;D=D.map(function(H,J){return H/u[J]});D=Math.min.apply(null,D);D=new e.v(D,D,D);for(var B=0;B<F;B++)G[B].scaling=D;M.scaling=D;A.t.render()}function g(D,
u,G,F,B,H,J){var O=n("posX","position.x",u.x,B.x),C=n("posY","position.y",u.y,B.y);u=n("posZ","position.z",u.z,B.z);B=n("scaX","scaling.x",G.x,H.x);var L=n("scaY","scaling.y",G.y,H.y);G=n("scaZ","scaling.z",G.z,H.z);H=n("rotX","rotationQuaternion.x",F.x,J.x);var S=n("rotY","rotationQuaternion.y",F.y,J.y),T=n("rotZ","rotationQuaternion.z",F.z,J.z);J=n("rotW","rotationQuaternion.w",F.w,J.w);D.animations=[O,C,u,B,L,G];D.animations.push.apply(D.animations,[H,S,T,J]);A.t.beginAnimation(D,0,15,!1,1,function(){q.e();
f.b("Rotate done: "+F.toString().replace(/: /g,":"))})}function n(D,u,G,F){D=new e.b(D,u,60,e.b.ANIMATIONTYPE_FLOAT,e.b.ANIMATIONLOOPMODE_CYCLE);D.setKeys([{frame:0,value:G},{frame:15,value:F}]);return D}a.d(b,"a",function(){return l});a.d(b,"b",function(){return M});a.d(b,"d",function(){return k});a.d(b,"c",function(){return x});var q=a("0fSa"),A=a("gqHH"),w=a("EYe7"),m=a("PjGz"),f=a("VtEW"),p=a("lFou"),e=a("v5Mq"),l=new e.l(0,0,0,0),z=void 0,E={},M},cw8d:function(t,b,a){function k(){n.a("LoadMolecule",
["LoadBabylonScene","SetupMenus"],function(w){d.d();return c.d().then(function(){d.c();if(!0===h.u.Ua)if(h.A.T){h.A.T.visibility=1;var m=new A.t("transparentGround",h.t);m.diffuseColor=new A.c(1,1,1);m.specularColor=new A.c(0,0,0);m.emissiveColor=new A.c(0,0,0);m.alpha=h.i;h.A.T.material=m}else console.log("Warning: Vars.vrVars.groundMesh not defined.");y.e();q.b("Mol Loaded");w()})})}function x(w,m){return Promise.resolve(w).then(function(f){if(void 0!==f.material&&null!==f.material){var p=d.a();
void 0===p.Fa?(p=p.Ia,p=.95<p?.05:.4>p?.0025:.013636363636363637*p-.0029545454545454545):p=p.Fa;f.material.emissiveColor=new A.c(p,p,p);y.a(f)}f.scaling.z=-1;0<m&&(f.scaling.x=-1);d.e&&d.e.getShadowMap().renderList.push(f);g.b(f);return Promise.resolve(f)})}a.d(b,"a",function(){return k});a.d(b,"b",function(){return x});var y=a("0fSa"),h=a("gqHH"),c=a("qmVJ"),d=a("sqbB"),g=a("TqLJ"),n=a("VNi4"),q=a("VtEW"),A=a("v5Mq")},eCSx:function(t,b,a){a.d(b,"a",function(){return k});var k='<div id="btnsWrapper" :style="btnsWrapperStyle"> <front-button v-for="item in runModeButtons" :key="item.id" :title="item.title" :id ="item.id" :curBottom = "item.curBottom" :svg = "item.svg" @click.native="item.clickFunc" ></front-button> </div>'},
ejGh:function(t,b,a){function k(){d=c.t.activeCamera;d.keysUp=[87,38];d.keysDown=[83,40];d.keysLeft=[65,37];d.keysRight=[68,39];c.t.gravity=new h.v(0,-.1,0);d.applyGravity=!0;x();d.speed=.1;d.attachControl(c.p,!0);d._updatePosition();c.p.tabIndex=c.r.Ga;c.p.focus()}function x(){c.q(!0);y();c.t.collisionsEnabled=!0;d.checkCollisions=!0}function y(){d.ellipsoid=new h.v(1,.5*c.o,1)}a.d(b,"a",function(){return d});a.d(b,"d",function(){return k});a.d(b,"c",function(){return x});a.d(b,"b",function(){return y});
var h=a("v5Mq"),c=a("gqHH"),d},fcUb:function(t,b,a){(function(k){function x(){E.a("SceneLoaded",["DeviceOrientationAuthorizedIfNeeded","SetupVue"],function(B){l.y();e.b();y();c();z.d();Object(G.d)();w.a();p.b();M.i();D.a();f.a();n();window.addEventListener("resize",function(){l.r.resize()});B()})}function y(){var B=F.j.CreateSphere("navTargetMesh",4,.1,l.t.utilityLayerScene),H=new F.t("navTargetMeshMaterial",l.t.utilityLayerScene);H.emissiveColor=new F.c(.1,.1,.1);H.diffuseColor=new F.c(.8,.8,.8);
B.material=H;h(H);l.s({la:B});m.b()}function h(B){var H=new F.c(.2,.2,.2),J=new F.c(.8,.8,.8);setInterval(function(){B.diffuseColor=.2===B.diffuseColor.r?J:H},1E3)}function c(){E.a("LoadBabylonScene",["InitVR"],function(B){var H=l.v;d(B,function(){},function(){l.x("environs/day/");d(B,function(){u.b({title:"Missing Scene!",content:'The scene named "'+H+'" doesn\'t exist or is unavailable (perhaps because you\'re offline). Using "environs/day/" instead.',R:!0,fa:!0,V:!1},!1)})})})}function d(B,H,J){e.a("Loading the main scene...");
F.p.LoadAssetContainer(l.v,"scene.babylon",l.t,function(O){g(O,B,H)},function(O){O.lengthComputable&&e.a("Loading the main scene... "+Math.round(90*O.loaded/O.total).toString()+"%")},function(O,C){void 0!==J&&J(O,C)})}function g(B,H,J){e.c(90);l.t.executeWhenReady(function(){k.getJSON(l.v+"scene_info.json",function(O){!1===O.menuActive&&(l.A.La=!1);void 0!==O.positionOnFloor&&(l.u.Pa=O.positionOnFloor);void 0!==O.infiniteDistanceSkyBox&&(l.u.Ja=O.infiniteDistanceSkyBox);void 0!==O.transparentGround&&
(l.u.Ua=O.transparentGround);B.addAllToScene();O=l.t.lights.map(function(L){return L.serialize()});for(var C=0;C<O.length;C++)F.h.Parse(O[C],l.t.utilityLayerScene);H();void 0!==J&&J()})})}function n(){E.a("FinalizeScene",["LoadBabylonScene","LoadMolecule"],function(B){setTimeout(z.e,1E3);e.d();l.t.activeCamera.maxZ=250;l.t.activeCamera.minZ=0;A();q();B()})}function q(){l.r.stopRenderLoop();l.r.runRenderLoop(function(){l.t.render()})}function A(){window.addEventListener("blur",function(){console.log("Pausing...");
l.r.stopRenderLoop()});window.addEventListener("focus",function(){console.log("Restarting...");q()})}a.d(b,"a",function(){return x});var w=a("1RHl"),m=a("nV79"),f=a("cw8d"),p=a("9bcR"),e=a("Rr3C"),l=a("gqHH"),z=a("0fSa"),E=a("VNi4"),M=a("TqLJ"),D=a("k3hL"),u=a("s6Jt"),G=a("YORc"),F=a("v5Mq")}).call(this,a("EVdn"))},gg4m:function(t,b,a){function k(d){this.P=this.ma=null;this.C=void 0;this.C=x(this,d);this.B()}function x(d,g){if(void 0===g){var n="act add age ago aid aim air all and any arm art ask bag ban bar bed bet big bit box bus but buy can cap car cat ceo cow cry cup day dig dna rna dog dry due ear eat egg end era etc eye fan far fee few fit fix fly for fun gap get guy hat hey hip hit hot how ice its jet job joy key kid lab law lay let lie lot low map may mix net new nod nor not now nut odd off oil old one our out owe own pan pay per pet pie pop put raw red rid row run say sea see set sit six ski sky sue sun tap tax ten the toe too top toy try two use via war way wet who why win yes yet you".split(" ");
g="pvr"+d.Qa();g+=n[Math.floor(Math.random()*n.length)]+d.Qa();g=g.replace(/\./g,"")}d.P=new Peer(g,{debug:2,config:{iceServers:[{urls:"stun:0.peerjs.com"},{urls:"stun:stun.l.google.com:19302"}]}});return new Promise(function(q){d.P.on("open",function(){null===d.P.id?(y("Received null id from peer open."),d.P.id=d.ma):d.ma=d.P.id;q(d.ma)})})}function y(d){d=void 0===d?"":d;var g="<p>ProteinVR has encountered an error while running in leader mode. This feature may be temporarily unavailable. ";c.b({title:"Leader Error",
content:""!==d?g+" Here are the details:</p><p><pre>"+(d+"</pre></p>"):g+"</p>",R:!0,fa:!0,V:!1},!1)}function h(){y("Leader connection destroyed. Please refresh.")}a.d(b,"a",function(){return!1});a.d(b,"b",function(){return k});a.d(b,"c",function(){return y});a.d(b,"d",function(){return h});var c=a("s6Jt");k.prototype.B=function(){var d=this;this.P.on("disconnected",function(){h();d.P.id=d.ma;d.P._lastServerId=d.ma;d.P.reconnect()});this.P.on("error",function(g){y(g)})};k.prototype.Qa=function(){return Math.random().toString().replace(/\./g,
"").replace(/0/g,"").slice(0,3)}},gjsD:function(t,b,a){function k(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service-worker.js",{scope:"./"}).then(function(x){console.log("SW registered: ",x)}).catch(function(x){console.log("SW registration failed: ",x)})})}a.d(b,"a",function(){return k})},gmYp:function(t,b,a){a.d(b,"a",function(){return k});var k='<div id="msgsContainer"> \x3c!-- <transition-group name="slide" id="msgsContainer" tag="div"> --\x3e <div class="msg" :id="\'msg-\' + idx.toString()" v-for="(msg, idx) in messages"> {{msg}} </div> \x3c!-- </transition-group> --\x3e </div>'},
gqHH:function(t,b,a){function k(z){f=z}function x(){q=document.getElementById("renderCanvas");A=new n.f(q,!0);n.d.IDBStorageEnabled=!0;w=new n.o(A);window.scene=w}function y(z){if(void 0===e||!0===(void 0===z?!1:z))z=new n.m(w.activeCamera.position,new n.v(0,-1,0),50),e=w.pickWithRay(z,function(E){return"ground"===E.name}).distance}function h(z){e=z}function c(z){g.a("InitVR",[],function(E){l=z;if(d.b())E();else{var M={disableTeleportation:!0,ignoreNativeCameraTransformation:!1,createDefaultXRExperienceAsync:{canvasElement:q,
canvasOptions:{framebufferScaleFactor:1,antialias:!0}}};n.y.BaseRepositoryUrl="js/";window.engine=A;w.createDefaultXRExperienceAsync(M).then(function(D){m=D;m.baseExperience.sessionManager.onXRSessionInit.add(function(){if(!1===window.webXRPolyfill.nativeWebXR){var u=Math.min(window.document.documentElement.clientWidth/2880,window.document.documentElement.clientHeight/1600);1>u&&d.a()&&A.setHardwareScalingLevel(u);console.log("Using WebXR polyfill.")}});D=document.getElementById("babylonVRiconbtn");
null!==D&&(D.style.opacity="0.0",D.style.filter="alpha(opacity=0)");l.La=!0;E();return Promise.resolve()})}})}a.d(b,"k",function(){return"1.0.7"});a.d(b,"p",function(){return q});a.d(b,"r",function(){return A});a.d(b,"t",function(){return w});a.d(b,"z",function(){return m});a.d(b,"v",function(){return f});a.d(b,"x",function(){return k});a.d(b,"u",function(){return p});a.d(b,"o",function(){return e});a.d(b,"j",function(){return 11});a.d(b,"b",function(){return 1.5});a.d(b,"g",function(){return 1});
a.d(b,"d",function(){return 2E3});a.d(b,"a",function(){return 1.2});a.d(b,"f",function(){return 2.5});a.d(b,"e",function(){return.05});a.d(b,"h",function(){return.01});a.d(b,"n",function(){return 500});a.d(b,"m",function(){return 750});a.d(b,"l",function(){return.5});a.d(b,"c",function(){return 15});a.d(b,"i",function(){return.05});a.d(b,"A",function(){return l});a.d(b,"y",function(){return x});a.d(b,"q",function(){return y});a.d(b,"w",function(){return h});a.d(b,"s",function(){return c});var d=a("p11u"),
g=a("VNi4"),n=a("v5Mq"),q,A,w,m,f="environs/simple/",p={Pa:!1,Ja:!0,Ua:!1},e,l={}},iItH:function(t,b,a){function k(g){h.b({title:"Welcome",content:'\n    <div class="media">\n        <img src="icon-512.png" style="max-width: 25%;" class="mr-3" alt="ProtienVR Logo">\n        <div class="media-body">\n            <h5 class="mt-0">Welcome to ProteinVR '+c.k+'</h5>\n            <p>Brought to you by the <a rel="noopener" href="http://durrantlab.com" target="_blank">Durrant Lab</a>.</p>\n            <p>Please authorize access to your device\'s orientation sensors to continue.</p>\n        </div>\n    </div>',
R:!0,ta:"Authorize"},!1,function(){-1!==window.location.href.indexOf("testdosplash")?d.b("splash screen loaded"):g()})}function x(){y.a("DeviceOrientationAuthorizedIfNeeded",["SetupVue"],function(g){"undefined"!==typeof DeviceMotionEvent&&"function"===typeof DeviceMotionEvent.requestPermission||-1!==window.location.href.indexOf("testdosplash")?k(function(){DeviceOrientationEvent.requestPermission().then(function(n){"granted"==n&&g()}).catch(console.error)}):g()})}a.d(b,"a",function(){return x});var y=
a("VNi4"),h=a("s6Jt"),c=a("gqHH"),d=a("VtEW")},jOUz:function(t,b,a){function k(){var v=N.apply(this,arguments)||this;v.tag="menu-2d-modal";var U={};v.methods=(U.onReady=function(){var ba={},X;for(X in I.b)I.b.hasOwnProperty(X)&&(ba[X]={});this.$store.commit("setVar",{F:"menu2dModal",H:"menuInf",G:ba})},U.onClose=function(){this.$store.commit("setVar",{F:"menu2dModal",H:"showMenu2DModal",G:!1})},U);v.B={};v.D={};v.J={};v.I='<modal id="menu-2d" title="Menu" :hasCloseBtn="false" :unclosable="false" :showBackdrop="false" :skinny="true" btnText="Close" @onReady="onReady" @onClose="onClose" :open="$store.state.menu2dModal.showMenu2DModal" > <menu-2d-display title=""></menu-2d-display> </modal>';
v.K={state:{showMenu2DModal:!1,menuInf:{}},L:{}};v.data=function(){return{}};v.C=function(){};return v}function x(){var v=V.apply(this,arguments)||this;v.tag="super-file";var U={};v.methods=(U.openFileInput=function(ba){this.$refs[this.name+"-file-input"].click();ba.preventDefault();return!1},U);v.B={};v.D={name:{required:!0},label:{required:!0},placeholder:{required:!0},accept:{"default":void 0}};v.J={};v.I='<form-input-wrapper> <label :id="name + \'-label\'" :for="name + \'-container\'">{{label}}</label> <div :id="name + \'-container\'" class="input-group mb-3" style="cursor:pointer !important;" > <input type="text" :id="name + \'-text-input\'" :placeholder="placeholder" :value="filename" style="cursor:pointer !important;" class="form-control" aria-label="" @keypress="openFileInput" @keydown="openFileInput" @click="openFileInput" readonly>\x3c!-- aria-describedby="basic-addon2" --\x3e <div class="input-group-append"> <span class="input-group-text" style="margin:0; padding:0; border:0; width:110px; cursor:pointer !important;"> <button :ref="name + \'-file-input-button\'" class="btn btn-primary" style="position:absolute; width:110px; cursor:pointer !important;" >Select File</button> <input type="file" :id="name + \'-file-input\'" style="z-index:100; opacity:0; cursor:pointer !important;" :ref="name + \'-file-input\'" :accept="accept" > </span> </div> </div> </form-input-wrapper>';
v.data=function(){return{filename:""}};v.C=function(){var ba=this,X=this.$refs[this.name+"-file-input"];X.addEventListener("change",function(fa){var ca=X.files[0].name;ba.filename=ca;fa=fa.target;var da=new FileReader;da.onloadend=function(){ba.$emit("fileLoaded",{fileName:ca,wa:da.result})};da.readAsText(fa.files[0])})};return v}function y(){var v=Q.apply(this,arguments)||this;v.tag="front-button";v.methods={};var U={};v.B=(U.styles=function(){return"color:white;\n                width:80px;\n                height:50px;\n                right:5px;\n                position:absolute;\n                bottom:"+
this.curBottom.toString()+'px;\n                background-color:rgba(51,51,51,0.7);\n                border:none;\n                outline:none;\n                cursor:pointer;"'.replace("\n","")},U);v.D={title:{"default":""},id:{"default":""},curBottom:{"default":0},svg:{"default":""}};v.J={};v.I='<button :title="title" :id="id" class="ui-button" :style="styles"> <span v-html="svg"></span> </button>';return v}function h(){var v=R.apply(this,arguments)||this;v.tag="tabs-container";v.methods={};
v.B={};v.D={name:{required:!0}};v.J={};v.I="<span><slot></slot></span>";v.data=function(){return{tabInfo:[{activeClass:"moo1",pluginSlug:"moo1",pluginTitle:"moo1"},{activeClass:"moo2",pluginSlug:"moo2",pluginTitle:"moo2"}]}};v.C=function(){};return v}function c(){var v=P.apply(this,arguments)||this;v.tag="tabs-header-item";var U={};v.methods=(U.tabHeaderClick=function(){for(var ba=Object(H.a)("loadSave"),X=Object.keys(ba),fa=X.length,ca=void 0,da=0;da<fa&&(ca=ba[X[da]],ca.U!==this.pluginSlug);da++);
K.b.commit("setVar",{F:"loadSaveModal",H:"currentTabPlugin",G:ca});void 0!==ca&&ca.methods.Z.bind(ca)()},U);v.B={};v.D={activeClass:{type:Boolean,"default":!1},pluginSlug:{required:!0}};v.J={};v.I='<li class="nav-item" @click="tabHeaderClick()"> <a :class="\'nav-link px-tab-pvr\' + (activeClass ? \' active\' : \'\')" :id="pluginSlug + \'-tab\'" data-toggle="tab" :href="\'#\' + pluginSlug" role="tab" :aria-controls="pluginSlug" aria-selected="true"> <slot></slot> </a> </li>';v.K={state:{currentTabPluginSlug:void 0},
L:{}};v.data=function(){return{}};v.C=function(){};return v}function d(){var v=T.apply(this,arguments)||this;v.tag="tabs-header";v.methods={};v.B={};v.D={name:{required:!0}};v.J={};v.I='<nav> <ul class="nav nav-tabs" :id="name + \'-header\'" role="tablist"> <slot></slot> </ul> </nav>';v.data=function(){return{}};v.C=function(){};return v}function g(){var v=S.apply(this,arguments)||this;v.tag="tabs";v.methods={};v.B={};v.D={name:{required:!0}};v.J={};v.I='<div class="tab-content" :id="name + \'-content\'"> <slot></slot> </div>';
v.data=function(){return{}};v.C=function(){};return v}function n(){var v=L.apply(this,arguments)||this;v.tag="tab-item";v.methods={};v.B={};v.D={pluginSlug:{required:!0},activeClass:{type:Boolean,"default":!1}};v.J={};v.I="<div :class=\"'tab-pane fade' + (activeClass ? 'show active' : '')\" :id=\"pluginSlug\" role=\"tabpanel\" :aria-labelledby=\"pluginSlug + '-tab'\"> <slot></slot> </div>";v.data=function(){return{}};v.C=function(){};return v}function q(){var v=O.apply(this,arguments)||this;v.tag=
"load-save-modal";var U={};v.methods=(U.onReady=function(){Object(H.a)("loadSave");J.g()},U.onClose=function(){this.$store.commit("setVar",{F:"loadSaveModal",H:"showLoadSaveModal",G:!1})},U);v.B={};v.D={};v.J={};v.sa=function(){var ba=Object(H.a)("loadSave"),X="",fa="",ca=!0;ba=ea(ba);for(var da=ba.next();!da.done;da=ba.next())da=da.value,X+='<tabs-header-item :activeClass="'+ca.toString()+'" pluginSlug="'+da.U+'">'+da.ca+"</tabs-header-item>",fa+='<tab-item :activeClass="'+ca.toString()+'" pluginSlug="'+
da.U+'"><'+da.U+"-panel></"+da.U+"-panel></tab-item>",ca=!1;return'<modal id="load-save-modal" title="Load and Save" :hasCloseBtn="false" :unclosable="false" :showBackdrop="true" :skinny="false" btnText="Close" @onReady="onReady" @onClose="onClose" :open="$store.state.loadSaveModal.showLoadSaveModal" > \x3c!-- @onClose="onClose()" @onReady="onReady()" --\x3e <tabs-container name="loadSaveTabs"> <tabs-header name="loadSaveTabs"> {{HEADERS}} </tabs-header> <tabs name="loadSaveTabs"> {{CONTENTS}} </tabs> </tabs-container> </modal>'.replace("{{HEADERS}}",
X).replace("{{CONTENTS}}",fa)};v.I=v.sa();v.K={state:{showLoadSaveModal:!1,currentTabPlugin:void 0},L:{}};v.data=function(){return{}};v.C=function(){};return v}function A(){var v=G.apply(this,arguments)||this;v.tag="text-area";var U={};v.methods=(U.onKeyPress=function(ba){this.$emit("keypress",ba)},U);v.B={valueGetSet:{get:function(){return this.value},set:function(ba){this.$emit("change",ba)}}};v.D={id:{required:!0},placeholder:{required:!0},value:{required:!0}};v.J={};v.I='<span> <label :for="id"><slot></slot></label> <textarea :id="id" class="form-control" rows="5" :placeholder="placeholder" v-model="valueGetSet" @keypress="onKeyPress" ></textarea> </span>';
v.data=function(){return{}};v.C=function(){};return v}function w(){var v=u.apply(this,arguments)||this;v.tag="form-options";v.methods={};v.B={selectedVal:{get:function(){return this.selected},set:function(U){this.$emit("change",U)}}};v.D={id:{required:!0},options:{required:!0},selected:{required:!0}};v.J={};v.I='<span> \x3c!-- {{options}} --\x3e <select v-model="selectedVal" class="form-control" :id="id"> <option v-for="option in options" v-bind:value="option.value" :key="option.value"> \x3c!-- :key="option.value" :selected="option.selected"> --\x3e {{option.description}} </option> </select> </span>';
v.data=function(){return{}};v.C=function(){};return v}function m(){var v=D.apply(this,arguments)||this;v.tag="form-button";v.methods={};v.B={};v.D={id:{required:!0},cls:{"default":"primary"},disabled:{"default":!1}};v.J={};v.I='<button :id="id" :class="\'btn btn-\' + cls" :disabled="disabled"> <slot></slot> </button>';v.data=function(){return{}};v.C=function(){};return v}function f(){var v=M.apply(this,arguments)||this;v.tag="form-input";var U={};v.methods=(U.onKeyPress=function(ba){this.$emit("keypress",
ba);13===ba.charCode&&this.$emit("enter")},U);v.B={valueGetSet:{get:function(){return this.value},set:function(ba){this.$emit("change",ba)}}};v.D={id:{required:!0},placeholder:{required:!0},type:{"default":"text"},value:{required:!0}};v.J={};v.I='<span> <label :for="id"><slot></slot></label> <input :type="type" class="form-control" :id="id" :placeholder="placeholder" v-model="valueGetSet" @keypress="onKeyPress" /> </span>';v.data=function(){return{}};v.C=function(){};return v}function p(){var v=E.apply(this,
arguments)||this;v.tag="form-checkbox";v.methods={};v.B={isChecked:{get:function(){return this.checked},set:function(U){this.$emit("change",U)}}};v.D={id:{required:!0},label:{required:!0},hidden:{required:!0},helpMsg:{required:!0},checked:{"default":!1}};v.J={};v.I='<div v-if="!hidden" :class="\'row \' + id + \'-container\'"> <div class="col-md-12"> <div class="form-check"> <label for="id + \'-label\'"> {{helpMsg}} </label> <div id="id + \'-label\'"> <input style="margin-left: 0;" type="checkbox" class="form-check-input" :id="id" v-model="isChecked" > <label style="padding-left: 1.5rem;" class="form-check-label" :for="id">{{label}}</label> <p style="height:5px;">&nbsp;</p> </div> </div> </div> </div>';
v.data=function(){return{}};v.C=function(){};return v}function e(){var v=z.apply(this,arguments)||this;v.tag="form-input-wrapper";v.methods={};v.B={};v.D={};v.J={};v.I='<div class="row"> <div class="col-md-12"> <div class="form-group"> <slot></slot> </div> </div> </div>';v.data=function(){return{}};v.C=function(){};return v}function l(){Y.a("SetupVue",[],function(v){(new e).load(Vue);(new p).load(Vue);(new f).load(Vue);(new w).load(Vue);(new m).load(Vue);(new A).load(Vue);(new B.a).load(Vue);(new q).load(Vue);
(new F.a).load(Vue);(new C.a).load(Vue);(new g).load(Vue);(new n).load(Vue);(new d).load(Vue);(new c).load(Vue);(new h).load(Vue);(new Z.a).load(Vue);(new y).load(Vue);(new x).load(Vue);(new W.a).load(Vue);(new r.a).load(Vue);(new k).load(Vue);var U={};new Vue((U.el="#vue-app",U.template='\n                <div style="height:0;" id="main-app">\n                    <messages></messages>\n                    <front></front>\n                    <load-save-modal></load-save-modal>\n                    <menu-2d-modal></menu-2d-modal>\n                    <simple-modal></simple-modal>\n                    <status></status>\n                </div>\n                ',
U.store=K.b,U.mounted=function(){Object(K.a)(this.$store)},U));v()})}a.d(b,"a",function(){return l});t=a("vphU");var z=t.a;pa(e,z);var E=t.a;pa(p,E);var M=t.a;pa(f,M);var D=t.a;pa(m,D);var u=t.a;pa(w,u);var G=t.a;pa(A,G);var F=a("8AaI"),B=a("s6Jt"),H=a("BMQn"),J=a("7zZK"),O=t.a;pa(q,O);var C=a("ma9t"),L=t.a;pa(n,L);var S=t.a;pa(g,S);var T=t.a;pa(d,T);var K=a("sLDT"),P=t.a;pa(c,P);var R=t.a;pa(h,R);var Z=a("QhH7"),Q=t.a;pa(y,Q);y.prototype.data=function(){return{}};y.prototype.C=function(){};var W=
a("VtEW"),V=t.a;pa(x,V);var r=a("RUjv"),I=a("/fW+"),N=t.a;pa(k,N);var Y=a("VNi4")},k3hL:function(t,b,a){function k(){y.a("SetupMenus",["LoadBabylonScene","InitVR"],function(g){h.A.La&&c.d();Object(d.b)();g()})}function x(g){null===g[0].match(/\[([0-9]+?)\-([0-9]+?)\]/)?g.sort(function(n,q){n=n.replace("+","").replace("-","");q=q.replace("+","").replace("-","");return n<q?-1:n>q?1:0}):g.sort(function(n,q){n=n.match(/\[([0-9]+?)\-([0-9]+?)\]/);q=q.match(/\[([0-9]+?)\-([0-9]+?)\]/);if(null===n||null===
q)return 0;n=parseInt(n[1]);q=parseInt(q[1]);return n<q?-1:n>q?1:0})}a.d(b,"a",function(){return k});a.d(b,"b",function(){return x});var y=a("VNi4"),h=a("gqHH"),c=a("/fW+"),d=a("RUjv")},lFou:function(t,b,a){function k(){for(var c=0;2>c;c++)h[c]=[]}function x(c,d){h[c].push(d)}function y(c,d){c=h[c];for(var g=c.length,n=0;n<g;n++)(0,c[n])(d)}a.d(b,"c",function(){return k});a.d(b,"a",function(){return x});a.d(b,"b",function(){return y});var h={}},lQ36:function(t,b,a){function k(){if(!d){d=!0;var n=
sessionStorage.getItem("loadAttempts");c=null===n?0:parseInt(n);switch(c){case 0:h=1;break;case 1:h=2;break;default:h=3}sessionStorage.setItem("loadAttempts",(c+1).toString());-1!==window.location.href.indexOf("?reset")&&(h=4);3===h&&(x(!1),window.location.href=window.location.href.split("?")[0]+"?reset")}}function x(n){n=void 0===n?!0:n;if(!g){g=!0;sessionStorage.removeItem("loadAttempts");var q="";switch(h){case 2:q="Deactivated shadows to boost performance.";break;case 4:q="Reset scene to recover. Sorry for the inconvenience!"}n&&
""!==q&&y.b({title:"Unexplained Error",content:q,R:!0,V:!1},!1)}}a.d(b,"c",function(){return h});a.d(b,"a",function(){return k});a.d(b,"b",function(){return x});var y=a("s6Jt"),h=1,c=0,d=!1,g=!1},ma4r:function(t,b,a){function k(y){return x.has(y)?Promise.resolve():new Promise(function(h){var c=document.createElement("script");c.onload=function(){x.add(y);h()};c.src=y;document.head.appendChild(c)})}a.d(b,"a",function(){return k});var x=new Set([])},ma9t:function(t,b,a){(function(k){function x(){var q=
n.apply(this,arguments)||this;q.tag="messages";q.methods={};var A={};q.B=(A.messages=function(){return this.$store.state.messages.messages},A);q.D={};q.J={};q.I=d.a;q.K={state:{messages:[]},L:{}};q.data=function(){return{}};return q}function y(q){var A=c.b.state.messages.messages;A.push(q);c.c.commit("setVar",{F:"messages",H:"messages",G:A});if(void 0===g){var w=function(){g=setTimeout(function(){var m=c.b.state.messages.messages;0===m.length?(clearTimeout(g),g=void 0):k("#msg-0.msg").slideUp(500,
function(){m.shift();c.c.commit("setVar",{F:"messages",H:"messages",G:m});k("#msg-0.msg").show();w()})},9E3)};w()}}a.d(b,"a",function(){return x});a.d(b,"b",function(){return y});var h=a("vphU"),c=a("sLDT"),d=a("gmYp"),g,n=h.a;pa(x,n);x.prototype.C=function(){}}).call(this,a("EVdn"))},mvtX:function(t,b,a){function k(){var f=m.call(this,void 0)||this;f.B=[];f.C.then(function(){f.I()});return f}function x(){A=!0;w=new k;var f=q.a("./js/qrcode.min.js");Promise.all([w.C,f]).then(function(p){window.PVR_webRTCID=
p[0];n.b({title:"Leader",content:"pages/leader.html",R:!0,fa:!0,V:!1},!0)});setInterval(function(){var p=d.a(),e=d.b();w.D({type:"locrot",val:[p.x,p.y,p.z,1*e.x,1*e.y,1*e.z,1*e.w]})},100);setInterval(function(){w.D({type:"initialUrl",val:window.location.href})},2E3)}function y(f,p,e){w.D({type:"toggleRep",val:{filters:f,repName:p,colorScheme:e}})}function h(f){w.D({type:"molAxisRotation",val:f})}function c(){w.D({type:"molUndoRot",val:void 0})}a.d(b,"a",function(){return A});a.d(b,"e",function(){return x});
a.d(b,"b",function(){return y});a.d(b,"d",function(){return h});a.d(b,"c",function(){return c});var d=a("vCcv"),g=a("gg4m"),n=a("s6Jt"),q=a("ma4r"),A=!1,w,m=g.b;pa(k,m);k.prototype.D=function(f){f=JSON.stringify(f);!0===g.a&&console.log("WEBRTC: Send:",f);for(var p=this.B.length,e=0;e<p;e++)this.B[e].send(f)};k.prototype.I=function(){var f=this;this.P.on("connection",function(p){f.B.push(p);!0===g.a&&console.log("WEBRTC: Lecturer: added a connection")});this.P.on("close",function(){for(var p=f.B.length,
e=0;e<p;e++)f.B[e]=null;g.d()})}},nV79:function(t,b,a){(function(k){function x(){w.a("SetupVRListeners",["InitVR"],function(z){q.b()||void 0===g.z.baseExperience||(h(),n.a(),setInterval(function(){var E=(new Date).getTime();void 0===l&&(l=E);2E3<E-l&&y();l=E},1E3));z()})}function y(){void 0!==g.z&&(g.z.baseExperience.state===e.z.IN_XR&&g.z.baseExperience.exitXRAsync(),g.t.getEngine().exitFullscreen())}function h(){g.z.baseExperience.onStateChangedObservable.add(function(z){switch(z){case e.z.ENTERING_XR:q.e(!1);
break;case e.z.IN_XR:q.e(!0);g.z.baseExperience.camera.position=f.a.position.clone();g.r.resize();g.A.M=2;m.h();c.j(void 0);d.e();k(".ui-button").hide();A.b["Exit VR \u00d7"]=function(){y()};z=new e.i;z.dispose();z=null;break;case e.z.EXITING_XR:q.e(!0);break;case e.z.NOT_IN_XR:q.e(!0),g.r.resize(),g.A.M=3,c.j(void 0),d.e(),m.h(),k(".ui-button").show(),k(".babylonVRicon").show(),p.b(),delete A.b["Exit VR \u00d7"]}})}a.d(b,"b",function(){return x});a.d(b,"a",function(){return y});var c=a("TqLJ"),d=
a("0fSa"),g=a("gqHH"),n=a("pAUf"),q=a("p11u"),A=a("/fW+"),w=a("VNi4"),m=a("ph2Y"),f=a("ejGh"),p=a("QhH7"),e=a("v5Mq");a("dSwm");var l}).call(this,a("EVdn"))},p11u:function(t,b,a){(function(k){function x(K){S=K}function y(K,P){P=void 0===P?!1:P;var R=K?K.split("?")[1]:window.location.search.slice(1);K=new Map;if(R){R=R.split("#")[0];R=R.split("&");for(var Z=R.length,Q=0;Q<Z;Q++){var W=R[Q].split("="),V=W[0];W=void 0===W[1]?!0:decodeURIComponent(W[1]);K.set(V,W)}}if(!0===P)for(P=T.length,R=0;R<P;R++)K.delete(T[R]);
return K}function h(K){return(Math.round(1E5*K)/1E5).toString()}function c(){if(!1!==S){var K=[],P=l.f.toEulerAngles(),R=P.x;0!==R&&K.push("rx="+h(R));R=P.y;0!==R&&K.push("ry="+h(R));P=P.z;0!==P&&K.push("rz="+h(P));K.push("s="+p.b);void 0!==J&&(console.log("setting webrtc..."),K.push("f="+J));P=0;R=[];for(var Z=Object.keys(e.a),Q=Z.length,W=0;W<Q;W++){var V=Z[W];e.a[V].mesh.isVisible&&(R.push("st"+P.toString()+"="+V),P++)}K=K.concat(R);P=M.a();R=M.b();K.push("cx="+h(P.x));K.push("cy="+h(P.y));K.push("cz="+
h(P.z));K.push("crx="+h(R.x));K.push("cry="+h(R.y));K.push("crz="+h(R.z));K.push("crw="+h(R.w));K.push("e="+E.v);void 0===O&&(O=!1);K.push("sh="+O.toString());void 0===C&&(C=!0);K.push("hs="+C.toString());window.history.pushState({},document.title,window.location.href.split("?")[0]+"?"+K.join("&"))}}function d(){L=y(window.location.href);var K=L.get("e");void 0!==K&&E.x(K)}function g(){J=L.get("f");if(void 0!==J){z.a(J);E.t.activeCamera.inputs.clear();k("#help-button").hide();k("#leader").hide();
k("#babylonVRiconbtn").hide();k("#open-button").hide();var K=k("#fullscreen-button"),P=K.css("bottom");void 0!==P&&(P=+P.replace(/px/g,""),K.css("bottom",(P-60).toString()+"px"));k("#capture-clicks").remove();Object(F.b)("Follower (view only) mode. Movement controlled by a remote user.")}K=L.get("rx");P=L.get("ry");var R=L.get("rz");l.i(void 0===K?0:+K,void 0===P?0:+P,void 0===R?0:+R);K=L.get("s");void 0!==K&&""!==K&&(4===K.length&&-1===K.indexOf(".")&&(K="https://files.rcsb.org/view/"+K.toUpperCase()+
".pdb"),p.c(K));K=ea(L);for(P=K.next();!P.done;P=K.next())R=ea(P.value),P=R.next().value,R=R.next().value,"st"===P.slice(0,2)&&(P=n(R),H.push(P));0===H.length&&(H.push([["Protein","All"],"Cartoon","Spectrum"]),H.push([["Nucleic","All"],"Stick","Element"]),H.push([["Ligand","All"],"Stick","Element"]));K=L.get("cx");P=L.get("cy");R=L.get("cz");void 0!==K&&void 0!==P&&void 0!==R&&(M.e(new G.v(+K,+P,+R)),Object(B.c)());K=L.get("crx");P=L.get("cry");R=L.get("crz");var Z=L.get("crw");void 0!==K&&void 0!==
P&&void 0!==R&&void 0!==Z&&M.f(new G.l(+K,+P,+R,+Z));O=L.get("sh");C=L.get("hs");Object(u.a)(L);f()}function n(K){K=K.split("--");var P=decodeURIComponent(K[K.length-2]),R=decodeURIComponent(K[K.length-1]);return[K.slice(0,K.length-2).map(function(Z){Z=decodeURIComponent(Z);"{"===Z.charAt(0)&&(Z=JSON.parse(Z));return Z}),P,R]}function q(){if(0<H.length){var K=H.shift();e.b(K[0],K[1],K[2],function(){q()})}}function A(){return-1!==window.location.href.indexOf("f=")}function w(){return 1!==D.c?(console.warn("Failed to fully load on last run, so turning off shadows..."),
!1):-1!==window.location.href.indexOf("sh=t")}function m(){return-1!==window.location.href.indexOf("hs=t")}function f(){setInterval(function(){"block"!==k("#msgModal").css("display")&&c()},1E3)}a.d(b,"d",function(){return T});a.d(b,"e",function(){return x});a.d(b,"g",function(){return y});a.d(b,"j",function(){return c});a.d(b,"h",function(){return d});a.d(b,"i",function(){return g});a.d(b,"f",function(){return n});a.d(b,"k",function(){return q});a.d(b,"b",function(){return A});a.d(b,"c",function(){return w});
a.d(b,"a",function(){return m});var p=a("qmVJ"),e=a("EYe7"),l=a("PjGz"),z=a("uBLq"),E=a("gqHH"),M=a("vCcv"),D=a("lQ36"),u=a("UvVi"),G=a("v5Mq"),F=a("ma9t"),B=a("ejGh"),H=[],J=void 0,O=!1,C=!0,L=new Map,S=!0,T=["sh","hs"]}).call(this,a("EVdn"))},pAUf:function(t,b,a){function k(){m.z.input.onControllerAddedObservable.add(function(u){u.onMeshLoadedObservable.add(function(G){G=[G];for(var F=0;F<G.length;){var B=G[F],H=B.material;if(H&&H.albedoTexture){var J=new n.t(B.name+"Material",m.t);J.diffuseTexture=
H.albedoTexture;B.material=J}G=G.concat(B.getChildren());F++}});u.onMotionControllerInitObservable.add(function(G){M[y(G.handness)]=u;g(G);A.g();m.A.M=1;c(G);d(G)});x()})}function x(){m.z.input.onControllerAddedObservable.add(function(){m.z.baseExperience.sessionManager.session.onselect=function(u){-1!==u.inputSource.targetRayMode.toUpperCase().indexOf("GAZE")&&q.a()}})}function y(u){switch(u){case "left":return"left";case "right":return"right";default:return"other"}}function h(u,G){u=u.map(function(B){return B.toUpperCase()});
var F=G.getComponentIds().filter(function(B){for(var H=u.length,J=0;J<H;J++)if(-1!==B.toUpperCase().indexOf(u[J]))return!0;return!1});F=F.sort().filter(function(B,H,J){return 0===H||B!==J[H-1]});F=F.map(function(B){return G.getComponent(B)});0===F.length&&console.log("WARNING: No controller components matched keyword(s). Keywords: "+u.join(" ")+". Components detected: "+G.getComponentIds().join(" "));return F}function c(u){for(var G=h(["TRIGGER","BUTTON","SQUEEZE"],u),F=G.length,B=0;B<F;B++)G[B].onButtonStateChangedObservable.add(function(H){H.changes.pressed&&
H.pressed&&!g(u)&&(H=(new Date).getTime(),H-p>m.n&&(p=H,q.a()))})}function d(u){for(var G=h(["PAD","STICK"],u),F=G.length,B=0;B<F;B++){var H=G[B];H.onAxisValueChangedObservable.add(function(J){g(u)||Math.abs(J.x)>m.l&&Math.abs(J.y)<m.l||(l=3*J.y,E=!0)});H.onButtonStateChangedObservable.add(function(J){!g(u)&&J.changes.pressed&&J.pressed&&(z=J.axes.x,z+=0<z?-.5:.5,z=2*z,E=!0)})}m.t.registerBeforeRender(function(){if(E){if(!w.a.equals(w.e)){var J=f.a(),O=w.a.subtract(J);O.normalize();O=O.scale(l*m.h*
m.t.getAnimationRatio());f.e(J.subtract(O))}0!==z&&(J=(new Date).getTime(),J-e<m.m||(e=J,m.t.activeCamera.rotationQuaternion.multiplyInPlace(n.l.FromEulerAngles(0,.25*Math.sign(z)*Math.PI,0))));z=l=0;E=!1}})}function g(u){if(D===u.handness)return!1;var G=M[y(u.handness)];w.f(function(){var F=new n.m(new n.v,new n.v);G.getWorldPointerRayToRef(F);return F});D=u.handness;return!0}a.d(b,"a",function(){return k});var n=a("v5Mq"),q=a("9bcR"),A=a("TqLJ"),w=a("ph2Y"),m=a("gqHH"),f=a("vCcv"),p=0,e=0,l=0,z=
0,E=!1,M={left:void 0,right:void 0,other:void 0},D=""},ph2Y:function(t,b,a){function k(l){e=l}function x(){e=function(){return g.t.activeCamera.getForwardRay()}}function y(){var l=1.5*g.a;x();g.t.registerBeforeRender(function(){h();void 0===p?(p.copyFrom(w),n.j(void 0)):10<A.v.Distance(d.a(),p)&&(p.copyFrom(w),n.j(void 0));g.A.la.position.copyFrom(p);void 0!==n.d&&(g.A.la.isVisible=n.d!==n.h);var z=d.a(),E=c(z).pickedPoint;E&&(m=E,z.y-E.y<l?(q.c.button.isVisible=!1,q.c.Y.isVisible=!1):(q.c.button.isVisible=
!0,q.c.Y.isVisible=!0,window.btn=q.c));(E=c(p).pickedPoint)&&(f=E)})}function h(l){l=void 0===l?!0:l;var z=e();z=g.t.pickWithRay(z,function(M){return n.c(M)});var E=z.distance;z.hit&&E<g.c?(l&&p.copyFrom(z.pickedPoint),n.j(z.pickedMesh)):(p.copyFrom(w),n.j(void 0))}function c(l){l=new A.m(l,new A.v(0,-1,0),50);return g.t.pickWithRay(l,function(z){return z.id===g.A.T.id})}a.d(b,"e",function(){return w});a.d(b,"b",function(){return m});a.d(b,"c",function(){return f});a.d(b,"a",function(){return p});
a.d(b,"f",function(){return k});a.d(b,"h",function(){return x});a.d(b,"g",function(){return y});a.d(b,"d",function(){return c});var d=a("vCcv"),g=a("gqHH"),n=a("TqLJ"),q=a("/fW+"),A=a("v5Mq"),w=new A.v(-1E3,1E3,1E3),m=new A.v(0,0,0),f=new A.v(0,0,0),p=new A.v(0,0,0),e},qmVJ:function(t,b,a){function k(e){p=decodeURIComponent(e)}function x(){return new Promise(function(e){y(e)})}function y(e){q.k(function(){n.i();if("LOCALFILE"===p){var l=sessionStorage.getItem("fileContent"),z=sessionStorage.getItem("fileType");
sessionStorage.removeItem("fileContent");sessionStorage.removeItem("fileType");if(null===l||void 0===l||null===z||void 0===z)window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname;w.c.commit("setVar",{F:"loadLocalFilePanel",H:"fileContent",G:l});w.c.commit("setVar",{F:"loadLocalFilePanel",H:"fileType",G:z});q.d(l,z,function(E){h(E,e)})}else q.e(p,function(E){h(E,e)});sessionStorage.removeItem("fileContent");sessionStorage.removeItem("fileType")})}function h(e,
l){n.j();n.b()||(c(e),g.b(d.b));n.k();"nanokid.sdf"===p&&!1===n.b()&&setTimeout(function(){m.b()||A.b()},3E3);l()}function c(e){e=e.selectedAtoms({});f={"Atom Name":[],Chain:[],Element:[],"Residue Index":[],"Residue Name":[],"Secondary Structure":[]};for(var l=e.length,z=0;z<l;z++){var E=e[z];f["Atom Name"].push(E.atom);f.Chain.push(E.chain);f.Element.push(E.elem);f["Residue Name"].push(E.resn);f["Residue Index"].push(E.resi);f["Secondary Structure"].push(E.ss)}e=Object.keys(f);l=e.length;for(z=0;z<
l;z++){E=e[z];for(var M=f,D=f[E],u={},G=[],F=0,B=D.length;F<B;++F)u.hasOwnProperty(D[F])||(G.push(D[F]),u[D[F]]=1);M[E]=G}}a.d(b,"a",function(){return f});a.d(b,"b",function(){return p});a.d(b,"c",function(){return k});a.d(b,"d",function(){return x});var d=a("/fW+"),g=a("GJqe"),n=a("p11u"),q=a("PjGz"),A=a("DXjm"),w=a("sLDT"),m=a("8AaI"),f={},p="nanokid.sdf"},s6Jt:function(t,b,a){function k(){var d=c.apply(this,arguments)||this;d.tag="simple-modal";var g={};d.methods=(g.onReady=function(){},g.onClose=
function(){if(null!==this.$store.state.simpleModal.onCloseCallback)this.$store.state.simpleModal.onCloseCallback()},g);d.B={};d.D={};d.J={};d.I='<modal id="simple-modal" :title="$store.state.simpleModal.title" :hasCloseBtn="$store.state.simpleModal.hasCloseBtn" :unclosable="$store.state.simpleModal.unclosable" :showBackdrop="$store.state.simpleModal.showBackdrop" :skinny="$store.state.simpleModal.skinny" :btnText="$store.state.simpleModal.btnText" @onReady="onReady" @onClose="onClose" :open="$store.state.simpleModal.showModal" > <span v-html="$store.state.simpleModal.content"></span> </modal>';
d.K={state:{showModal:!1,title:"",hasCloseBtn:!0,unclosable:!0,showBackdrop:!0,skinny:!0,btnText:"Close",content:"",onCloseCallback:null},L:{}};d.data=function(){return{}};d.C=function(){};return d}function x(d){d.R=void 0===d.R?void 0:d.R;d.V=void 0===d.V?!1:d.V;d.fa=void 0===d.fa?!0:d.fa;d.Aa=void 0===d.Aa?!1:d.Aa;d.ta=void 0===d.ta?"Close":d.ta;return d}function y(d,g,n){g=void 0===g?!1:g;n=void 0===n?null:n;d=x(d);h.b.commit("setVar",{F:"simpleModal",H:"title",G:d.title});h.b.commit("setVar",
{F:"simpleModal",H:"hasCloseBtn",G:d.R});h.b.commit("setVar",{F:"simpleModal",H:"unclosable",G:d.V});h.b.commit("setVar",{F:"simpleModal",H:"showBackdrop",G:d.fa});h.b.commit("setVar",{F:"simpleModal",H:"skinny",G:d.Aa});h.b.commit("setVar",{F:"simpleModal",H:"btnText",G:d.ta});h.b.commit("setVar",{F:"simpleModal",H:"onCloseCallback",G:function(){h.b.commit("setVar",{F:"simpleModal",H:"showModal",G:!1});null!==n&&n()}});g?(h.b.commit("setVar",{F:"simpleModal",H:"content",G:"<center>Loading...</center>"}),
h.b.commit("setVar",{F:"simpleModal",H:"showModal",G:!0}),g=new XMLHttpRequest,g.onreadystatechange=function(){4===this.readyState&&200===this.status&&(h.b.commit("setVar",{F:"simpleModal",H:"content",G:this.responseText}),setTimeout(function(){var q=document.createElement("script");q.src=d.content.replace(".html",".html.js");document.head.appendChild(q)},0))},g.open("GET",d.content,!0),g.send()):(h.b.commit("setVar",{F:"simpleModal",H:"content",G:"<center>"+d.content+"</center>"}),h.b.commit("setVar",
{F:"simpleModal",H:"showModal",G:!0}))}a.d(b,"a",function(){return k});a.d(b,"b",function(){return y});t=a("vphU");var h=a("sLDT"),c=t.a;pa(k,c)},sLDT:function(t,b,a){function k(h){y=h}a.d(b,"b",function(){return x});a.d(b,"c",function(){return y});a.d(b,"a",function(){return k});t={};var x=new Vuex.Store({state:{},mutations:(t.setVar=function(h,c){void 0===c.F?h[c.H]=c.G:h[c.F][c.H]=c.G},t)}),y;window.store=x},sqbB:function(t,b,a){function k(){for(var A=c.t.lights.length,w=0;w<A;w++){var m=c.t.lights[w],
f=m.name.toLowerCase();if(-1!==f.indexOf("shadowlight")||-1!==f.indexOf("shadow_light"))return m}}function x(){var A=k(),w=y();d.c()&&(q=new g.q(4096,A),q.useBlurExponentialShadowMap=!0,q.xb=!0,q.ob=w.blur,q.setDarkness(w.Ia))}function y(){var A=k(),w=64,m=.9625,f=void 0,p=A.name.match(/blur_([0-9\.]+)/g);null!==p&&(w=+p[0].substr(5));p=A.name.match(/dark_([0-9\.]+)/g);null!==p&&(m=+p[0].substr(5));A=A.name.match(/ambient_([0-9\.]+)/g);null!==A&&(f=+A[0].substr(8));return{blur:w,Ia:m,Fa:f}}function h(){for(var A=
c.t.meshes.length,w=0;w<A;w++){var m=c.t.meshes[w];if(-1!==m.name.toLowerCase().indexOf("shadowcatcher")||-1!==m.name.toLowerCase().indexOf("shadow_catcher"))m.material=new n.a("shadow_catch"+w.toString(),c.t),m.material.activeLight=k(),m.receiveShadows=!0}}a.d(b,"e",function(){return q});a.d(b,"b",function(){return k});a.d(b,"d",function(){return x});a.d(b,"a",function(){return y});a.d(b,"c",function(){return h});var c=a("gqHH"),d=a("p11u"),g=a("v5Mq"),n=a("TkZL"),q},t5e9:function(t,b,a){function k(){-1!==
window.location.href.indexOf("durrantlab")&&setTimeout(function(){(function(y,h,c,d,g,n,q){y.GoogleAnalyticsObject=g;y[g]=y[g]||function(){(y[g].q=y[g].q||[]).push(arguments)};y[g].qb=(new Date).getTime();n=h.createElement(c);q=h.getElementsByTagName(c)[0];n.async=1;n.src=d;q.parentNode.insertBefore(n,q)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-144382730-1",{name:"proteinvr"});var x=window.location.href;-1!==x.indexOf("?")&&(x=x.split("?")[0]+
"?PARAMS_REMOVED");ga("proteinvr.send",{hitType:"event",eventCategory:"proteinvr",eventAction:"pageview",eventLabel:x})},0)}a.d(b,"a",function(){return k})},tsqi:function(t,b,a){a.d(b,"a",function(){return k});var k='<div class="modal fade" :id="id" role="dialog" tabindex="-1" :aria-labelledby="id + \'-label\'" aria-hidden="true"> <div class="modal-dialog" :class="skinnyClass" role="document"> <div class="modal-content"> \x3c!-- Modal Header --\x3e <div class="modal-header"> <h4 class="modal-title" :id="id + \'-label\'">{{title}}</h4> <button :id="\'modal-close-button-\' + id" v-if="!unclosable" type="button" class="close" data-dismiss="modal">&times;</button> </div> \x3c!-- Modal body --\x3e <div class="modal-body"> \x3c!-- <div id="iframe-container" style="height:350px;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch"> <iframe frameBorder="0" src="" style="width:100%;height:100%;"></iframe> </div> --\x3e <span id="msg-container" :style="msgContainerStyles"> <slot></slot> </span> </div> \x3c!-- Modal footer --\x3e <div v-if="hasCloseBtn" id="modal-footer" class="modal-footer"> <button :id="\'close-btn-\' + id" type="button" class="btn btn-primary modal-close-btn" @click="$emit(\'onClose\')" data-dismiss="modal">{{btnText}}</button> </div> </div> </div> </div>'},
uBLq:function(t,b,a){function k(p){var e=w.call(this,null)||this;e.B=null;e.I=p;e.D();return e}function x(p){m=new Float32Array(h.a().asArray());f=new Float32Array(h.b().asArray());(new k(function(e){!0===c.a&&console.log("WEBRTC: stud1 got data",e);var l=e.val;switch(e.type){case "locrot":m=new Float32Array([l[0],l[1],l[2]]);f=new Float32Array([l[3],l[4],l[5],l[6]]);break;case "initialUrl":-1!==window.location.href.indexOf("nanokid.sdf")&&(e=l+"&f="+A,e=e.replace(/sh=true/g,"sh=false"),top.location.href=
e);break;case "toggleRep":g.b(l.filters,l.repName,l.colorScheme,void 0);break;case "molAxisRotation":n.a(l);break;case "molUndoRot":n.c()}})).J(p);d.t.registerBeforeRender(function(){var e=new Float32Array(h.a().asArray());e=y(e,m);e=q.v.FromArray(e);h.e(e);e=new Float32Array(h.b().asArray());e=y(e,f);e=q.l.FromArray(e);h.f(e)})}function y(p,e){for(var l=p.length,z=new Float32Array(l),E=0;E<l;E++)z[E]=e[E]-p[E];e=d.t.getAnimationRatio();E=new Float32Array(l);for(var M=0;M<l;M++)E[M]=p[M]+.02*e*z[M];
return E}a.d(b,"a",function(){return x});var h=a("vCcv"),c=a("gg4m"),d=a("gqHH"),g=a("EYe7"),n=a("XSPr"),q=a("v5Mq"),A,w=c.b;pa(k,w);k.prototype.J=function(p){var e=this;this.C.then(function(){e.B&&e.B.close();e.B=e.P.connect(p,{reliable:!0});e.B.on("open",function(){!0===c.a&&console.log("WEBRTC: Connected to: "+e.B.peer);e.K()});A=p})};k.prototype.D=function(){var p=this;this.C.then(function(){p.P.on("close",function(){p.B=null;c.d()})})};k.prototype.K=function(){var p=this;this.B.on("data",function(e){!0===
c.a&&console.log("WEBRTC: Received:",e);e=JSON.parse(e);p.I(e)});this.B.on("close",function(){c.c("Leader connection closed.")})};var m=null,f=null},uD6w:function(t,b,a){function k(){var y=x.apply(this,arguments)||this;y.type="loadSave";y.ca="";y.U="";y.methods={S:function(){},Z:function(){}};return y}a.d(b,"a",function(){return k});var x=a("vphU").a;pa(k,x)},vCcv:function(t,b,a){function k(){var m=q.t.activeCamera,f=m.position.clone();if(2===q.A.M||1===q.A.M)m.leftCamera?f.copyFrom(m.leftCamera.globalPosition):
console.log("Prob here");return f}function x(m){3===q.A.M?q.t.activeCamera.position.copyFrom(m):(2===q.A.M||1===q.A.M)&&q.t.activeCamera.position.copyFrom(m.subtract(d()))}function y(){if(2===q.A.M||1===q.A.M){var m=q.z.baseExperience.camera.rotationQuaternion;return 0!==m.x?m:q.t.activeCamera.rotationQuaternion}return q.t.activeCamera.rotationQuaternion}function h(m){2===q.A.M||1===q.A.M?console.log("PROBLEM!"):(q.t.activeCamera.rotationQuaternion=m.clone(),q.t.activeCamera.rotation=q.t.activeCamera.rotationQuaternion.toEulerAngles())}
function c(){if(2===q.A.M||1===q.A.M){var m=n.c.subtract(n.b),f=g.v.GetAngleBetweenVectors(m,A,w);for(0>m.z&&(f=-f);0>f;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;return f+=.5*Math.PI}return q.t.activeCamera.rotation.clone().y}function d(){if(3===q.A.M)return new g.v(0,0,0);var m=q.t.activeCamera,f;m.leftCamera?f=m.leftCamera.globalPosition.subtract(m.position):f=new g.v(0,0,0);return f}a.d(b,"a",function(){return k});a.d(b,"e",function(){return x});a.d(b,"b",function(){return y});a.d(b,"f",function(){return h});
a.d(b,"c",function(){return c});a.d(b,"d",function(){return d});var g=a("v5Mq"),n=a("ph2Y"),q=a("gqHH"),A=new g.v(1,0,0),w=new g.v(1,0,0)},vMIs:function(t,b,a){function k(){h.p.ImportMeshAsync(null,"environs/arrow/","arrow.babylon",x.t).then(function(c){var d=c.meshes[0];d.scaling=new h.v(.2,.2,.2);c=new h.t("arrowMat",x.t);c.diffuseColor=new h.c(.3,.35,.4);c.specularColor=new h.c(0,0,0);c.emissiveColor=new h.c(.3,.35,.4);d.material=c;var g=null;x.t.registerBeforeRender(function(){if(null===g&&(g=
x.t.getMeshByName("protein_box"),null===g))return;d.position=y.b;d.lookAt(g.position)})})}a.d(b,"a",function(){return k});var x=a("gqHH"),y=a("ph2Y"),h=a("v5Mq")},vphU:function(t,b,a){function k(){}a.d(b,"a",function(){return k});var x=a("sLDT");k.prototype.load=function(y){y.component(this.tag,{template:this.I,methods:this.methods,props:this.D,computed:this.B,watch:this.J,data:this.data,mounted:this.C});void 0!==this.K&&(-1!==this.tag.indexOf("-")&&(y=this.tag.split("-"),this.tag=y[0]+y.slice(1).map(function(h){return h.slice(0,
1).toUpperCase()+h.slice(1)}).join("")),x.b.state[this.tag]||x.b.registerModule(this.tag,{namespaced:!0,state:this.K.state,mutations:this.K.L}))}},wow2:function(t,b,a){a.d(b,"a",function(){return k});var k='<panel> <h5>Save ProteinVR Scene File</h5> <form-input-wrapper> <form-input id="pvr-scene-file-name" placeholder="ProteinVR scene file" type="text" :value="pvrSceneFileName" @change="onChange" @enter="onEnter" > Enter the name of the file (ending in ".pvr"). </form-input> \x3c!-- <p class="help-block"></p> --\x3e </form-input-wrapper> <form-button :disabled="btnDisabled" @click.native="startSave" id="save-proteinvr-scene"> {{btnTxt}} </form-button> </panel>'},
zblS:function(t,b,a){t.pb=a.p+"cf4bd43cd8dade4b62f7e691f5d0f8cc.mp3"}},[["/7QA",1,41,42,21,13,40,35,7,18,36,5,27,22,20,24,30,6,2,29,28,34,10,23,12,31,39,19,11,14,37,3,32,26,25,15,9,4,8,33,17,38,16]]]);}).call(this || window)
