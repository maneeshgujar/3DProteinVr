var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var k=0;return function(){return k<g.length?{done:!1,value:g[k++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.makeIterator=function(g){var k="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return k?k.call(g):$jscomp.arrayIterator(g)};
$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,k,f){g!=Array.prototype&&g!=Object.prototype&&(g[k]=f.value)};
$jscomp.polyfill=function(g,k,f,m){if(k){f=$jscomp.global;g=g.split(".");for(m=0;m<g.length-1;m++){var h=g[m];h in f||(f[h]={});f=f[h]}g=g[g.length-1];m=f[g];k=k(m);k!=m&&null!=k&&$jscomp.defineProperty(f,g,{configurable:!0,writable:!0,value:k})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(g){function k(){this.batch_=null}function f(e){return e instanceof h?e:new h(function(l,f){l(e)})}if(g&&!$jscomp.FORCE_POLYFILL_PROMISE)return g;k.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(e)};var m=$jscomp.global.setTimeout;k.prototype.asyncExecuteFunction=function(e){m(e,0)};k.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=
this.batch_;this.batch_=[];for(var l=0;l<e.length;++l){var f=e[l];e[l]=null;try{f()}catch(t){this.asyncThrow_(t)}}}this.batch_=null};k.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var h=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var l=this.createResolveAndReject_();try{e(l.resolve,l.reject)}catch(p){l.reject(p)}};h.prototype.createResolveAndReject_=function(){function e(e){return function(h){f||(f=!0,e.call(l,h))}}var l=this,f=!1;
return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};h.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof h)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var f=null!=e;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};h.prototype.resolveToNonPromiseObj_=function(e){var f=void 0;try{f=e.then}catch(p){this.reject_(p);return}"function"==typeof f?
this.settleSameAsThenable_(f,e):this.fulfill_(e)};h.prototype.reject_=function(e){this.settle_(2,e)};h.prototype.fulfill_=function(e){this.settle_(1,e)};h.prototype.settle_=function(e,f){if(0!=this.state_)throw Error("Cannot settle("+e+", "+f+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=f;this.executeOnSettledCallbacks_()};h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)v.asyncExecute(this.onSettledCallbacks_[e]);
this.onSettledCallbacks_=null}};var v=new k;h.prototype.settleSameAsPromise_=function(e){var f=this.createResolveAndReject_();e.callWhenSettled_(f.resolve,f.reject)};h.prototype.settleSameAsThenable_=function(e,f){var l=this.createResolveAndReject_();try{e.call(f,l.resolve,l.reject)}catch(t){l.reject(t)}};h.prototype.then=function(e,f){function l(e,f){return"function"==typeof e?function(f){try{g(e(f))}catch(A){k(A)}}:f}var g,k,m=new h(function(e,f){g=e;k=f});this.callWhenSettled_(l(e,g),l(f,k));return m};
h.prototype.catch=function(e){return this.then(void 0,e)};h.prototype.callWhenSettled_=function(e,f){function l(){switch(g.state_){case 1:e(g.result_);break;case 2:f(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?v.asyncExecute(l):this.onSettledCallbacks_.push(l)};h.resolve=f;h.reject=function(e){return new h(function(f,g){g(e)})};h.race=function(e){return new h(function(g,h){for(var l=$jscomp.makeIterator(e),k=l.next();!k.done;k=l.next())f(k.value).callWhenSettled_(g,
h)})};h.all=function(e){var g=$jscomp.makeIterator(e),k=g.next();return k.done?f([]):new h(function(e,l){function h(f){return function(g){m[f]=g;p--;0==p&&e(m)}}var m=[],p=0;do m.push(void 0),p++,f(k.value).callWhenSettled_(h(m.length-1),l),k=g.next();while(!k.done)})};return h},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{EQcr:function(g,k,f){},Yap0:function(g,k,f){f.d(k,"a",function(){return h});f.d(k,"b",function(){return v});var m=f("oYeq"),h=function(){function e(){}e.NAME_EFFECTLAYER="EffectLayer";e.NAME_LAYER="Layer";e.NAME_LENSFLARESYSTEM="LensFlareSystem";e.NAME_BOUNDINGBOXRENDERER="BoundingBoxRenderer";e.NAME_PARTICLESYSTEM="ParticleSystem";e.NAME_GAMEPAD="Gamepad";e.NAME_SIMPLIFICATIONQUEUE="SimplificationQueue";e.NAME_GEOMETRYBUFFERRENDERER="GeometryBufferRenderer";
e.NAME_PREPASSRENDERER="PrePassRenderer";e.NAME_DEPTHRENDERER="DepthRenderer";e.NAME_POSTPROCESSRENDERPIPELINEMANAGER="PostProcessRenderPipelineManager";e.NAME_SPRITE="Sprite";e.NAME_SUBSURFACE="SubSurface";e.NAME_OUTLINERENDERER="Outline";e.NAME_PROCEDURALTEXTURE="ProceduralTexture";e.NAME_SHADOWGENERATOR="ShadowGenerator";e.NAME_OCTREE="Octree";e.NAME_PHYSICSENGINE="PhysicsEngine";e.NAME_AUDIO="Audio";e.STEP_ISREADYFORMESH_EFFECTLAYER=0;e.STEP_BEFOREEVALUATEACTIVEMESH_BOUNDINGBOXRENDERER=0;e.STEP_EVALUATESUBMESH_BOUNDINGBOXRENDERER=
0;e.STEP_PREACTIVEMESH_BOUNDINGBOXRENDERER=0;e.STEP_CAMERADRAWRENDERTARGET_EFFECTLAYER=1;e.STEP_BEFORECAMERADRAW_EFFECTLAYER=0;e.STEP_BEFORECAMERADRAW_LAYER=1;e.STEP_BEFORECAMERADRAW_PREPASS=2;e.STEP_BEFORERENDERTARGETDRAW_LAYER=0;e.STEP_BEFORERENDERINGMESH_PREPASS=0;e.STEP_BEFORERENDERINGMESH_OUTLINE=1;e.STEP_AFTERRENDERINGMESH_PREPASS=0;e.STEP_AFTERRENDERINGMESH_OUTLINE=1;e.STEP_AFTERRENDERINGGROUPDRAW_EFFECTLAYER_DRAW=0;e.STEP_AFTERRENDERINGGROUPDRAW_BOUNDINGBOXRENDERER=1;e.STEP_BEFORECAMERAUPDATE_SIMPLIFICATIONQUEUE=
0;e.STEP_BEFORECAMERAUPDATE_GAMEPAD=1;e.STEP_BEFORECLEAR_PROCEDURALTEXTURE=0;e.STEP_AFTERRENDERTARGETDRAW_LAYER=0;e.STEP_AFTERCAMERADRAW_EFFECTLAYER=0;e.STEP_AFTERCAMERADRAW_LENSFLARESYSTEM=1;e.STEP_AFTERCAMERADRAW_EFFECTLAYER_DRAW=2;e.STEP_AFTERCAMERADRAW_LAYER=3;e.STEP_AFTERCAMERADRAW_PREPASS=4;e.STEP_AFTERRENDER_AUDIO=0;e.STEP_GATHERRENDERTARGETS_DEPTHRENDERER=0;e.STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER=1;e.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR=2;e.STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER=
3;e.STEP_GATHERACTIVECAMERARENDERTARGETS_DEPTHRENDERER=0;e.STEP_BEFORECLEARSTAGE_PREPASS=0;e.STEP_POINTERMOVE_SPRITE=0;e.STEP_POINTERDOWN_SPRITE=0;e.STEP_POINTERUP_SPRITE=0;return e}(),v=function(e){function f(f){return e.apply(this,f)||this}Object(m.d)(f,e);f.Create=function(){return Object.create(f.prototype)};f.prototype.registerStep=function(e,f,g){for(var h=0,k;h<this.length&&!(k=this[h].index,e<k);h++);this.splice(h,0,{index:e,component:f,action:g.bind(f)})};f.prototype.clear=function(){this.length=
0};return f}(Array)},tVVT:function(g,k,f){f.d(k,"a",function(){return K});var m=f("oYeq"),h=f("YKqZ"),v=f("J2vy"),e=f("ps+7"),l=f("Bfey"),p=f("ywfU"),t=f("cSa5"),u=f("/SR9"),J=f("qVgn"),D=f("ikaq"),w=f("CAkI");g=f("KbzI");var E=f("stmW"),A=f("Qmvu"),L=f("llUH"),F=f("Q86s"),G=f("IIVm"),H=f("WnUc"),M=f("F24J"),n=f("Yap0"),N=f("h87I"),O=f("uyO6"),x=f("e2Mr"),q=f("n5HA"),r=f("XdJO"),y=f("waC4"),B=f("Xeau"),I=f("DwXJ"),P=f("Hy5V"),C=f("TFEU"),K=function(f){function d(a,b){var c=f.call(this)||this;c._inputManager=
new r.a(c);c.cameraToUseForPointers=null;c._isScene=!0;c._blockEntityCollection=!1;c.autoClear=!0;c.autoClearDepthAndStencil=!0;c.clearColor=new B.b(.2,.2,.3,1);c.ambientColor=new B.a(0,0,0);c._environmentIntensity=1;c._forceWireframe=!1;c._skipFrustumClipping=!1;c._forcePointsCloud=!1;c.animationsEnabled=!0;c._animationPropertiesOverride=null;c.useConstantAnimationDeltaTime=!1;c.constantlyUpdateMeshUnderPointer=!1;c.hoverCursor="pointer";c.defaultCursor="";c.doNotHandleCursors=!1;c.preventDefaultOnPointerDown=
!0;c.preventDefaultOnPointerUp=!0;c.metadata=null;c.reservedDataStore=null;c.disableOfflineSupportExceptionRules=[];c.onDisposeObservable=new e.a;c._onDisposeObserver=null;c.onBeforeRenderObservable=new e.a;c._onBeforeRenderObserver=null;c.onAfterRenderObservable=new e.a;c.onAfterRenderCameraObservable=new e.a;c._onAfterRenderObserver=null;c.onBeforeAnimationsObservable=new e.a;c.onAfterAnimationsObservable=new e.a;c.onBeforeDrawPhaseObservable=new e.a;c.onAfterDrawPhaseObservable=new e.a;c.onReadyObservable=
new e.a;c.onBeforeCameraRenderObservable=new e.a;c._onBeforeCameraRenderObserver=null;c.onAfterCameraRenderObservable=new e.a;c._onAfterCameraRenderObserver=null;c.onBeforeActiveMeshesEvaluationObservable=new e.a;c.onAfterActiveMeshesEvaluationObservable=new e.a;c.onBeforeParticlesRenderingObservable=new e.a;c.onAfterParticlesRenderingObservable=new e.a;c.onDataLoadedObservable=new e.a;c.onNewCameraAddedObservable=new e.a;c.onCameraRemovedObservable=new e.a;c.onNewLightAddedObservable=new e.a;c.onLightRemovedObservable=
new e.a;c.onNewGeometryAddedObservable=new e.a;c.onGeometryRemovedObservable=new e.a;c.onNewTransformNodeAddedObservable=new e.a;c.onTransformNodeRemovedObservable=new e.a;c.onNewMeshAddedObservable=new e.a;c.onMeshRemovedObservable=new e.a;c.onNewSkeletonAddedObservable=new e.a;c.onSkeletonRemovedObservable=new e.a;c.onNewMaterialAddedObservable=new e.a;c.onNewMultiMaterialAddedObservable=new e.a;c.onMaterialRemovedObservable=new e.a;c.onMultiMaterialRemovedObservable=new e.a;c.onNewTextureAddedObservable=
new e.a;c.onTextureRemovedObservable=new e.a;c.onBeforeRenderTargetsRenderObservable=new e.a;c.onAfterRenderTargetsRenderObservable=new e.a;c.onBeforeStepObservable=new e.a;c.onAfterStepObservable=new e.a;c.onActiveCameraChanged=new e.a;c.onBeforeRenderingGroupObservable=new e.a;c.onAfterRenderingGroupObservable=new e.a;c.onMeshImportedObservable=new e.a;c.onAnimationFileImportedObservable=new e.a;c._registeredForLateAnimationBindings=new l.b(256);c.onPrePointerObservable=new e.a;c.onPointerObservable=
new e.a;c.onPreKeyboardObservable=new e.a;c.onKeyboardObservable=new e.a;c._useRightHandedSystem=!1;c._timeAccumulator=0;c._currentStepId=0;c._currentInternalStep=0;c._fogEnabled=!0;c._fogMode=d.FOGMODE_NONE;c.fogColor=new B.a(.2,.2,.3);c.fogDensity=.1;c.fogStart=0;c.fogEnd=1E3;c.prePass=!1;c._shadowsEnabled=!0;c._lightsEnabled=!0;c.activeCameras=[];c._texturesEnabled=!0;c.physicsEnabled=!0;c.particlesEnabled=!0;c.spritesEnabled=!0;c._skeletonsEnabled=!0;c.lensFlaresEnabled=!0;c.collisionsEnabled=
!0;c.gravity=new u.e(0,-9.807,0);c.postProcessesEnabled=!0;c.renderTargetsEnabled=!0;c.dumpNextRenderTargets=!1;c.customRenderTargets=[];c.importedMeshesFiles=[];c.probesEnabled=!0;c._meshesForIntersections=new l.b(256);c.proceduralTexturesEnabled=!0;c._totalVertices=new y.a;c._activeIndices=new y.a;c._activeParticles=new y.a;c._activeBones=new y.a;c._animationTime=0;c.animationTimeScale=1;c._renderId=0;c._frameId=0;c._executeWhenReadyTimeoutId=-1;c._intermediateRendering=!1;c._viewUpdateFlag=-1;
c._projectionUpdateFlag=-1;c._toBeDisposed=Array(256);c._activeRequests=[];c._pendingData=[];c._isDisposed=!1;c.dispatchAllSubMeshesOfActiveMeshes=!1;c._activeMeshes=new l.a(256);c._processedMaterials=new l.a(256);c._renderTargets=new l.b(256);c._activeParticleSystems=new l.a(256);c._activeSkeletons=new l.b(32);c._softwareSkinnedMeshes=new l.b(32);c._activeAnimatables=[];c._transformMatrix=u.a.Zero();c.requireLightSorting=!1;c._components=[];c._serializableComponents=[];c._transientComponents=[];
c._beforeCameraUpdateStage=n.b.Create();c._beforeClearStage=n.b.Create();c._gatherRenderTargetsStage=n.b.Create();c._gatherActiveCameraRenderTargetsStage=n.b.Create();c._isReadyForMeshStage=n.b.Create();c._beforeEvaluateActiveMeshStage=n.b.Create();c._evaluateSubMeshStage=n.b.Create();c._preActiveMeshStage=n.b.Create();c._cameraDrawRenderTargetStage=n.b.Create();c._beforeCameraDrawStage=n.b.Create();c._beforeRenderTargetDrawStage=n.b.Create();c._beforeRenderingGroupDrawStage=n.b.Create();c._beforeRenderingMeshStage=
n.b.Create();c._afterRenderingMeshStage=n.b.Create();c._afterRenderingGroupDrawStage=n.b.Create();c._afterCameraDrawStage=n.b.Create();c._afterRenderTargetDrawStage=n.b.Create();c._afterRenderStage=n.b.Create();c._pointerMoveStage=n.b.Create();c._pointerDownStage=n.b.Create();c._pointerUpStage=n.b.Create();c.geometriesByUniqueId=null;c._defaultMeshCandidates={data:[],length:0};c._defaultSubMeshCandidates={data:[],length:0};c._preventFreeActiveMeshesAndRenderingGroups=!1;c._activeMeshesFrozen=!1;c._skipEvaluateActiveMeshesCompletely=
!1;c._allowPostProcessClearColor=!0;c.getDeterministicFrameTime=function(){return c._engine.getTimeStep()};c._blockMaterialDirtyMechanism=!1;var z=Object(m.a)({useGeometryUniqueIdsMap:!0,useMaterialMeshMap:!0,useClonedMeshMap:!0,virtual:!1},b);c._engine=a||x.a.LastCreatedEngine;z.virtual||(x.a._LastCreatedScene=c,c._engine.scenes.push(c));c._uid=null;c._renderingManager=new M.a(c);H.a&&(c.postProcessManager=new H.a(c));N.a.IsWindowObjectExist()&&c.attachControl();c._createUbo();E.a&&(c._imageProcessingConfiguration=
new E.a);c.setDefaultCandidateProviders();z.useGeometryUniqueIdsMap&&(c.geometriesByUniqueId={});c.useMaterialMeshMap=z.useMaterialMeshMap;c.useClonedMeshMap=z.useClonedMeshMap;b&&b.virtual||c._engine.onNewSceneAddedObservable.notifyObservers(c);return c}Object(m.d)(d,f);d.DefaultMaterialFactory=function(a){throw q.a.WarnImport("StandardMaterial");};d.CollisionCoordinatorFactory=function(){throw q.a.WarnImport("DefaultCollisionCoordinator");};Object.defineProperty(d.prototype,"environmentTexture",
{get:function(){return this._environmentTexture},set:function(a){this._environmentTexture!==a&&(this._environmentTexture=a,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"environmentIntensity",{get:function(){return this._environmentIntensity},set:function(a){this._environmentIntensity!==a&&(this._environmentIntensity=a,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"imageProcessingConfiguration",
{get:function(){return this._imageProcessingConfiguration},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"forceWireframe",{get:function(){return this._forceWireframe},set:function(a){this._forceWireframe!==a&&(this._forceWireframe=a,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"skipFrustumClipping",{get:function(){return this._skipFrustumClipping},set:function(a){this._skipFrustumClipping!==a&&(this._skipFrustumClipping=a)},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"forcePointsCloud",{get:function(){return this._forcePointsCloud},set:function(a){this._forcePointsCloud!==a&&(this._forcePointsCloud=a,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride},set:function(a){this._animationPropertiesOverride=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"onDispose",{set:function(a){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver);this._onDisposeObserver=this.onDisposeObservable.add(a)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"beforeRender",{set:function(a){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver);a&&(this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(a))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"afterRender",{set:function(a){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver);a&&(this._onAfterRenderObserver=this.onAfterRenderObservable.add(a))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"beforeCameraRender",{set:function(a){this._onBeforeCameraRenderObserver&&this.onBeforeCameraRenderObservable.remove(this._onBeforeCameraRenderObserver);this._onBeforeCameraRenderObserver=this.onBeforeCameraRenderObservable.add(a)},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"afterCameraRender",{set:function(a){this._onAfterCameraRenderObserver&&this.onAfterCameraRenderObservable.remove(this._onAfterCameraRenderObserver);this._onAfterCameraRenderObserver=this.onAfterCameraRenderObservable.add(a)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"unTranslatedPointer",{get:function(){return this._inputManager.unTranslatedPointer},enumerable:!1,configurable:!0});Object.defineProperty(d,"DragMovementThreshold",
{get:function(){return r.a.DragMovementThreshold},set:function(a){r.a.DragMovementThreshold=a},enumerable:!1,configurable:!0});Object.defineProperty(d,"LongPressDelay",{get:function(){return r.a.LongPressDelay},set:function(a){r.a.LongPressDelay=a},enumerable:!1,configurable:!0});Object.defineProperty(d,"DoubleClickDelay",{get:function(){return r.a.DoubleClickDelay},set:function(a){r.a.DoubleClickDelay=a},enumerable:!1,configurable:!0});Object.defineProperty(d,"ExclusiveDoubleClickMode",{get:function(){return r.a.ExclusiveDoubleClickMode},
set:function(a){r.a.ExclusiveDoubleClickMode=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"useRightHandedSystem",{get:function(){return this._useRightHandedSystem},set:function(a){this._useRightHandedSystem!==a&&(this._useRightHandedSystem=a,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0});d.prototype.setStepId=function(a){this._currentStepId=a};d.prototype.getStepId=function(){return this._currentStepId};d.prototype.getInternalStep=function(){return this._currentInternalStep};
Object.defineProperty(d.prototype,"fogEnabled",{get:function(){return this._fogEnabled},set:function(a){this._fogEnabled!==a&&(this._fogEnabled=a,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"fogMode",{get:function(){return this._fogMode},set:function(a){this._fogMode!==a&&(this._fogMode=a,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"shadowsEnabled",{get:function(){return this._shadowsEnabled},
set:function(a){this._shadowsEnabled!==a&&(this._shadowsEnabled=a,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"lightsEnabled",{get:function(){return this._lightsEnabled},set:function(a){this._lightsEnabled!==a&&(this._lightsEnabled=a,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"activeCamera",{get:function(){return this._activeCamera},set:function(a){a!==this._activeCamera&&(this._activeCamera=
a,this.onActiveCameraChanged.notifyObservers(this))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"defaultMaterial",{get:function(){this._defaultMaterial||(this._defaultMaterial=d.DefaultMaterialFactory(this));return this._defaultMaterial},set:function(a){this._defaultMaterial=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"texturesEnabled",{get:function(){return this._texturesEnabled},set:function(a){this._texturesEnabled!==a&&(this._texturesEnabled=a,this.markAllMaterialsAsDirty(1))},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"skeletonsEnabled",{get:function(){return this._skeletonsEnabled},set:function(a){this._skeletonsEnabled!==a&&(this._skeletonsEnabled=a,this.markAllMaterialsAsDirty(8))},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"collisionCoordinator",{get:function(){this._collisionCoordinator||(this._collisionCoordinator=d.CollisionCoordinatorFactory(),this._collisionCoordinator.init(this));return this._collisionCoordinator},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"frustumPlanes",{get:function(){return this._frustumPlanes},enumerable:!1,configurable:!0});d.prototype._registerTransientComponents=function(){if(0<this._transientComponents.length){for(var a=0,b=this._transientComponents;a<b.length;a++)b[a].register();this._transientComponents=[]}};d.prototype._addComponent=function(a){this._components.push(a);this._transientComponents.push(a);a.addFromContainer&&a.serialize&&this._serializableComponents.push(a)};
d.prototype._getComponent=function(a){for(var b=0,c=this._components;b<c.length;b++){var d=c[b];if(d.name===a)return d}return null};d.prototype.getClassName=function(){return"Scene"};d.prototype._getDefaultMeshCandidates=function(){this._defaultMeshCandidates.data=this.meshes;this._defaultMeshCandidates.length=this.meshes.length;return this._defaultMeshCandidates};d.prototype._getDefaultSubMeshCandidates=function(a){this._defaultSubMeshCandidates.data=a.subMeshes;this._defaultSubMeshCandidates.length=
a.subMeshes.length;return this._defaultSubMeshCandidates};d.prototype.setDefaultCandidateProviders=function(){this.getActiveMeshCandidates=this._getDefaultMeshCandidates.bind(this);this.getActiveSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this);this.getIntersectingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this);this.getCollidingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this)};Object.defineProperty(d.prototype,"meshUnderPointer",{get:function(){return this._inputManager.meshUnderPointer},
enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"pointerX",{get:function(){return this._inputManager.pointerX},set:function(a){this._inputManager.pointerX=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"pointerY",{get:function(){return this._inputManager.pointerY},set:function(a){this._inputManager.pointerY=a},enumerable:!1,configurable:!0});d.prototype.getCachedMaterial=function(){return this._cachedMaterial};d.prototype.getCachedEffect=function(){return this._cachedEffect};
d.prototype.getCachedVisibility=function(){return this._cachedVisibility};d.prototype.isCachedMaterialInvalid=function(a,b,c){void 0===c&&(c=1);return this._cachedEffect!==b||this._cachedMaterial!==a||this._cachedVisibility!==c};d.prototype.getEngine=function(){return this._engine};d.prototype.getTotalVertices=function(){return this._totalVertices.current};Object.defineProperty(d.prototype,"totalVerticesPerfCounter",{get:function(){return this._totalVertices},enumerable:!1,configurable:!0});d.prototype.getActiveIndices=
function(){return this._activeIndices.current};Object.defineProperty(d.prototype,"totalActiveIndicesPerfCounter",{get:function(){return this._activeIndices},enumerable:!1,configurable:!0});d.prototype.getActiveParticles=function(){return this._activeParticles.current};Object.defineProperty(d.prototype,"activeParticlesPerfCounter",{get:function(){return this._activeParticles},enumerable:!1,configurable:!0});d.prototype.getActiveBones=function(){return this._activeBones.current};Object.defineProperty(d.prototype,
"activeBonesPerfCounter",{get:function(){return this._activeBones},enumerable:!1,configurable:!0});d.prototype.getActiveMeshes=function(){return this._activeMeshes};d.prototype.getAnimationRatio=function(){return void 0!==this._animationRatio?this._animationRatio:1};d.prototype.getRenderId=function(){return this._renderId};d.prototype.getFrameId=function(){return this._frameId};d.prototype.incrementRenderId=function(){this._renderId++};d.prototype._createUbo=function(){this._sceneUbo=new A.a(this._engine,
void 0,!0);this._sceneUbo.addUniform("viewProjection",16);this._sceneUbo.addUniform("view",16)};d.prototype.simulatePointerMove=function(a,b){this._inputManager.simulatePointerMove(a,b);return this};d.prototype.simulatePointerDown=function(a,b){this._inputManager.simulatePointerDown(a,b);return this};d.prototype.simulatePointerUp=function(a,b,c){this._inputManager.simulatePointerUp(a,b,c);return this};d.prototype.isPointerCaptured=function(a){void 0===a&&(a=0);return this._inputManager.isPointerCaptured(a)};
d.prototype.attachControl=function(a,b,c){void 0===a&&(a=!0);void 0===b&&(b=!0);void 0===c&&(c=!0);this._inputManager.attachControl(a,b,c)};d.prototype.detachControl=function(){this._inputManager.detachControl()};d.prototype.isReady=function(){if(this._isDisposed)return!1;var a,b=this.getEngine();if(!b.areAllEffectsReady()||0<this._pendingData.length)return!1;for(a=0;a<this.meshes.length;a++){var c=this.meshes[a];if(c.isEnabled()&&c.subMeshes&&0!==c.subMeshes.length){if(!c.isReady(!0))return!1;for(var d=
c.hasThinInstances||"InstancedMesh"===c.getClassName()||"InstancedLinesMesh"===c.getClassName()||b.getCaps().instancedArrays&&0<c.instances.length,e=0,f=this._isReadyForMeshStage;e<f.length;e++)if(!f[e].action(c,d))return!1}}for(a=0;a<this.geometries.length;a++)if(2===this.geometries[a].delayLoadState)return!1;if(this.activeCameras&&0<this.activeCameras.length)for(a=0,b=this.activeCameras;a<b.length;a++){if(!b[a].isReady(!0))return!1}else if(this.activeCamera&&!this.activeCamera.isReady(!0))return!1;
a=0;for(b=this.particleSystems;a<b.length;a++)if(!b[a].isReady())return!1;return!0};d.prototype.resetCachedMaterial=function(){this._cachedVisibility=this._cachedEffect=this._cachedMaterial=null};d.prototype.registerBeforeRender=function(a){this.onBeforeRenderObservable.add(a)};d.prototype.unregisterBeforeRender=function(a){this.onBeforeRenderObservable.removeCallback(a)};d.prototype.registerAfterRender=function(a){this.onAfterRenderObservable.add(a)};d.prototype.unregisterAfterRender=function(a){this.onAfterRenderObservable.removeCallback(a)};
d.prototype._executeOnceBeforeRender=function(a){var b=this,c=function(){a();setTimeout(function(){b.unregisterBeforeRender(c)})};this.registerBeforeRender(c)};d.prototype.executeOnceBeforeRender=function(a,b){var c=this;void 0!==b?setTimeout(function(){c._executeOnceBeforeRender(a)},b):this._executeOnceBeforeRender(a)};d.prototype._addPendingData=function(a){this._pendingData.push(a)};d.prototype._removePendingData=function(a){var b=this.isLoading;a=this._pendingData.indexOf(a);-1!==a&&this._pendingData.splice(a,
1);b&&!this.isLoading&&this.onDataLoadedObservable.notifyObservers(this)};d.prototype.getWaitingItemsCount=function(){return this._pendingData.length};Object.defineProperty(d.prototype,"isLoading",{get:function(){return 0<this._pendingData.length},enumerable:!1,configurable:!0});d.prototype.executeWhenReady=function(a){var b=this;this.onReadyObservable.add(a);-1===this._executeWhenReadyTimeoutId&&(this._executeWhenReadyTimeoutId=setTimeout(function(){b._checkIsReady()},150))};d.prototype.whenReadyAsync=
function(){var a=this;return new Promise(function(b){a.executeWhenReady(function(){b()})})};d.prototype._checkIsReady=function(){var a=this;this._registerTransientComponents();this.isReady()?(this.onReadyObservable.notifyObservers(this),this.onReadyObservable.clear(),this._executeWhenReadyTimeoutId=-1):this._isDisposed?(this.onReadyObservable.clear(),this._executeWhenReadyTimeoutId=-1):this._executeWhenReadyTimeoutId=setTimeout(function(){a._checkIsReady()},150)};Object.defineProperty(d.prototype,
"animatables",{get:function(){return this._activeAnimatables},enumerable:!1,configurable:!0});d.prototype.resetLastAnimationTimeFrame=function(){this._animationTimeLast=v.a.Now};d.prototype.getViewMatrix=function(){return this._viewMatrix};d.prototype.getProjectionMatrix=function(){return this._projectionMatrix};d.prototype.getTransformMatrix=function(){return this._transformMatrix};d.prototype.setTransformMatrix=function(a,b,c,d){if(this._viewUpdateFlag!==a.updateFlag||this._projectionUpdateFlag!==
b.updateFlag)this._viewUpdateFlag=a.updateFlag,this._projectionUpdateFlag=b.updateFlag,this._viewMatrix=a,this._projectionMatrix=b,this._viewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix),this._frustumPlanes?I.a.GetPlanesToRef(this._transformMatrix,this._frustumPlanes):this._frustumPlanes=I.a.GetPlanes(this._transformMatrix),this._multiviewSceneUbo&&this._multiviewSceneUbo.useUbo?this._updateMultiviewUbo(c,d):this._sceneUbo.useUbo&&(this._sceneUbo.updateMatrix("viewProjection",
this._transformMatrix),this._sceneUbo.updateMatrix("view",this._viewMatrix),this._sceneUbo.update())};d.prototype.getSceneUniformBuffer=function(){return this._multiviewSceneUbo?this._multiviewSceneUbo:this._sceneUbo};d.prototype.getUniqueId=function(){return P.a.UniqueId};d.prototype.addMesh=function(a,b){var c=this;void 0===b&&(b=!1);this._blockEntityCollection||(this.meshes.push(a),a._resyncLightSources(),a.parent||a._addToSceneRootNodes(),this.onNewMeshAddedObservable.notifyObservers(a),b&&a.getChildMeshes().forEach(function(a){c.addMesh(a)}))};
d.prototype.removeMesh=function(a,b){var c=this;void 0===b&&(b=!1);var d=this.meshes.indexOf(a);-1!==d&&(this.meshes[d]=this.meshes[this.meshes.length-1],this.meshes.pop(),a.parent||a._removeFromSceneRootNodes());this.onMeshRemovedObservable.notifyObservers(a);b&&a.getChildMeshes().forEach(function(a){c.removeMesh(a)});return d};d.prototype.addTransformNode=function(a){this._blockEntityCollection||(a._indexInSceneTransformNodesArray=this.transformNodes.length,this.transformNodes.push(a),a.parent||
a._addToSceneRootNodes(),this.onNewTransformNodeAddedObservable.notifyObservers(a))};d.prototype.removeTransformNode=function(a){var b=a._indexInSceneTransformNodesArray;if(-1!==b){if(b!==this.transformNodes.length-1){var c=this.transformNodes[this.transformNodes.length-1];this.transformNodes[b]=c;c._indexInSceneTransformNodesArray=b}a._indexInSceneTransformNodesArray=-1;this.transformNodes.pop();a.parent||a._removeFromSceneRootNodes()}this.onTransformNodeRemovedObservable.notifyObservers(a);return b};
d.prototype.removeSkeleton=function(a){var b=this.skeletons.indexOf(a);-1!==b&&(this.skeletons.splice(b,1),this.onSkeletonRemovedObservable.notifyObservers(a));return b};d.prototype.removeMorphTargetManager=function(a){a=this.morphTargetManagers.indexOf(a);-1!==a&&this.morphTargetManagers.splice(a,1);return a};d.prototype.removeLight=function(a){var b=this.lights.indexOf(a);if(-1!==b){for(var c=0,d=this.meshes;c<d.length;c++)d[c]._removeLightSource(a,!1);this.lights.splice(b,1);this.sortLightsByPriority();
a.parent||a._removeFromSceneRootNodes()}this.onLightRemovedObservable.notifyObservers(a);return b};d.prototype.removeCamera=function(a){var b=this.cameras.indexOf(a);-1!==b&&(this.cameras.splice(b,1),a.parent||a._removeFromSceneRootNodes());if(this.activeCameras){var c=this.activeCameras.indexOf(a);-1!==c&&this.activeCameras.splice(c,1)}this.activeCamera===a&&(this.activeCamera=0<this.cameras.length?this.cameras[0]:null);this.onCameraRemovedObservable.notifyObservers(a);return b};d.prototype.removeParticleSystem=
function(a){a=this.particleSystems.indexOf(a);-1!==a&&this.particleSystems.splice(a,1);return a};d.prototype.removeAnimation=function(a){a=this.animations.indexOf(a);-1!==a&&this.animations.splice(a,1);return a};d.prototype.stopAnimation=function(a,b,c){};d.prototype.removeAnimationGroup=function(a){a=this.animationGroups.indexOf(a);-1!==a&&this.animationGroups.splice(a,1);return a};d.prototype.removeMultiMaterial=function(a){var b=this.multiMaterials.indexOf(a);-1!==b&&this.multiMaterials.splice(b,
1);this.onMultiMaterialRemovedObservable.notifyObservers(a);return b};d.prototype.removeMaterial=function(a){var b=a._indexInSceneMaterialArray;if(-1!==b&&b<this.materials.length){if(b!==this.materials.length-1){var c=this.materials[this.materials.length-1];this.materials[b]=c;c._indexInSceneMaterialArray=b}a._indexInSceneMaterialArray=-1;this.materials.pop()}this.onMaterialRemovedObservable.notifyObservers(a);return b};d.prototype.removeActionManager=function(a){a=this.actionManagers.indexOf(a);
-1!==a&&this.actionManagers.splice(a,1);return a};d.prototype.removeTexture=function(a){var b=this.textures.indexOf(a);-1!==b&&this.textures.splice(b,1);this.onTextureRemovedObservable.notifyObservers(a);return b};d.prototype.addLight=function(a){if(!this._blockEntityCollection){this.lights.push(a);this.sortLightsByPriority();a.parent||a._addToSceneRootNodes();for(var b=0,c=this.meshes;b<c.length;b++){var d=c[b];-1===d.lightSources.indexOf(a)&&(d.lightSources.push(a),d._resyncLightSources())}this.onNewLightAddedObservable.notifyObservers(a)}};
d.prototype.sortLightsByPriority=function(){this.requireLightSorting&&this.lights.sort(L.a.CompareLightsPriority)};d.prototype.addCamera=function(a){this._blockEntityCollection||(this.cameras.push(a),this.onNewCameraAddedObservable.notifyObservers(a),a.parent||a._addToSceneRootNodes())};d.prototype.addSkeleton=function(a){this._blockEntityCollection||(this.skeletons.push(a),this.onNewSkeletonAddedObservable.notifyObservers(a))};d.prototype.addParticleSystem=function(a){this._blockEntityCollection||
this.particleSystems.push(a)};d.prototype.addAnimation=function(a){this._blockEntityCollection||this.animations.push(a)};d.prototype.addAnimationGroup=function(a){this._blockEntityCollection||this.animationGroups.push(a)};d.prototype.addMultiMaterial=function(a){this._blockEntityCollection||(this.multiMaterials.push(a),this.onNewMultiMaterialAddedObservable.notifyObservers(a))};d.prototype.addMaterial=function(a){this._blockEntityCollection||(a._indexInSceneMaterialArray=this.materials.length,this.materials.push(a),
this.onNewMaterialAddedObservable.notifyObservers(a))};d.prototype.addMorphTargetManager=function(a){this._blockEntityCollection||this.morphTargetManagers.push(a)};d.prototype.addGeometry=function(a){this._blockEntityCollection||(this.geometriesByUniqueId&&(this.geometriesByUniqueId[a.uniqueId]=this.geometries.length),this.geometries.push(a))};d.prototype.addActionManager=function(a){this.actionManagers.push(a)};d.prototype.addTexture=function(a){this._blockEntityCollection||(this.textures.push(a),
this.onNewTextureAddedObservable.notifyObservers(a))};d.prototype.switchActiveCamera=function(a,b){void 0===b&&(b=!0);this._engine.getInputElement()&&(this.activeCamera&&this.activeCamera.detachControl(),this.activeCamera=a,b&&a.attachControl())};d.prototype.setActiveCameraByID=function(a){return(a=this.getCameraByID(a))?this.activeCamera=a:null};d.prototype.setActiveCameraByName=function(a){return(a=this.getCameraByName(a))?this.activeCamera=a:null};d.prototype.getAnimationGroupByName=function(a){for(var b=
0;b<this.animationGroups.length;b++)if(this.animationGroups[b].name===a)return this.animationGroups[b];return null};d.prototype.getMaterialByUniqueID=function(a){for(var b=0;b<this.materials.length;b++)if(this.materials[b].uniqueId===a)return this.materials[b];return null};d.prototype.getMaterialByID=function(a){for(var b=0;b<this.materials.length;b++)if(this.materials[b].id===a)return this.materials[b];return null};d.prototype.getLastMaterialByID=function(a){for(var b=this.materials.length-1;0<=
b;b--)if(this.materials[b].id===a)return this.materials[b];return null};d.prototype.getMaterialByName=function(a){for(var b=0;b<this.materials.length;b++)if(this.materials[b].name===a)return this.materials[b];return null};d.prototype.getTextureByUniqueID=function(a){for(var b=0;b<this.textures.length;b++)if(this.textures[b].uniqueId===a)return this.textures[b];return null};d.prototype.getCameraByID=function(a){for(var b=0;b<this.cameras.length;b++)if(this.cameras[b].id===a)return this.cameras[b];
return null};d.prototype.getCameraByUniqueID=function(a){for(var b=0;b<this.cameras.length;b++)if(this.cameras[b].uniqueId===a)return this.cameras[b];return null};d.prototype.getCameraByName=function(a){for(var b=0;b<this.cameras.length;b++)if(this.cameras[b].name===a)return this.cameras[b];return null};d.prototype.getBoneByID=function(a){for(var b=0;b<this.skeletons.length;b++)for(var c=this.skeletons[b],d=0;d<c.bones.length;d++)if(c.bones[d].id===a)return c.bones[d];return null};d.prototype.getBoneByName=
function(a){for(var b=0;b<this.skeletons.length;b++)for(var c=this.skeletons[b],d=0;d<c.bones.length;d++)if(c.bones[d].name===a)return c.bones[d];return null};d.prototype.getLightByName=function(a){for(var b=0;b<this.lights.length;b++)if(this.lights[b].name===a)return this.lights[b];return null};d.prototype.getLightByID=function(a){for(var b=0;b<this.lights.length;b++)if(this.lights[b].id===a)return this.lights[b];return null};d.prototype.getLightByUniqueID=function(a){for(var b=0;b<this.lights.length;b++)if(this.lights[b].uniqueId===
a)return this.lights[b];return null};d.prototype.getParticleSystemByID=function(a){for(var b=0;b<this.particleSystems.length;b++)if(this.particleSystems[b].id===a)return this.particleSystems[b];return null};d.prototype.getGeometryByID=function(a){for(var b=0;b<this.geometries.length;b++)if(this.geometries[b].id===a)return this.geometries[b];return null};d.prototype._getGeometryByUniqueID=function(a){if(this.geometriesByUniqueId){if(a=this.geometriesByUniqueId[a],void 0!==a)return this.geometries[a]}else for(var b=
0;b<this.geometries.length;b++)if(this.geometries[b].uniqueId===a)return this.geometries[b];return null};d.prototype.pushGeometry=function(a,b){if(!b&&this._getGeometryByUniqueID(a.uniqueId))return!1;this.addGeometry(a);this.onNewGeometryAddedObservable.notifyObservers(a);return!0};d.prototype.removeGeometry=function(a){if(this.geometriesByUniqueId){var b=this.geometriesByUniqueId[a.uniqueId];if(void 0===b)return!1}else if(b=this.geometries.indexOf(a),0>b)return!1;if(b!==this.geometries.length-1){var c=
this.geometries[this.geometries.length-1];c&&(this.geometries[b]=c,this.geometriesByUniqueId&&(this.geometriesByUniqueId[c.uniqueId]=b,this.geometriesByUniqueId[a.uniqueId]=void 0))}this.geometries.pop();this.onGeometryRemovedObservable.notifyObservers(a);return!0};d.prototype.getGeometries=function(){return this.geometries};d.prototype.getMeshByID=function(a){for(var b=0;b<this.meshes.length;b++)if(this.meshes[b].id===a)return this.meshes[b];return null};d.prototype.getMeshesByID=function(a){return this.meshes.filter(function(b){return b.id===
a})};d.prototype.getTransformNodeByID=function(a){for(var b=0;b<this.transformNodes.length;b++)if(this.transformNodes[b].id===a)return this.transformNodes[b];return null};d.prototype.getTransformNodeByUniqueID=function(a){for(var b=0;b<this.transformNodes.length;b++)if(this.transformNodes[b].uniqueId===a)return this.transformNodes[b];return null};d.prototype.getTransformNodesByID=function(a){return this.transformNodes.filter(function(b){return b.id===a})};d.prototype.getMeshByUniqueID=function(a){for(var b=
0;b<this.meshes.length;b++)if(this.meshes[b].uniqueId===a)return this.meshes[b];return null};d.prototype.getLastMeshByID=function(a){for(var b=this.meshes.length-1;0<=b;b--)if(this.meshes[b].id===a)return this.meshes[b];return null};d.prototype.getLastEntryByID=function(a){var b;for(b=this.meshes.length-1;0<=b;b--)if(this.meshes[b].id===a)return this.meshes[b];for(b=this.transformNodes.length-1;0<=b;b--)if(this.transformNodes[b].id===a)return this.transformNodes[b];for(b=this.cameras.length-1;0<=
b;b--)if(this.cameras[b].id===a)return this.cameras[b];for(b=this.lights.length-1;0<=b;b--)if(this.lights[b].id===a)return this.lights[b];return null};d.prototype.getNodeByID=function(a){var b=this.getMeshByID(a);return b||(b=this.getTransformNodeByID(a))||(b=this.getLightByID(a))||(b=this.getCameraByID(a))?b:(a=this.getBoneByID(a))?a:null};d.prototype.getNodeByName=function(a){var b=this.getMeshByName(a);return b||(b=this.getTransformNodeByName(a))||(b=this.getLightByName(a))||(b=this.getCameraByName(a))?
b:(a=this.getBoneByName(a))?a:null};d.prototype.getMeshByName=function(a){for(var b=0;b<this.meshes.length;b++)if(this.meshes[b].name===a)return this.meshes[b];return null};d.prototype.getTransformNodeByName=function(a){for(var b=0;b<this.transformNodes.length;b++)if(this.transformNodes[b].name===a)return this.transformNodes[b];return null};d.prototype.getLastSkeletonByID=function(a){for(var b=this.skeletons.length-1;0<=b;b--)if(this.skeletons[b].id===a)return this.skeletons[b];return null};d.prototype.getSkeletonByUniqueId=
function(a){for(var b=0;b<this.skeletons.length;b++)if(this.skeletons[b].uniqueId===a)return this.skeletons[b];return null};d.prototype.getSkeletonById=function(a){for(var b=0;b<this.skeletons.length;b++)if(this.skeletons[b].id===a)return this.skeletons[b];return null};d.prototype.getSkeletonByName=function(a){for(var b=0;b<this.skeletons.length;b++)if(this.skeletons[b].name===a)return this.skeletons[b];return null};d.prototype.getMorphTargetManagerById=function(a){for(var b=0;b<this.morphTargetManagers.length;b++)if(this.morphTargetManagers[b].uniqueId===
a)return this.morphTargetManagers[b];return null};d.prototype.getMorphTargetById=function(a){for(var b=0;b<this.morphTargetManagers.length;++b)for(var c=this.morphTargetManagers[b],d=0;d<c.numTargets;++d){var e=c.getTarget(d);if(e.id===a)return e}return null};d.prototype.getMorphTargetByName=function(a){for(var b=0;b<this.morphTargetManagers.length;++b)for(var c=this.morphTargetManagers[b],d=0;d<c.numTargets;++d){var e=c.getTarget(d);if(e.name===a)return e}return null};d.prototype.getPostProcessByName=
function(a){for(var b=0;b<this.postProcesses.length;++b){var c=this.postProcesses[b];if(c.name===a)return c}return null};d.prototype.isActiveMesh=function(a){return-1!==this._activeMeshes.indexOf(a)};Object.defineProperty(d.prototype,"uid",{get:function(){this._uid||(this._uid=h.b.RandomId());return this._uid},enumerable:!1,configurable:!0});d.prototype.addExternalData=function(a,b){this._externalData||(this._externalData=new p.a);return this._externalData.add(a,b)};d.prototype.getExternalData=function(a){return this._externalData?
this._externalData.get(a):null};d.prototype.getOrAddExternalDataWithFactory=function(a,b){this._externalData||(this._externalData=new p.a);return this._externalData.getOrAddWithFactory(a,b)};d.prototype.removeExternalData=function(a){return this._externalData.remove(a)};d.prototype._evaluateSubMesh=function(a,b,c){if(c.hasInstances||c.isAnInstance||this.dispatchAllSubMeshesOfActiveMeshes||this._skipFrustumClipping||b.alwaysSelectAsActiveMesh||1===b.subMeshes.length||a.isInFrustum(this._frustumPlanes)){c=
0;for(var d=this._evaluateSubMeshStage;c<d.length;c++)d[c].action(b,a);c=a.getMaterial();null!==c&&void 0!==c&&(c.hasRenderTargetTextures&&null!=c.getRenderTargetTextures&&-1===this._processedMaterials.indexOf(c)&&(this._processedMaterials.push(c),this._renderTargets.concatWithNoDuplicate(c.getRenderTargetTextures())),this._renderingManager.dispatch(a,b,c))}};d.prototype.freeProcessedMaterials=function(){this._processedMaterials.dispose()};Object.defineProperty(d.prototype,"blockfreeActiveMeshesAndRenderingGroups",
{get:function(){return this._preventFreeActiveMeshesAndRenderingGroups},set:function(a){this._preventFreeActiveMeshesAndRenderingGroups!==a&&(a&&(this.freeActiveMeshes(),this.freeRenderingGroups()),this._preventFreeActiveMeshesAndRenderingGroups=a)},enumerable:!1,configurable:!0});d.prototype.freeActiveMeshes=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._activeMeshes.dispose(),this.activeCamera&&this.activeCamera._activeMeshes&&this.activeCamera._activeMeshes.dispose(),this.activeCameras))for(var a=
0;a<this.activeCameras.length;a++){var b=this.activeCameras[a];b&&b._activeMeshes&&b._activeMeshes.dispose()}};d.prototype.freeRenderingGroups=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._renderingManager&&this._renderingManager.freeRenderingGroups(),this.textures))for(var a=0;a<this.textures.length;a++){var b=this.textures[a];b&&b.renderList&&b.freeRenderingGroups()}};d.prototype._isInIntermediateRendering=function(){return this._intermediateRendering};d.prototype.freezeActiveMeshes=
function(a,b,c){var d=this;void 0===a&&(a=!1);this.executeWhenReady(function(){if(d.activeCamera){d._frustumPlanes||d.setTransformMatrix(d.activeCamera.getViewMatrix(),d.activeCamera.getProjectionMatrix());d._evaluateActiveMeshes();d._activeMeshesFrozen=!0;d._skipEvaluateActiveMeshesCompletely=a;for(var e=0;e<d._activeMeshes.length;e++)d._activeMeshes.data[e]._freeze();b&&b()}else c&&c("No active camera found")});return this};d.prototype.unfreezeActiveMeshes=function(){for(var a=0;a<this.meshes.length;a++){var b=
this.meshes[a];b._internalAbstractMeshDataInfo&&(b._internalAbstractMeshDataInfo._isActive=!1)}for(a=0;a<this._activeMeshes.length;a++)this._activeMeshes.data[a]._unFreeze();this._activeMeshesFrozen=!1;return this};d.prototype._evaluateActiveMeshes=function(){if(this._activeMeshesFrozen&&this._activeMeshes.length){if(!this._skipEvaluateActiveMeshesCompletely)for(var a=this._activeMeshes.length,b=0;b<a;b++){var c=this._activeMeshes.data[b];c.computeWorldMatrix()}if(this._activeParticleSystems)for(a=
this._activeParticleSystems.length,b=0;b<a;b++)this._activeParticleSystems.data[b].animate()}else if(this.activeCamera){this.onBeforeActiveMeshesEvaluationObservable.notifyObservers(this);this.activeCamera._activeMeshes.reset();this._activeMeshes.reset();this._renderingManager.reset();this._processedMaterials.reset();this._activeParticleSystems.reset();this._activeSkeletons.reset();this._softwareSkinnedMeshes.reset();b=0;for(c=this._beforeEvaluateActiveMeshStage;b<c.length;b++)a=c[b],a.action();var d=
this.getActiveMeshCandidates(),e=d.length;for(b=0;b<e;b++)if(c=d.data[b],c._internalAbstractMeshDataInfo._currentLODIsUpToDate=!1,!c.isBlocked&&(this._totalVertices.addCount(c.getTotalVertices(),!1),c.isReady()&&c.isEnabled()&&0!==c.scaling.lengthSquared())){c.computeWorldMatrix();c.actionManager&&c.actionManager.hasSpecificTriggers2(12,13)&&this._meshesForIntersections.pushNoDuplicate(c);var f=this.customLODSelector?this.customLODSelector(c,this.activeCamera):c.getLOD(this.activeCamera);c._internalAbstractMeshDataInfo._currentLOD=
f;c._internalAbstractMeshDataInfo._currentLODIsUpToDate=!0;if(void 0!==f&&null!==f&&(f!==c&&f.billboardMode!==J.a.BILLBOARDMODE_NONE&&f.computeWorldMatrix(),c._preActivate(),c.isVisible&&0<c.visibility&&0!==(c.layerMask&this.activeCamera.layerMask)&&(this._skipFrustumClipping||c.alwaysSelectAsActiveMesh||c.isInFrustum(this._frustumPlanes)))){this._activeMeshes.push(c);this.activeCamera._activeMeshes.push(c);f!==c&&f._activate(this._renderId,!1);for(var g=0,h=this._preActiveMeshStage;g<h.length;g++)a=
h[g],a.action(c);c._activate(this._renderId,!1)&&(c.isAnInstance?c._internalAbstractMeshDataInfo._actAsRegularMesh&&(f=c):f._internalAbstractMeshDataInfo._onlyForInstances=!1,f._internalAbstractMeshDataInfo._isActive=!0,this._activeMesh(c,f));c._postActivate()}}this.onAfterActiveMeshesEvaluationObservable.notifyObservers(this);if(this.particlesEnabled){this.onBeforeParticlesRenderingObservable.notifyObservers(this);for(b=0;b<this.particleSystems.length;b++)if(a=this.particleSystems[b],a.isStarted()&&
a.emitter&&(c=a.emitter,!c.position||c.isEnabled()))this._activeParticleSystems.push(a),a.animate(),this._renderingManager.dispatchParticles(a);this.onAfterParticlesRenderingObservable.notifyObservers(this)}}};d.prototype._activeMesh=function(a,b){this._skeletonsEnabled&&null!==b.skeleton&&void 0!==b.skeleton&&(this._activeSkeletons.pushNoDuplicate(b.skeleton)&&b.skeleton.prepare(),b.computeBonesUsingShaders||this._softwareSkinnedMeshes.pushNoDuplicate(b));if(void 0!==b&&null!==b&&void 0!==b.subMeshes&&
null!==b.subMeshes&&0<b.subMeshes.length)for(var c=this.getActiveSubMeshCandidates(b),d=c.length,e=0;e<d;e++)this._evaluateSubMesh(c.data[e],b,a)};d.prototype.updateTransformMatrix=function(a){this.activeCamera&&this.setTransformMatrix(this.activeCamera.getViewMatrix(),this.activeCamera.getProjectionMatrix(a))};d.prototype._bindFrameBuffer=function(){if(this.activeCamera&&this.activeCamera._multiviewTexture)this.activeCamera._multiviewTexture._bindFrameBuffer();else if(this.activeCamera&&this.activeCamera.outputRenderTarget)if(this.getEngine().getCaps().multiview&&
this.activeCamera.outputRenderTarget&&1<this.activeCamera.outputRenderTarget.getViewCount())this.activeCamera.outputRenderTarget._bindFrameBuffer();else{var a=this.activeCamera.outputRenderTarget.getInternalTexture();a?this.getEngine().bindFramebuffer(a):O.a.Error("Camera contains invalid customDefaultRenderTarget")}else this.getEngine().restoreDefaultFramebuffer()};d.prototype._renderForCamera=function(a,b){if(!a||!a._skipRendering){var c=this._engine;this._activeCamera=a;if(!this.activeCamera)throw Error("Active camera not set");
c.setViewport(this.activeCamera.viewport);this.resetCachedMaterial();this._renderId++;this.getEngine().getCaps().multiview&&a.outputRenderTarget&&1<a.outputRenderTarget.getViewCount()?this.setTransformMatrix(a._rigCameras[0].getViewMatrix(),a._rigCameras[0].getProjectionMatrix(),a._rigCameras[1].getViewMatrix(),a._rigCameras[1].getProjectionMatrix()):this.updateTransformMatrix();this.onBeforeCameraRenderObservable.notifyObservers(this.activeCamera);this._evaluateActiveMeshes();for(c=0;c<this._softwareSkinnedMeshes.length;c++){var d=
this._softwareSkinnedMeshes.data[c];d.applySkeleton(d.skeleton)}this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);a.customRenderTargets&&0<a.customRenderTargets.length&&this._renderTargets.concatWithNoDuplicate(a.customRenderTargets);b&&b.customRenderTargets&&0<b.customRenderTargets.length&&this._renderTargets.concatWithNoDuplicate(b.customRenderTargets);c=0;for(d=this._gatherActiveCameraRenderTargetsStage;c<d.length;c++)b=d[c],b.action(this._renderTargets);c=!1;if(this.renderTargetsEnabled){this._intermediateRendering=
!0;if(0<this._renderTargets.length){h.b.StartPerformanceCounter("Render targets",0<this._renderTargets.length);for(b=0;b<this._renderTargets.length;b++)d=this._renderTargets.data[b],d._shouldRender()&&(this._renderId++,d.render(d.activeCamera&&d.activeCamera!==this.activeCamera,this.dumpNextRenderTargets),c=!0);h.b.EndPerformanceCounter("Render targets",0<this._renderTargets.length);this._renderId++}d=0;for(var e=this._cameraDrawRenderTargetStage;d<e.length;d++)b=e[d],c=b.action(this.activeCamera)||
c;this._intermediateRendering=!1;this.activeCamera&&this.activeCamera.outputRenderTarget&&(c=!0)}c&&!this.prePass&&this._bindFrameBuffer();this.onAfterRenderTargetsRenderObservable.notifyObservers(this);!this.postProcessManager||a._multiviewTexture||this.prePass||this.postProcessManager._prepareFrame();c=0;for(d=this._beforeCameraDrawStage;c<d.length;c++)b=d[c],b.action(this.activeCamera);this.onBeforeDrawPhaseObservable.notifyObservers(this);this._renderingManager.render(null,null,!0,!0);this.onAfterDrawPhaseObservable.notifyObservers(this);
c=0;for(d=this._afterCameraDrawStage;c<d.length;c++)b=d[c],b.action(this.activeCamera);this.postProcessManager&&!a._multiviewTexture&&(b=a.outputRenderTarget?a.outputRenderTarget.getInternalTexture():void 0,this.postProcessManager._finalizeFrame(a.isIntermediate,b));this._renderTargets.reset();this.onAfterCameraRenderObservable.notifyObservers(this.activeCamera)}};d.prototype._processSubCameras=function(a){if(a.cameraRigMode===w.a.RIG_MODE_NONE||a.outputRenderTarget&&1<a.outputRenderTarget.getViewCount()&&
this.getEngine().getCaps().multiview)this._renderForCamera(a);else{if(a._useMultiviewToSingleView)this._renderMultiviewToSingleView(a);else for(var b=0;b<a._rigCameras.length;b++)this._renderForCamera(a._rigCameras[b],a);this._activeCamera=a;this.setTransformMatrix(this._activeCamera.getViewMatrix(),this._activeCamera.getProjectionMatrix())}this.onAfterRenderCameraObservable.notifyObservers(a)};d.prototype._checkIntersections=function(){for(var a=0;a<this._meshesForIntersections.length;a++){var b=
this._meshesForIntersections.data[a];if(b.actionManager)for(var c=0;b.actionManager&&c<b.actionManager.actions.length;c++){var d=b.actionManager.actions[c];if(12===d.trigger||13===d.trigger){var e=d.getTriggerParameter(),f=e instanceof D.a?e:e.mesh;e=f.intersectsMesh(b,e.usePreciseIntersection);var g=b._intersectionsInProgress.indexOf(f);e&&-1===g?12===d.trigger?(d._executeCurrent(G.a.CreateNew(b,void 0,f)),b._intersectionsInProgress.push(f)):13===d.trigger&&b._intersectionsInProgress.push(f):!e&&
-1<g&&(13===d.trigger&&d._executeCurrent(G.a.CreateNew(b,void 0,f)),b.actionManager.hasSpecificTrigger(13,function(a){return f===(a instanceof D.a?a:a.mesh)})&&13!==d.trigger||b._intersectionsInProgress.splice(g,1))}}}};d.prototype._advancePhysicsEngineStep=function(a){};d.prototype._animate=function(){};d.prototype.animate=function(){if(this._engine.isDeterministicLockStep()){var a=Math.max(d.MinDeltaTime,Math.min(this._engine.getDeltaTime(),d.MaxDeltaTime))+this._timeAccumulator,b=this._engine.getTimeStep(),
c=1E3/b/1E3,e=0,f=this._engine.getLockstepMaxSteps(),g=Math.floor(a/b);for(g=Math.min(g,f);0<a&&e<g;)this.onBeforeStepObservable.notifyObservers(this),this._animationRatio=b*c,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(b),this.onAfterStepObservable.notifyObservers(this),this._currentStepId++,e++,a-=b;this._timeAccumulator=0>a?0:a}else a=this.useConstantAnimationDeltaTime?16:Math.max(d.MinDeltaTime,Math.min(this._engine.getDeltaTime(),
d.MaxDeltaTime)),this._animationRatio=.06*a,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(a)};d.prototype.render=function(a,b){void 0===a&&(a=!0);void 0===b&&(b=!1);if(!this.isDisposed){this.onReadyObservable.hasObservers()&&-1===this._executeWhenReadyTimeoutId&&this._checkIsReady();this._frameId++;this._registerTransientComponents();this._activeParticles.fetchNewFrame();this._totalVertices.fetchNewFrame();this._activeIndices.fetchNewFrame();
this._activeBones.fetchNewFrame();this._meshesForIntersections.reset();this.resetCachedMaterial();this.onBeforeAnimationsObservable.notifyObservers(this);this.actionManager&&this.actionManager.processTrigger(11);b||this.animate();for(var c=0,d=this._beforeCameraUpdateStage;c<d.length;c++)b=d[c],b.action();if(a)if(this.activeCameras&&0<this.activeCameras.length)for(a=0;a<this.activeCameras.length;a++){if(c=this.activeCameras[a],c.update(),c.cameraRigMode!==w.a.RIG_MODE_NONE)for(b=0;b<c._rigCameras.length;b++)c._rigCameras[b].update()}else if(this.activeCamera&&
(this.activeCamera.update(),this.activeCamera.cameraRigMode!==w.a.RIG_MODE_NONE))for(b=0;b<this.activeCamera._rigCameras.length;b++)this.activeCamera._rigCameras[b].update();this.onBeforeRenderObservable.notifyObservers(this);this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);b=this.getEngine();a=this.activeCamera;if(this.renderTargetsEnabled){h.b.StartPerformanceCounter("Custom render targets",0<this.customRenderTargets.length);this._intermediateRendering=!0;for(c=0;c<this.customRenderTargets.length;c++)if(d=
this.customRenderTargets[c],d._shouldRender()){this._renderId++;this.activeCamera=d.activeCamera||this.activeCamera;if(!this.activeCamera)throw Error("Active camera not set");b.setViewport(this.activeCamera.viewport);this.updateTransformMatrix();d.render(a!==this.activeCamera,this.dumpNextRenderTargets)}h.b.EndPerformanceCounter("Custom render targets",0<this.customRenderTargets.length);this._intermediateRendering=!1;this._renderId++}this.activeCamera=a;this._activeCamera&&this._activeCamera.cameraRigMode!==
w.a.RIG_MODE_CUSTOM&&!this.prePass&&this._bindFrameBuffer();this.onAfterRenderTargetsRenderObservable.notifyObservers(this);a=0;for(c=this._beforeClearStage;a<c.length;a++)b=c[a],b.action();!this.autoClearDepthAndStencil&&!this.autoClear||this.prePass||this._engine.clear(this.clearColor,this.autoClear||this.forceWireframe||this.forcePointsCloud,this.autoClearDepthAndStencil,this.autoClearDepthAndStencil);a=0;for(c=this._gatherRenderTargetsStage;a<c.length;a++)b=c[a],b.action(this._renderTargets);
if(this.activeCameras&&0<this.activeCameras.length)for(a=0;a<this.activeCameras.length;a++)0<a&&this._engine.clear(null,!1,!0,!0),this._processSubCameras(this.activeCameras[a]);else{if(!this.activeCamera)throw Error("No camera defined");this._processSubCameras(this.activeCamera)}this._checkIntersections();a=0;for(c=this._afterRenderStage;a<c.length;a++)b=c[a],b.action();this.afterRender&&this.afterRender();this.onAfterRenderObservable.notifyObservers(this);if(this._toBeDisposed.length){for(b=0;b<
this._toBeDisposed.length;b++)(a=this._toBeDisposed[b])&&a.dispose();this._toBeDisposed=[]}this.dumpNextRenderTargets&&(this.dumpNextRenderTargets=!1);this._activeBones.addCount(0,!0);this._activeIndices.addCount(0,!0);this._activeParticles.addCount(0,!0)}};d.prototype.freezeMaterials=function(){for(var a=0;a<this.materials.length;a++)this.materials[a].freeze()};d.prototype.unfreezeMaterials=function(){for(var a=0;a<this.materials.length;a++)this.materials[a].unfreeze()};d.prototype.dispose=function(){this.afterRender=
this.beforeRender=null;x.a._LastCreatedScene===this&&(x.a._LastCreatedScene=null);this.skeletons=[];this.morphTargetManagers=[];this._transientComponents=[];this._isReadyForMeshStage.clear();this._beforeEvaluateActiveMeshStage.clear();this._evaluateSubMeshStage.clear();this._preActiveMeshStage.clear();this._cameraDrawRenderTargetStage.clear();this._beforeCameraDrawStage.clear();this._beforeRenderTargetDrawStage.clear();this._beforeRenderingGroupDrawStage.clear();this._beforeRenderingMeshStage.clear();
this._afterRenderingMeshStage.clear();this._afterRenderingGroupDrawStage.clear();this._afterCameraDrawStage.clear();this._afterRenderTargetDrawStage.clear();this._afterRenderStage.clear();this._beforeCameraUpdateStage.clear();this._beforeClearStage.clear();this._gatherRenderTargetsStage.clear();this._gatherActiveCameraRenderTargetsStage.clear();this._pointerMoveStage.clear();this._pointerDownStage.clear();this._pointerUpStage.clear();for(var a=0,b=this._components;a<b.length;a++)b[a].dispose();this.importedMeshesFiles=
[];this.stopAllAnimations&&this.stopAllAnimations();this.resetCachedMaterial();this.activeCamera&&(this.activeCamera._activeMeshes.dispose(),this.activeCamera=null);this._activeMeshes.dispose();this._renderingManager.dispose();this._processedMaterials.dispose();this._activeParticleSystems.dispose();this._activeSkeletons.dispose();this._softwareSkinnedMeshes.dispose();this._renderTargets.dispose();this._registeredForLateAnimationBindings.dispose();this._meshesForIntersections.dispose();this._toBeDisposed=
[];a=0;for(b=this._activeRequests;a<b.length;a++)b[a].abort();this.onDisposeObservable.notifyObservers(this);this.onDisposeObservable.clear();this.onBeforeRenderObservable.clear();this.onAfterRenderObservable.clear();this.onBeforeRenderTargetsRenderObservable.clear();this.onAfterRenderTargetsRenderObservable.clear();this.onAfterStepObservable.clear();this.onBeforeStepObservable.clear();this.onBeforeActiveMeshesEvaluationObservable.clear();this.onAfterActiveMeshesEvaluationObservable.clear();this.onBeforeParticlesRenderingObservable.clear();
this.onAfterParticlesRenderingObservable.clear();this.onBeforeDrawPhaseObservable.clear();this.onAfterDrawPhaseObservable.clear();this.onBeforeAnimationsObservable.clear();this.onAfterAnimationsObservable.clear();this.onDataLoadedObservable.clear();this.onBeforeRenderingGroupObservable.clear();this.onAfterRenderingGroupObservable.clear();this.onMeshImportedObservable.clear();this.onBeforeCameraRenderObservable.clear();this.onAfterCameraRenderObservable.clear();this.onReadyObservable.clear();this.onNewCameraAddedObservable.clear();
this.onCameraRemovedObservable.clear();this.onNewLightAddedObservable.clear();this.onLightRemovedObservable.clear();this.onNewGeometryAddedObservable.clear();this.onGeometryRemovedObservable.clear();this.onNewTransformNodeAddedObservable.clear();this.onTransformNodeRemovedObservable.clear();this.onNewMeshAddedObservable.clear();this.onMeshRemovedObservable.clear();this.onNewSkeletonAddedObservable.clear();this.onSkeletonRemovedObservable.clear();this.onNewMaterialAddedObservable.clear();this.onNewMultiMaterialAddedObservable.clear();
this.onMaterialRemovedObservable.clear();this.onMultiMaterialRemovedObservable.clear();this.onNewTextureAddedObservable.clear();this.onTextureRemovedObservable.clear();this.onPrePointerObservable.clear();this.onPointerObservable.clear();this.onPreKeyboardObservable.clear();this.onKeyboardObservable.clear();this.onActiveCameraChanged.clear();this.detachControl();if(this._engine.getInputElement())for(a=0;a<this.cameras.length;a++)this.cameras[a].detachControl();for(;this.animationGroups.length;)this.animationGroups[0].dispose();
for(;this.lights.length;)this.lights[0].dispose();for(;this.meshes.length;)this.meshes[0].dispose(!0);for(;this.transformNodes.length;)this.transformNodes[0].dispose(!0);for(;this.cameras.length;)this.cameras[0].dispose();for(this._defaultMaterial&&this._defaultMaterial.dispose();this.multiMaterials.length;)this.multiMaterials[0].dispose();for(;this.materials.length;)this.materials[0].dispose();for(;this.particleSystems.length;)this.particleSystems[0].dispose();for(;this.postProcesses.length;)this.postProcesses[0].dispose();
for(;this.textures.length;)this.textures[0].dispose();this._sceneUbo.dispose();this._multiviewSceneUbo&&this._multiviewSceneUbo.dispose();this.postProcessManager.dispose();a=this._engine.scenes.indexOf(this);-1<a&&this._engine.scenes.splice(a,1);this._engine.wipeCaches(!0);this._isDisposed=!0};Object.defineProperty(d.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!1,configurable:!0});d.prototype.clearCachedVertexData=function(){for(var a=0;a<this.meshes.length;a++){var b=
this.meshes[a].geometry;if(b){b._indices=[];for(var c in b._vertexBuffers)b._vertexBuffers.hasOwnProperty(c)&&(b._vertexBuffers[c]._buffer._data=null)}}};d.prototype.cleanCachedTextureBuffer=function(){for(var a=0,b=this.textures;a<b.length;a++){var c=b[a];c._buffer&&(c._buffer=null)}};d.prototype.getWorldExtends=function(a){var b=new u.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),c=new u.e(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);this.meshes.filter(a||function(){return!0}).forEach(function(a){a.computeWorldMatrix(!0);
if(a.subMeshes&&0!==a.subMeshes.length&&!a.infiniteDistance){a=a.getBoundingInfo();var d=a.boundingBox.maximumWorld;u.e.CheckExtends(a.boundingBox.minimumWorld,b,c);u.e.CheckExtends(d,b,c)}});return{min:b,max:c}};d.prototype.createPickingRay=function(a,b,c,d,e){throw q.a.WarnImport("Ray");};d.prototype.createPickingRayToRef=function(a,b,c,d,e,f){throw q.a.WarnImport("Ray");};d.prototype.createPickingRayInCameraSpace=function(a,b,c){throw q.a.WarnImport("Ray");};d.prototype.createPickingRayInCameraSpaceToRef=
function(a,b,c,d){throw q.a.WarnImport("Ray");};d.prototype.pick=function(a,b,c,d,e,f){a=new F.a;a._pickingUnavailable=!0;return a};d.prototype.pickWithBoundingInfo=function(a,b,c,d,e){a=new F.a;a._pickingUnavailable=!0;return a};d.prototype.pickWithRay=function(a,b,c,d){throw q.a.WarnImport("Ray");};d.prototype.multiPick=function(a,b,c,d,e){throw q.a.WarnImport("Ray");};d.prototype.multiPickWithRay=function(a,b,c){throw q.a.WarnImport("Ray");};d.prototype.setPointerOverMesh=function(a,b){this._inputManager.setPointerOverMesh(a,
b)};d.prototype.getPointerOverMesh=function(){return this._inputManager.getPointerOverMesh()};d.prototype._rebuildGeometries=function(){for(var a=0,b=this.geometries;a<b.length;a++)b[a]._rebuild();a=0;for(b=this.meshes;a<b.length;a++)b[a]._rebuild();this.postProcessManager&&this.postProcessManager._rebuild();a=0;for(b=this._components;a<b.length;a++)b[a].rebuild();a=0;for(b=this.particleSystems;a<b.length;a++)b[a].rebuild()};d.prototype._rebuildTextures=function(){for(var a=0,b=this.textures;a<b.length;a++)b[a]._rebuild();
this.markAllMaterialsAsDirty(1)};d.prototype._getByTags=function(a,b,c){if(void 0===b)return a;var d=[];c=c||function(a){};for(var e in a){var f=a[e];t.a&&t.a.MatchesQuery(f,b)&&(d.push(f),c(f))}return d};d.prototype.getMeshesByTags=function(a,b){return this._getByTags(this.meshes,a,b)};d.prototype.getCamerasByTags=function(a,b){return this._getByTags(this.cameras,a,b)};d.prototype.getLightsByTags=function(a,b){return this._getByTags(this.lights,a,b)};d.prototype.getMaterialByTags=function(a,b){return this._getByTags(this.materials,
a,b).concat(this._getByTags(this.multiMaterials,a,b))};d.prototype.getTransformNodesByTags=function(a,b){return this._getByTags(this.transformNodes,a,b)};d.prototype.setRenderingOrder=function(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=null);this._renderingManager.setRenderingOrder(a,b,c,d)};d.prototype.setRenderingAutoClearDepthStencil=function(a,b,c,d){void 0===c&&(c=!0);void 0===d&&(d=!0);this._renderingManager.setRenderingAutoClearDepthStencil(a,b,c,d)};d.prototype.getAutoClearDepthStencilSetup=
function(a){return this._renderingManager.getAutoClearDepthStencilSetup(a)};Object.defineProperty(d.prototype,"blockMaterialDirtyMechanism",{get:function(){return this._blockMaterialDirtyMechanism},set:function(a){this._blockMaterialDirtyMechanism!==a&&((this._blockMaterialDirtyMechanism=a)||this.markAllMaterialsAsDirty(63))},enumerable:!1,configurable:!0});d.prototype.markAllMaterialsAsDirty=function(a,b){if(!this._blockMaterialDirtyMechanism)for(var c=0,d=this.materials;c<d.length;c++){var e=d[c];
b&&!b(e)||e.markAsDirty(a)}};d.prototype._loadFile=function(a,b,c,d,e,f){var g=this;a=C.a.LoadFile(a,b,c,d?this.offlineProvider:void 0,e,f);this._activeRequests.push(a);a.onCompleteObservable.add(function(a){g._activeRequests.splice(g._activeRequests.indexOf(a),1)});return a};d.prototype._loadFileAsync=function(a,b,c,d){var e=this;return new Promise(function(f,g){e._loadFile(a,function(a){f(a)},b,c,d,function(a,b){g(b)})})};d.prototype._requestFile=function(a,b,c,d,e,f,g){var h=this;a=C.a.RequestFile(a,
b,c,d?this.offlineProvider:void 0,e,f,g);this._activeRequests.push(a);a.onCompleteObservable.add(function(a){h._activeRequests.splice(h._activeRequests.indexOf(a),1)});return a};d.prototype._requestFileAsync=function(a,b,c,d,e){var f=this;return new Promise(function(g,h){f._requestFile(a,function(a){g(a)},b,c,d,function(a){h(a)},e)})};d.prototype._readFile=function(a,b,c,d,e){var f=this;a=C.a.ReadFile(a,b,c,d,e);this._activeRequests.push(a);a.onCompleteObservable.add(function(a){f._activeRequests.splice(f._activeRequests.indexOf(a),
1)});return a};d.prototype._readFileAsync=function(a,b,c){var d=this;return new Promise(function(e,f){d._readFile(a,function(a){e(a)},b,c,function(a){f(a)})})};d.FOGMODE_NONE=0;d.FOGMODE_EXP=1;d.FOGMODE_EXP2=2;d.FOGMODE_LINEAR=3;d.MinDeltaTime=1;d.MaxDeltaTime=1E3;return d}(g.a)}}]);
