var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,q,d){l!=Array.prototype&&l!=Object.prototype&&(l[q]=d.value)};$jscomp.getGlobal=function(l){return"undefined"!=typeof window&&window===l?l:"undefined"!=typeof global&&null!=global?global:l};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(l,q,d,n){if(q){d=$jscomp.global;l=l.split(".");for(n=0;n<l.length-1;n++){var p=l[n];p in d||(d[p]={});d=d[p]}l=l[l.length-1];n=d[l];q=q(n);q!=n&&null!=q&&$jscomp.defineProperty(d,l,{configurable:!0,writable:!0,value:q})}};$jscomp.polyfill("Array.prototype.fill",function(l){return l?l:function(l,d,n){var p=this.length||0;0>d&&(d=Math.max(0,p+d));if(null==n||n>p)n=p;n=Number(n);0>n&&(n=Math.max(0,p+n));for(d=Number(d||0);d<n;d++)this[d]=l;return this}},"es6","es3");
$jscomp.polyfill("Array.from",function(l){return l?l:function(l,d,n){d=null!=d?d:function(a){return a};var p=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];if("function"==typeof r){l=r.call(l);for(var h=0;!(r=l.next()).done;)p.push(d.call(n,r.value,h++))}else for(r=l.length,h=0;h<r;h++)p.push(d.call(n,l[h],h));return p}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+QgK":function(l,q,d){d.d(q,"b",function(){return r});d.d(q,"a",function(){return h});var n=d("mrSG");l=d("/SR9");var p=d("MhaC"),r=function(a){function c(b,e){void 0===e&&(e=0);b=a.call(this,b.x,b.y)||this;b.buttonIndex=e;return b}Object(n.c)(c,a);return c}(l.d),h=function(){function a(a,b,e,g,m,k){this.m=new Float32Array(6);this.fromValues(a,b,e,g,m,k)}a.prototype.fromValues=function(a,b,e,g,m,k){this.m[0]=a;this.m[1]=b;this.m[2]=e;this.m[3]=
g;this.m[4]=m;this.m[5]=k;return this};a.prototype.determinant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]};a.prototype.invertToRef=function(a){var b=this.m[0],e=this.m[1],g=this.m[2],c=this.m[3],k=this.m[4],t=this.m[5],f=this.determinant();if(f<p.a*p.a)return a.m[0]=0,a.m[1]=0,a.m[2]=0,a.m[3]=0,a.m[4]=0,a.m[5]=0,this;f=1/f;a.m[0]=c*f;a.m[1]=-e*f;a.m[2]=-g*f;a.m[3]=b*f;a.m[4]=(g*t-c*k)*f;a.m[5]=(e*k-b*t)*f;return this};a.prototype.multiplyToRef=function(a,b){var e=this.m[0],g=this.m[1],
c=this.m[2],k=this.m[3],t=this.m[4],f=this.m[5],u=a.m[0],v=a.m[1],d=a.m[2],h=a.m[3],l=a.m[4];a=a.m[5];b.m[0]=e*u+g*d;b.m[1]=e*v+g*h;b.m[2]=c*u+k*d;b.m[3]=c*v+k*h;b.m[4]=t*u+f*d+l;b.m[5]=t*v+f*h+a;return this};a.prototype.transformCoordinates=function(a,b,e){e.x=a*this.m[0]+b*this.m[2]+this.m[4];e.y=a*this.m[1]+b*this.m[3]+this.m[5];return this};a.Identity=function(){return new a(1,0,0,1,0,0)};a.TranslationToRef=function(a,b,e){e.fromValues(1,0,0,1,a,b)};a.ScalingToRef=function(a,b,e){e.fromValues(a,
0,0,b,0,0)};a.RotationToRef=function(a,b){var e=Math.sin(a);a=Math.cos(a);b.fromValues(a,e,-e,a,0,0)};a.ComposeToRef=function(c,b,e,g,m,k,t){a.TranslationToRef(c,b,a._TempPreTranslationMatrix);a.ScalingToRef(g,m,a._TempScalingMatrix);a.RotationToRef(e,a._TempRotationMatrix);a.TranslationToRef(-c,-b,a._TempPostTranslationMatrix);a._TempPreTranslationMatrix.multiplyToRef(a._TempScalingMatrix,a._TempCompose0);a._TempCompose0.multiplyToRef(a._TempRotationMatrix,a._TempCompose1);k?(a._TempCompose1.multiplyToRef(a._TempPostTranslationMatrix,
a._TempCompose2),a._TempCompose2.multiplyToRef(k,t)):a._TempCompose1.multiplyToRef(a._TempPostTranslationMatrix,t)};a._TempPreTranslationMatrix=a.Identity();a._TempPostTranslationMatrix=a.Identity();a._TempRotationMatrix=a.Identity();a._TempScalingMatrix=a.Identity();a._TempCompose0=a.Identity();a._TempCompose1=a.Identity();a._TempCompose2=a.Identity();return a}()},"5ScG":function(l,q,d){d.d(q,"a",function(){return c});var n=d("mrSG"),p=d("ps+7"),r=d("3C+b"),h=d("mzVJ"),a=d("wxg5");l=d("WHS4");var c=
function(b){function e(a){var e=b.call(this,a)||this;e.name=a;e._isChecked=!1;e._background="black";e._checkSizeRatio=.8;e._thickness=1;e.group="";e.onIsCheckedChangedObservable=new p.a;e.isPointerBlocker=!0;return e}Object(n.c)(e,b);Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(b){this._thickness!==b&&(this._thickness=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"checkSizeRatio",{get:function(){return this._checkSizeRatio},
set:function(b){b=Math.max(Math.min(1,b),0);this._checkSizeRatio!==b&&(this._checkSizeRatio=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"background",{get:function(){return this._background},set:function(b){this._background!==b&&(this._background=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"isChecked",{get:function(){return this._isChecked},set:function(b){var a=this;this._isChecked!==b&&(this._isChecked=b,
this._markAsDirty(),this.onIsCheckedChangedObservable.notifyObservers(b),this._isChecked&&this._host&&this._host.executeOnAllControls(function(b){b!==a&&void 0!==b.group&&b.group===a.group&&(b.isChecked=!1)}))},enumerable:!1,configurable:!0});e.prototype._getTypeName=function(){return"RadioButton"};e.prototype._draw=function(b){b.save();this._applyStates(b);var a=this._currentMeasure.width-this._thickness,e=this._currentMeasure.height-this._thickness;if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)b.shadowColor=
this.shadowColor,b.shadowBlur=this.shadowBlur,b.shadowOffsetX=this.shadowOffsetX,b.shadowOffsetY=this.shadowOffsetY;r.a.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._thickness/2,this._currentMeasure.height/2-this._thickness/2,b);b.fillStyle=this._isEnabled?this._background:this._disabledColor;b.fill();if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)b.shadowBlur=0,b.shadowOffsetX=
0,b.shadowOffsetY=0;b.strokeStyle=this.color;b.lineWidth=this._thickness;b.stroke();this._isChecked&&(b.fillStyle=this._isEnabled?this.color:this._disabledColor,r.a.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,a*this._checkSizeRatio/2-this._thickness/2,e*this._checkSizeRatio/2-this._thickness/2,b),b.fill());b.restore()};e.prototype._onPointerDown=function(a,e,c,t,f){if(!b.prototype._onPointerDown.call(this,a,e,c,t,f))return!1;
this.isChecked||(this.isChecked=!0);return!0};e.AddRadioButtonWithHeader=function(b,c,k,t){var f=new h.a;f.isVertical=!1;f.height="30px";var g=new e;g.width="20px";g.height="20px";g.isChecked=k;g.color="green";g.group=c;g.onIsCheckedChangedObservable.add(function(b){return t(g,b)});f.addControl(g);c=new a.a;c.text=b;c.width="180px";c.paddingLeft="5px";c.textHorizontalAlignment=r.a.HORIZONTAL_ALIGNMENT_LEFT;c.color="white";f.addControl(c);return f};return e}(r.a);l.a.RegisteredTypes["BABYLON.GUI.RadioButton"]=
c},"7N4q":function(l,q,d){d.d(q,"a",function(){return h});var n=d("mrSG"),p=d("ps+7");l=d("3C+b");var r=d("37TA"),h=function(a){function c(b){var e=a.call(this,b)||this;e.name=b;e._thumbWidth=new r.a(20,r.a.UNITMODE_PIXEL,!1);e._minimum=0;e._maximum=100;e._value=50;e._isVertical=!1;e._barOffset=new r.a(5,r.a.UNITMODE_PIXEL,!1);e._isThumbClamped=!1;e._displayThumb=!0;e._step=0;e._lastPointerDownID=-1;e._effectiveBarOffset=0;e.onValueChangedObservable=new p.a;e._pointerIsDown=!1;e.isPointerBlocker=
!0;return e}Object(n.c)(c,a);Object.defineProperty(c.prototype,"displayThumb",{get:function(){return this._displayThumb},set:function(b){this._displayThumb!==b&&(this._displayThumb=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"step",{get:function(){return this._step},set:function(b){this._step!==b&&(this._step=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"barOffset",{get:function(){return this._barOffset.toString(this._host)},
set:function(b){this._barOffset.toString(this._host)!==b&&this._barOffset.fromString(b)&&this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"barOffsetInPixels",{get:function(){return this._barOffset.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"thumbWidth",{get:function(){return this._thumbWidth.toString(this._host)},set:function(b){this._thumbWidth.toString(this._host)!==b&&this._thumbWidth.fromString(b)&&
this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"thumbWidthInPixels",{get:function(){return this._thumbWidth.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"minimum",{get:function(){return this._minimum},set:function(b){this._minimum!==b&&(this._minimum=b,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"maximum",{get:function(){return this._maximum},set:function(b){this._maximum!==b&&(this._maximum=b,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"value",{get:function(){return this._value},set:function(b){b=Math.max(Math.min(b,this._maximum),this._minimum);this._value!==b&&(this._value=b,this._markAsDirty(),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"isVertical",{get:function(){return this._isVertical},set:function(b){this._isVertical!==b&&(this._isVertical=b,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"isThumbClamped",{get:function(){return this._isThumbClamped},set:function(b){this._isThumbClamped!==b&&(this._isThumbClamped=b,this._markAsDirty())},enumerable:!1,configurable:!0});c.prototype._getTypeName=function(){return"BaseSlider"};c.prototype._getThumbPosition=
function(){return this.isVertical?(this.maximum-this.value)/(this.maximum-this.minimum)*this._backgroundBoxLength:(this.value-this.minimum)/(this.maximum-this.minimum)*this._backgroundBoxLength};c.prototype._getThumbThickness=function(b){var a=0;switch(b){case "circle":a=this._thumbWidth.isPixel?Math.max(this._thumbWidth.getValue(this._host),this._backgroundBoxThickness):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host);break;case "rectangle":a=this._thumbWidth.isPixel?Math.min(this._thumbWidth.getValue(this._host),
this._backgroundBoxThickness):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)}return a};c.prototype._prepareRenderingData=function(b){this._effectiveBarOffset=0;this._renderLeft=this._currentMeasure.left;this._renderTop=this._currentMeasure.top;this._renderWidth=this._currentMeasure.width;this._renderHeight=this._currentMeasure.height;this._backgroundBoxLength=Math.max(this._currentMeasure.width,this._currentMeasure.height);this._backgroundBoxThickness=Math.min(this._currentMeasure.width,
this._currentMeasure.height);this._effectiveThumbThickness=this._getThumbThickness(b);this.displayThumb&&(this._backgroundBoxLength-=this._effectiveThumbThickness);this.isVertical&&this._currentMeasure.height<this._currentMeasure.width?console.error("Height should be greater than width"):(this._effectiveBarOffset=this._barOffset.isPixel?Math.min(this._barOffset.getValue(this._host),this._backgroundBoxThickness):this._backgroundBoxThickness*this._barOffset.getValue(this._host),this._backgroundBoxThickness-=
2*this._effectiveBarOffset,this.isVertical?(this._renderLeft+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderTop+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxLength,this._renderWidth=this._backgroundBoxThickness):(this._renderTop+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderLeft+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxThickness,this._renderWidth=this._backgroundBoxLength))};
c.prototype._updateValueFromPointer=function(b,a){0!=this.rotation&&(this._invertTransformMatrix.transformCoordinates(b,a,this._transformedPosition),b=this._transformedPosition.x,a=this._transformedPosition.y);b=this._isVertical?this._minimum+(1-(a-this._currentMeasure.top)/this._currentMeasure.height)*(this._maximum-this._minimum):this._minimum+(b-this._currentMeasure.left)/this._currentMeasure.width*(this._maximum-this._minimum);a=1/this._step|0;this.value=this._step?(b*a|0)/a:b};c.prototype._onPointerDown=
function(b,e,c,m,k){if(!a.prototype._onPointerDown.call(this,b,e,c,m,k))return!1;this._pointerIsDown=!0;this._updateValueFromPointer(e.x,e.y);this._host._capturingControl[c]=this;this._lastPointerDownID=c;return!0};c.prototype._onPointerMove=function(b,e,c,m){c==this._lastPointerDownID&&(this._pointerIsDown&&this._updateValueFromPointer(e.x,e.y),a.prototype._onPointerMove.call(this,b,e,c,m))};c.prototype._onPointerUp=function(b,e,c,m,k){this._pointerIsDown=!1;delete this._host._capturingControl[c];
a.prototype._onPointerUp.call(this,b,e,c,m,k)};c.prototype._onCanvasBlur=function(){this._forcePointerUp();a.prototype._onCanvasBlur.call(this)};return c}(l.a)},"7hGX":function(l,q,d){var n=d("mrSG"),p=d("ps+7"),r=d("mzVJ"),h=d("B1Fv");l=d("WHS4");(function(){return function(){}})();q=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.onKeyPressObservable=new p.a;b.defaultButtonWidth="40px";b.defaultButtonHeight="40px";b.defaultButtonPaddingLeft="2px";b.defaultButtonPaddingRight=
"2px";b.defaultButtonPaddingTop="2px";b.defaultButtonPaddingBottom="2px";b.defaultButtonColor="#DDD";b.defaultButtonBackground="#070707";b.shiftButtonColor="#7799FF";b.selectedShiftThickness=1;b.shiftState=0;b._currentlyConnectedInputText=null;b._connectedInputTexts=[];b._onKeyPressObserver=null;return b}Object(n.c)(c,a);c.prototype._getTypeName=function(){return"VirtualKeyboard"};c.prototype._createKey=function(b,a){var e=this,c=h.a.CreateSimpleButton(b,b);c.width=a&&a.width?a.width:this.defaultButtonWidth;
c.height=a&&a.height?a.height:this.defaultButtonHeight;c.color=a&&a.color?a.color:this.defaultButtonColor;c.background=a&&a.background?a.background:this.defaultButtonBackground;c.paddingLeft=a&&a.paddingLeft?a.paddingLeft:this.defaultButtonPaddingLeft;c.paddingRight=a&&a.paddingRight?a.paddingRight:this.defaultButtonPaddingRight;c.paddingTop=a&&a.paddingTop?a.paddingTop:this.defaultButtonPaddingTop;c.paddingBottom=a&&a.paddingBottom?a.paddingBottom:this.defaultButtonPaddingBottom;c.thickness=0;c.isFocusInvisible=
!0;c.shadowColor=this.shadowColor;c.shadowBlur=this.shadowBlur;c.shadowOffsetX=this.shadowOffsetX;c.shadowOffsetY=this.shadowOffsetY;c.onPointerUpObservable.add(function(){e.onKeyPressObservable.notifyObservers(b)});return c};c.prototype.addKeysRow=function(b,a){var e=new r.a;e.isVertical=!1;e.isFocusInvisible=!0;for(var c=null,k=0;k<b.length;k++){var t=null;a&&a.length===b.length&&(t=a[k]);t=this._createKey(b[k],t);if(!c||t.heightInPixels>c.heightInPixels)c=t;e.addControl(t)}e.height=c?c.height:
this.defaultButtonHeight;this.addControl(e)};c.prototype.applyShiftState=function(b){if(this.children)for(var a=0;a<this.children.length;a++){var c=this.children[a];if(c&&c.children)for(var m=0;m<c.children.length;m++){var k=c.children[m];if(k&&k.children[0]){var t=k.children[0];"\u21e7"===t.text&&(k.color=b?this.shiftButtonColor:this.defaultButtonColor,k.thickness=1<b?this.selectedShiftThickness:0);t.text=0<b?t.text.toUpperCase():t.text.toLowerCase()}}}};Object.defineProperty(c.prototype,"connectedInputText",
{get:function(){return this._currentlyConnectedInputText},enumerable:!1,configurable:!0});c.prototype.connect=function(b){var a=this;if(!this._connectedInputTexts.some(function(a){return a.input===b})){null===this._onKeyPressObserver&&(this._onKeyPressObserver=this.onKeyPressObservable.add(function(b){if(a._currentlyConnectedInputText){a._currentlyConnectedInputText._host.focusedControl=a._currentlyConnectedInputText;switch(b){case "\u21e7":a.shiftState++;2<a.shiftState&&(a.shiftState=0);a.applyShiftState(a.shiftState);
return;case "\u2190":a._currentlyConnectedInputText.processKey(8);return;case "\u21b5":a._currentlyConnectedInputText.processKey(13);return}a._currentlyConnectedInputText.processKey(-1,a.shiftState?b.toUpperCase():b);1===a.shiftState&&(a.shiftState=0,a.applyShiftState(a.shiftState))}}));this.isVisible=!1;this._currentlyConnectedInputText=b;b._connectedVirtualKeyboard=this;var c=b.onFocusObservable.add(function(){a._currentlyConnectedInputText=b;b._connectedVirtualKeyboard=a;a.isVisible=!0}),m=b.onBlurObservable.add(function(){b._connectedVirtualKeyboard=
null;a._currentlyConnectedInputText=null;a.isVisible=!1});this._connectedInputTexts.push({input:b,onBlurObserver:m,onFocusObserver:c})}};c.prototype.disconnect=function(a){var b=this;if(a){var c=this._connectedInputTexts.filter(function(b){return b.input===a});1===c.length&&(this._removeConnectedInputObservables(c[0]),this._connectedInputTexts=this._connectedInputTexts.filter(function(b){return b.input!==a}),this._currentlyConnectedInputText===a&&(this._currentlyConnectedInputText=null))}else this._connectedInputTexts.forEach(function(a){b._removeConnectedInputObservables(a)}),
this._connectedInputTexts=[];0===this._connectedInputTexts.length&&(this._currentlyConnectedInputText=null,this.onKeyPressObservable.remove(this._onKeyPressObserver),this._onKeyPressObserver=null)};c.prototype._removeConnectedInputObservables=function(a){a.input._connectedVirtualKeyboard=null;a.input.onFocusObservable.remove(a.onFocusObserver);a.input.onBlurObservable.remove(a.onBlurObserver)};c.prototype.dispose=function(){a.prototype.dispose.call(this);this.disconnect()};c.CreateDefaultLayout=function(a){a=
new c(a);a.addKeysRow("1234567890\u2190".split(""));a.addKeysRow("qwertyuiop".split(""));a.addKeysRow("asdfghjkl;'\u21b5".split(""));a.addKeysRow("\u21e7zxcvbnm,./".split(""));a.addKeysRow([" "],[{width:"200px"}]);return a};return c}(r.a);l.a.RegisteredTypes["BABYLON.GUI.VirtualKeyboard"]=q},GlQl:function(l,q,d){var n=d("mrSG"),p=d("TWMH"),r=d("mzVJ"),h=d("3C+b"),a=d("wxg5"),c=d("1sRO"),b=d("5ScG"),e=d("dMrP"),g=d("YhWr");l=function(){function b(a){this.name=a;this._groupPanel=new r.a;this._selectors=
[];this._groupPanel.verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;this._groupPanel.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;this._groupHeader=this._addGroupHeader(a)}Object.defineProperty(b.prototype,"groupPanel",{get:function(){return this._groupPanel},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"selectors",{get:function(){return this._selectors},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"header",{get:function(){return this._groupHeader.text},
set:function(a){"label"!==this._groupHeader.text&&(this._groupHeader.text=a)},enumerable:!1,configurable:!0});b.prototype._addGroupHeader=function(b){b=new a.a("groupHead",b);b.width=.9;b.height="30px";b.textWrapping=!0;b.color="black";b.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;b.textHorizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;b.left="2px";this._groupPanel.addControl(b);return b};b.prototype._getSelector=function(a){if(!(0>a||a>=this._selectors.length))return this._selectors[a]};b.prototype.removeSelector=
function(a){0>a||a>=this._selectors.length||(this._groupPanel.removeControl(this._selectors[a]),this._selectors.splice(a,1))};return b}();(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Object(n.c)(b,a);b.prototype.addCheckbox=function(a,b,e){void 0===b&&(b=function(a){});void 0===e&&(e=!1);e=e||!1;var f=new c.a;f.width="20px";f.height="20px";f.color="#364249";f.background="#CCCCCC";f.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;f.onIsCheckedChangedObservable.add(function(a){b(a)});
a=h.a.AddHeader(f,a,"200px",{isHorizontal:!0,controlFirst:!0});a.height="30px";a.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;a.left="4px";this.groupPanel.addControl(a);this.selectors.push(a);f.isChecked=e;this.groupPanel.parent&&this.groupPanel.parent.parent&&(f.color=this.groupPanel.parent.parent.buttonColor,f.background=this.groupPanel.parent.parent.buttonBackground)};b.prototype._setSelectorLabel=function(a,b){this.selectors[a].children[1].text=b};b.prototype._setSelectorLabelColor=function(a,
b){this.selectors[a].children[1].color=b};b.prototype._setSelectorButtonColor=function(a,b){this.selectors[a].children[0].color=b};b.prototype._setSelectorButtonBackground=function(a,b){this.selectors[a].children[0].background=b};return b})(l);(function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._selectNb=0;return b}Object(n.c)(c,a);c.prototype.addRadio=function(a,f,c){void 0===f&&(f=function(a){});void 0===c&&(c=!1);var e=this._selectNb++,t=new b.a;t.name=a;t.width="20px";t.height=
"20px";t.color="#364249";t.background="#CCCCCC";t.group=this.name;t.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;t.onIsCheckedChangedObservable.add(function(a){a&&f(e)});a=h.a.AddHeader(t,a,"200px",{isHorizontal:!0,controlFirst:!0});a.height="30px";a.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;a.left="4px";this.groupPanel.addControl(a);this.selectors.push(a);t.isChecked=c;this.groupPanel.parent&&this.groupPanel.parent.parent&&(t.color=this.groupPanel.parent.parent.buttonColor,t.background=
this.groupPanel.parent.parent.buttonBackground)};c.prototype._setSelectorLabel=function(a,b){this.selectors[a].children[1].text=b};c.prototype._setSelectorLabelColor=function(a,b){this.selectors[a].children[1].color=b};c.prototype._setSelectorButtonColor=function(a,b){this.selectors[a].children[0].color=b};c.prototype._setSelectorButtonBackground=function(a,b){this.selectors[a].children[0].background=b};return c})(l);(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Object(n.c)(b,
a);b.prototype.addSlider=function(a,b,c,g,k,d,m){void 0===b&&(b=function(a){});void 0===c&&(c="Units");void 0===g&&(g=0);void 0===k&&(k=0);void 0===d&&(d=0);void 0===m&&(m=function(a){return a|0});var f=new e.a;f.name=c;f.value=d;f.minimum=g;f.maximum=k;f.width=.9;f.height="20px";f.color="#364249";f.background="#CCCCCC";f.borderColor="black";f.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;f.left="4px";f.paddingBottom="4px";f.onValueChangedObservable.add(function(a){f.parent.children[0].text=f.parent.children[0].name+
": "+m(a)+" "+f.name;b(a)});c=h.a.AddHeader(f,a+": "+m(d)+" "+c,"30px",{isHorizontal:!1,controlFirst:!1});c.height="60px";c.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;c.left="4px";c.children[0].name=a;this.groupPanel.addControl(c);this.selectors.push(c);this.groupPanel.parent&&this.groupPanel.parent.parent&&(f.color=this.groupPanel.parent.parent.buttonColor,f.background=this.groupPanel.parent.parent.buttonBackground)};b.prototype._setSelectorLabel=function(a,b){this.selectors[a].children[0].name=
b;this.selectors[a].children[0].text=b+": "+this.selectors[a].children[1].value+" "+this.selectors[a].children[1].name};b.prototype._setSelectorLabelColor=function(a,b){this.selectors[a].children[0].color=b};b.prototype._setSelectorButtonColor=function(a,b){this.selectors[a].children[1].color=b};b.prototype._setSelectorButtonBackground=function(a,b){this.selectors[a].children[1].background=b};return b})(l);(function(a){function b(b,f){void 0===f&&(f=[]);var c=a.call(this,b)||this;c.name=b;c.groups=
f;c._buttonColor="#364249";c._buttonBackground="#CCCCCC";c._headerColor="black";c._barColor="white";c._barHeight="2px";c._spacerHeight="20px";c._bars=[];c._groups=f;c.thickness=2;c._panel=new r.a;c._panel.verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;c._panel.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;c._panel.top=5;c._panel.left=5;c._panel.width=.95;if(0<f.length){for(b=0;b<f.length-1;b++)c._panel.addControl(f[b].groupPanel),c._addSpacer();c._panel.addControl(f[f.length-1].groupPanel)}c.addControl(c._panel);
return c}Object(n.c)(b,a);b.prototype._getTypeName=function(){return"SelectionPanel"};Object.defineProperty(b.prototype,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"headerColor",{get:function(){return this._headerColor},set:function(a){this._headerColor!==a&&(this._headerColor=a,this._setHeaderColor())},enumerable:!1,configurable:!0});b.prototype._setHeaderColor=function(){for(var a=0;a<this._groups.length;a++)this._groups[a].groupPanel.children[0].color=
this._headerColor};Object.defineProperty(b.prototype,"buttonColor",{get:function(){return this._buttonColor},set:function(a){this._buttonColor!==a&&(this._buttonColor=a,this._setbuttonColor())},enumerable:!1,configurable:!0});b.prototype._setbuttonColor=function(){for(var a=0;a<this._groups.length;a++)for(var b=0;b<this._groups[a].selectors.length;b++)this._groups[a]._setSelectorButtonColor(b,this._buttonColor)};Object.defineProperty(b.prototype,"labelColor",{get:function(){return this._labelColor},
set:function(a){this._labelColor!==a&&(this._labelColor=a,this._setLabelColor())},enumerable:!1,configurable:!0});b.prototype._setLabelColor=function(){for(var a=0;a<this._groups.length;a++)for(var b=0;b<this._groups[a].selectors.length;b++)this._groups[a]._setSelectorLabelColor(b,this._labelColor)};Object.defineProperty(b.prototype,"buttonBackground",{get:function(){return this._buttonBackground},set:function(a){this._buttonBackground!==a&&(this._buttonBackground=a,this._setButtonBackground())},
enumerable:!1,configurable:!0});b.prototype._setButtonBackground=function(){for(var a=0;a<this._groups.length;a++)for(var b=0;b<this._groups[a].selectors.length;b++)this._groups[a]._setSelectorButtonBackground(b,this._buttonBackground)};Object.defineProperty(b.prototype,"barColor",{get:function(){return this._barColor},set:function(a){this._barColor!==a&&(this._barColor=a,this._setBarColor())},enumerable:!1,configurable:!0});b.prototype._setBarColor=function(){for(var a=0;a<this._bars.length;a++)this._bars[a].children[0].background=
this._barColor};Object.defineProperty(b.prototype,"barHeight",{get:function(){return this._barHeight},set:function(a){this._barHeight!==a&&(this._barHeight=a,this._setBarHeight())},enumerable:!1,configurable:!0});b.prototype._setBarHeight=function(){for(var a=0;a<this._bars.length;a++)this._bars[a].children[0].height=this._barHeight};Object.defineProperty(b.prototype,"spacerHeight",{get:function(){return this._spacerHeight},set:function(a){this._spacerHeight!==a&&(this._spacerHeight=a,this._setSpacerHeight())},
enumerable:!1,configurable:!0});b.prototype._setSpacerHeight=function(){for(var a=0;a<this._bars.length;a++)this._bars[a].height=this._spacerHeight};b.prototype._addSpacer=function(){var a=new g.a;a.width=1;a.height=this._spacerHeight;a.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;var b=new p.a;b.width=1;b.height=this._barHeight;b.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;b.verticalAlignment=h.a.VERTICAL_ALIGNMENT_CENTER;b.background=this._barColor;b.color="transparent";a.addControl(b);
this._panel.addControl(a);this._bars.push(a)};b.prototype.addGroup=function(a){0<this._groups.length&&this._addSpacer();this._panel.addControl(a.groupPanel);this._groups.push(a);a.groupPanel.children[0].color=this._headerColor;for(var b=0;b<a.selectors.length;b++)a._setSelectorButtonColor(b,this._buttonColor),a._setSelectorButtonBackground(b,this._buttonBackground)};b.prototype.removeGroup=function(a){0>a||a>=this._groups.length||(this._panel.removeControl(this._groups[a].groupPanel),this._groups.splice(a,
1),a<this._bars.length&&(this._panel.removeControl(this._bars[a]),this._bars.splice(a,1)))};b.prototype.setHeaderName=function(a,b){0>b||b>=this._groups.length||(this._groups[b].groupPanel.children[0].text=a)};b.prototype.relabel=function(a,b,c){0>b||b>=this._groups.length||(b=this._groups[b],0>c||c>=b.selectors.length||b._setSelectorLabel(c,a))};b.prototype.removeFromGroupSelector=function(a,b){0>a||a>=this._groups.length||(a=this._groups[a],0>b||b>=a.selectors.length||a.removeSelector(b))};b.prototype.addToGroupCheckbox=
function(a,b,c,e){void 0===c&&(c=function(){});void 0===e&&(e=!1);0>a||a>=this._groups.length||this._groups[a].addCheckbox(b,c,e)};b.prototype.addToGroupRadio=function(a,b,c,e){void 0===c&&(c=function(){});void 0===e&&(e=!1);0>a||a>=this._groups.length||this._groups[a].addRadio(b,c,e)};b.prototype.addToGroupSlider=function(a,b,c,e,g,d,k,m){void 0===c&&(c=function(){});void 0===e&&(e="Units");void 0===g&&(g=0);void 0===d&&(d=0);void 0===k&&(k=0);void 0===m&&(m=function(a){return a|0});0>a||a>=this._groups.length||
this._groups[a].addSlider(b,c,e,g,d,k,m)};return b})(p.a)},K1g3:function(l,q,d){d.d(q,"a",function(){return r});var n=d("mrSG");l=d("7N4q");var p=d("+ach"),r=function(d){function a(a){var b=d.call(this,a)||this;b.name=a;b._thumbLength=.5;b._thumbHeight=1;b._barImageHeight=1;b._tempMeasure=new p.a(0,0,0,0);b.num90RotationInVerticalMode=1;return b}Object(n.c)(a,d);Object.defineProperty(a.prototype,"backgroundImage",{get:function(){return this._backgroundBaseImage},set:function(a){var b=this;this._backgroundBaseImage!==
a&&(this._backgroundBaseImage=a,this.isVertical&&0!==this.num90RotationInVerticalMode?a.isLoaded?(this._backgroundImage=a._rotate90(this.num90RotationInVerticalMode,!0),this._markAsDirty()):a.onImageLoadedObservable.addOnce(function(){var c=a._rotate90(b.num90RotationInVerticalMode,!0);b._backgroundImage=c;c.isLoaded||c.onImageLoadedObservable.addOnce(function(){b._markAsDirty()});b._markAsDirty()}):((this._backgroundImage=a)&&!a.isLoaded&&a.onImageLoadedObservable.addOnce(function(){b._markAsDirty()}),
this._markAsDirty()))},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"thumbImage",{get:function(){return this._thumbBaseImage},set:function(a){var b=this;this._thumbBaseImage!==a&&(this._thumbBaseImage=a,this.isVertical&&0!==this.num90RotationInVerticalMode?a.isLoaded?(this._thumbImage=a._rotate90(-this.num90RotationInVerticalMode,!0),this._markAsDirty()):a.onImageLoadedObservable.addOnce(function(){var c=a._rotate90(-b.num90RotationInVerticalMode,!0);b._thumbImage=c;c.isLoaded||
c.onImageLoadedObservable.addOnce(function(){b._markAsDirty()});b._markAsDirty()}):((this._thumbImage=a)&&!a.isLoaded&&a.onImageLoadedObservable.addOnce(function(){b._markAsDirty()}),this._markAsDirty()))},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"thumbLength",{get:function(){return this._thumbLength},set:function(a){this._thumbLength!==a&&(this._thumbLength=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"thumbHeight",{get:function(){return this._thumbHeight},
set:function(a){this._thumbLength!==a&&(this._thumbHeight=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"barImageHeight",{get:function(){return this._barImageHeight},set:function(a){this._barImageHeight!==a&&(this._barImageHeight=a,this._markAsDirty())},enumerable:!1,configurable:!0});a.prototype._getTypeName=function(){return"ImageScrollBar"};a.prototype._getThumbThickness=function(){return this._thumbWidth.isPixel?this._thumbWidth.getValue(this._host):
this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)};a.prototype._draw=function(a){a.save();this._applyStates(a);this._prepareRenderingData("rectangle");var b=this._getThumbPosition(),c=this._renderLeft,g=this._renderTop,d=this._renderWidth,k=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(c,g,d,k),this.isVertical?(this._tempMeasure.copyFromFloats(c+d*(1-this._barImageHeight)*.5,this._currentMeasure.top,d*this._barImageHeight,k),this._tempMeasure.height+=
this._effectiveThumbThickness):(this._tempMeasure.copyFromFloats(this._currentMeasure.left,g+k*(1-this._barImageHeight)*.5,d,k*this._barImageHeight),this._tempMeasure.width+=this._effectiveThumbThickness),this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure),this._backgroundImage._draw(a));this.isVertical?this._tempMeasure.copyFromFloats(c-this._effectiveBarOffset+this._currentMeasure.width*(1-this._thumbHeight)*.5,this._currentMeasure.top+b,this._currentMeasure.width*this._thumbHeight,
this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+b,this._currentMeasure.top+this._currentMeasure.height*(1-this._thumbHeight)*.5,this._effectiveThumbThickness,this._currentMeasure.height*this._thumbHeight);this._thumbImage&&(this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(a));a.restore()};a.prototype._updateValueFromPointer=function(a,b){0!=this.rotation&&(this._invertTransformMatrix.transformCoordinates(a,b,this._transformedPosition),
a=this._transformedPosition.x,b=this._transformedPosition.y);this._first&&(this._first=!1,this._originX=a,this._originY=b,a<this._tempMeasure.left||a>this._tempMeasure.left+this._tempMeasure.width||b<this._tempMeasure.top||b>this._tempMeasure.top+this._tempMeasure.height)&&(this.value=this.isVertical?this.minimum+(1-(b-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.minimum+(a-this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum));
this.value+=(this.isVertical?-((b-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness)):(a-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness))*(this.maximum-this.minimum);this._originX=a;this._originY=b};a.prototype._onPointerDown=function(a,b,e,g,m){this._first=!0;return d.prototype._onPointerDown.call(this,a,b,e,g,m)};return a}(l.a)},KTXu:function(l,q,d){var n=d("mrSG"),p=d("TWMH"),r=d("oJzB"),h=d("3C+b"),a=d("+ach"),c=d("YhWr"),b=d("37TA"),e=function(e){function g(a){a=
e.call(this,a)||this;a._freezeControls=!1;a._bucketWidth=0;a._bucketHeight=0;a._buckets={};return a}Object(n.c)(g,e);Object.defineProperty(g.prototype,"freezeControls",{get:function(){return this._freezeControls},set:function(b){if(this._freezeControls!==b){b||this._restoreMeasures();this._freezeControls=!1;var c=this.host.getSize(),f=c.width,e=c.height;c=this.host.getContext();f=new a.a(0,0,f,e);this.host._numLayoutCalls=0;this.host._rootContainer._layout(f,c);b&&(this._updateMeasures(),this._useBuckets()&&
this._makeBuckets());this._freezeControls=b;this.host.markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"bucketWidth",{get:function(){return this._bucketWidth},enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"bucketHeight",{get:function(){return this._bucketHeight},enumerable:!1,configurable:!0});g.prototype.setBucketSizes=function(a,b){this._bucketWidth=a;this._bucketHeight=b;this._useBuckets()?this._freezeControls&&this._makeBuckets():this._buckets=
{}};g.prototype._useBuckets=function(){return 0<this._bucketWidth&&0<this._bucketHeight};g.prototype._makeBuckets=function(){this._buckets={};this._bucketLen=Math.ceil(this.widthInPixels/this._bucketWidth);this._dispatchInBuckets(this._children);this._oldTop=this._oldLeft=null};g.prototype._dispatchInBuckets=function(a){for(var b=0;b<a.length;++b){for(var f=a[b],e=Math.max(0,Math.floor((f._customData._origLeft-this._customData.origLeft)/this._bucketWidth)),g=Math.floor((f._customData._origLeft-this._customData.origLeft+
f._currentMeasure.width-1)/this._bucketWidth),d=Math.max(0,Math.floor((f._customData._origTop-this._customData.origTop)/this._bucketHeight)),k=Math.floor((f._customData._origTop-this._customData.origTop+f._currentMeasure.height-1)/this._bucketHeight);d<=k;){for(var m=e;m<=g;++m){var h=d*this._bucketLen+m,t=this._buckets[h];t||(t=[],this._buckets[h]=t);t.push(f)}d++}f instanceof c.a&&0<f._children.length&&this._dispatchInBuckets(f._children)}};g.prototype._updateMeasures=function(){var a=this.leftInPixels|
0,b=this.topInPixels|0;this._measureForChildren.left-=a;this._measureForChildren.top-=b;this._currentMeasure.left-=a;this._currentMeasure.top-=b;this._customData.origLeftForChildren=this._measureForChildren.left;this._customData.origTopForChildren=this._measureForChildren.top;this._customData.origLeft=this._currentMeasure.left;this._customData.origTop=this._currentMeasure.top;this._updateChildrenMeasures(this._children,a,b)};g.prototype._updateChildrenMeasures=function(a,b,e){for(var f=0;f<a.length;++f){var g=
a[f];g._currentMeasure.left-=b;g._currentMeasure.top-=e;g._customData._origLeft=g._currentMeasure.left;g._customData._origTop=g._currentMeasure.top;g instanceof c.a&&0<g._children.length&&this._updateChildrenMeasures(g._children,b,e)}};g.prototype._restoreMeasures=function(){var a=this.leftInPixels|0,b=this.topInPixels|0;this._measureForChildren.left=this._customData.origLeftForChildren+a;this._measureForChildren.top=this._customData.origTopForChildren+b;this._currentMeasure.left=this._customData.origLeft+
a;this._currentMeasure.top=this._customData.origTop+b};g.prototype._getTypeName=function(){return"ScrollViewerWindow"};g.prototype._additionalProcessing=function(a,b){e.prototype._additionalProcessing.call(this,a,b);this._parentMeasure=a;this._measureForChildren.left=this._currentMeasure.left;this._measureForChildren.top=this._currentMeasure.top;this._measureForChildren.width=a.width;this._measureForChildren.height=a.height};g.prototype._layout=function(a,b){return this._freezeControls?(this.invalidateRect(),
!1):e.prototype._layout.call(this,a,b)};g.prototype._scrollChildren=function(a,b,e){for(var f=0;f<a.length;++f){var g=a[f];g._currentMeasure.left=g._customData._origLeft+b;g._currentMeasure.top=g._customData._origTop+e;g._isClipped=!1;g instanceof c.a&&0<g._children.length&&this._scrollChildren(g._children,b,e)}};g.prototype._scrollChildrenWithBuckets=function(a,b,c,e){var f=Math.max(0,Math.floor(-a/this._bucketWidth));a=Math.floor((-a+this._parentMeasure.width-1)/this._bucketWidth);var g=Math.max(0,
Math.floor(-b/this._bucketHeight));for(b=Math.floor((-b+this._parentMeasure.height-1)/this._bucketHeight);g<=b;){for(var d=f;d<=a;++d){var k=this._buckets[g*this._bucketLen+d];if(k)for(var m=0;m<k.length;++m){var h=k[m];h._currentMeasure.left=h._customData._origLeft+c;h._currentMeasure.top=h._customData._origTop+e;h._isClipped=!1}}g++}};g.prototype._draw=function(a,b){if(this._freezeControls){this._localDraw(a);this.clipChildren&&this._clipForChildren(a);b=this.leftInPixels|0;var c=this.topInPixels|
0;this._useBuckets()?null!==this._oldLeft&&null!==this._oldTop?(this._scrollChildrenWithBuckets(this._oldLeft,this._oldTop,b,c),this._scrollChildrenWithBuckets(b,c,b,c)):this._scrollChildren(this._children,b,c):this._scrollChildren(this._children,b,c);this._oldLeft=b;this._oldTop=c;b=0;for(c=this._children;b<c.length;b++){var f=c[b];f._intersectsRect(this._parentMeasure)&&f._render(a,this._parentMeasure)}}else e.prototype._draw.call(this,a,b)};g.prototype._postMeasure=function(){if(!this._freezeControls){for(var a=
this.parentClientWidth,c=this.parentClientHeight,g=0,d=this.children;g<d.length;g++){var k=d[g];k.isVisible&&!k.notRenderable&&(k.horizontalAlignment===h.a.HORIZONTAL_ALIGNMENT_CENTER&&k._offsetLeft(this._currentMeasure.left-k._currentMeasure.left),k.verticalAlignment===h.a.VERTICAL_ALIGNMENT_CENTER&&k._offsetTop(this._currentMeasure.top-k._currentMeasure.top),a=Math.max(a,k._currentMeasure.left-this._currentMeasure.left+k._currentMeasure.width+k.paddingRightInPixels),c=Math.max(c,k._currentMeasure.top-
this._currentMeasure.top+k._currentMeasure.height+k.paddingBottomInPixels))}this._currentMeasure.width!==a&&(this._width.updateInPlace(a,b.a.UNITMODE_PIXEL),this._currentMeasure.width=a,this._isDirty=this._rebuildLayout=!0);this._currentMeasure.height!==c&&(this._height.updateInPlace(c,b.a.UNITMODE_PIXEL),this._currentMeasure.height=c,this._isDirty=this._rebuildLayout=!0)}e.prototype._postMeasure.call(this)};return g}(c.a),g=d("VWNO"),m=d("K1g3");l=d("WHS4");q=function(a){function b(b,c){var f=a.call(this,
b)||this;f._barSize=20;f._pointerIsOver=!1;f._wheelPrecision=.05;f._thumbLength=.5;f._thumbHeight=1;f._barImageHeight=1;f._horizontalBarImageHeight=1;f._verticalBarImageHeight=1;f._oldWindowContentsWidth=0;f._oldWindowContentsHeight=0;f._forceHorizontalBar=!1;f._forceVerticalBar=!1;f._useImageBar=c?c:!1;f.onDirtyObservable.add(function(){f._horizontalBarSpace.color=f.color;f._verticalBarSpace.color=f.color;f._dragSpace.color=f.color});f.onPointerEnterObservable.add(function(){f._pointerIsOver=!0});
f.onPointerOutObservable.add(function(){f._pointerIsOver=!1});f._grid=new r.a;f._useImageBar?(f._horizontalBar=new m.a,f._verticalBar=new m.a):(f._horizontalBar=new g.a,f._verticalBar=new g.a);f._window=new e("scrollViewer_window");f._window.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;f._window.verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;f._grid.addColumnDefinition(1);f._grid.addColumnDefinition(0,!0);f._grid.addRowDefinition(1);f._grid.addRowDefinition(0,!0);a.prototype.addControl.call(f,
f._grid);f._grid.addControl(f._window,0,0);f._verticalBarSpace=new p.a;f._verticalBarSpace.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;f._verticalBarSpace.verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;f._verticalBarSpace.thickness=1;f._grid.addControl(f._verticalBarSpace,0,1);f._addBar(f._verticalBar,f._verticalBarSpace,!0,Math.PI);f._horizontalBarSpace=new p.a;f._horizontalBarSpace.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;f._horizontalBarSpace.verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;
f._horizontalBarSpace.thickness=1;f._grid.addControl(f._horizontalBarSpace,1,0);f._addBar(f._horizontalBar,f._horizontalBarSpace,!1,0);f._dragSpace=new p.a;f._dragSpace.thickness=1;f._grid.addControl(f._dragSpace,1,1);f._useImageBar||(f.barColor="grey",f.barBackground="transparent");return f}Object(n.c)(b,a);Object.defineProperty(b.prototype,"horizontalBar",{get:function(){return this._horizontalBar},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"verticalBar",{get:function(){return this._verticalBar},
enumerable:!1,configurable:!0});b.prototype.addControl=function(a){if(!a)return this;this._window.addControl(a);return this};b.prototype.removeControl=function(a){this._window.removeControl(a);return this};Object.defineProperty(b.prototype,"children",{get:function(){return this._window.children},enumerable:!1,configurable:!0});b.prototype._flagDescendantsAsMatrixDirty=function(){for(var a=0,b=this._children;a<b.length;a++)b[a]._markMatrixAsDirty()};Object.defineProperty(b.prototype,"freezeControls",
{get:function(){return this._window.freezeControls},set:function(a){this._window.freezeControls=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"bucketWidth",{get:function(){return this._window.bucketWidth},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"bucketHeight",{get:function(){return this._window.bucketHeight},enumerable:!1,configurable:!0});b.prototype.setBucketSizes=function(a,b){this._window.setBucketSizes(a,b)};Object.defineProperty(b.prototype,"forceHorizontalBar",
{get:function(){return this._forceHorizontalBar},set:function(a){this._grid.setRowDefinition(1,a?this._barSize:0,!0);this._forceHorizontalBar=this._horizontalBar.isVisible=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"forceVerticalBar",{get:function(){return this._forceVerticalBar},set:function(a){this._grid.setColumnDefinition(1,a?this._barSize:0,!0);this._forceVerticalBar=this._verticalBar.isVisible=a},enumerable:!1,configurable:!0});b.prototype.resetWindow=function(){this._window.width=
"100%";this._window.height="100%"};b.prototype._getTypeName=function(){return"ScrollViewer"};b.prototype._buildClientSizes=function(){var a=this.host.idealRatio;this._window.parentClientWidth=this._currentMeasure.width-(this._verticalBar.isVisible||this.forceVerticalBar?this._barSize*a:0)-2*this.thickness;this._window.parentClientHeight=this._currentMeasure.height-(this._horizontalBar.isVisible||this.forceHorizontalBar?this._barSize*a:0)-2*this.thickness;this._clientWidth=this._window.parentClientWidth;
this._clientHeight=this._window.parentClientHeight};b.prototype._additionalProcessing=function(b,c){a.prototype._additionalProcessing.call(this,b,c);this._buildClientSizes()};b.prototype._postMeasure=function(){a.prototype._postMeasure.call(this);this._updateScroller();this._setWindowPosition(!1)};Object.defineProperty(b.prototype,"wheelPrecision",{get:function(){return this._wheelPrecision},set:function(a){this._wheelPrecision!==a&&(0>a&&(a=0),1<a&&(a=1),this._wheelPrecision=a)},enumerable:!1,configurable:!0});
Object.defineProperty(b.prototype,"scrollBackground",{get:function(){return this._horizontalBarSpace.background},set:function(a){this._horizontalBarSpace.background!==a&&(this._horizontalBarSpace.background=a,this._verticalBarSpace.background=a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"barColor",{get:function(){return this._barColor},set:function(a){this._barColor!==a&&(this._barColor=a,this._horizontalBar.color=a,this._verticalBar.color=a)},enumerable:!1,configurable:!0});
Object.defineProperty(b.prototype,"thumbImage",{get:function(){return this._barImage},set:function(a){if(this._barImage!==a){this._barImage=a;var b=this._verticalBar;this._horizontalBar.thumbImage=a;b.thumbImage=a}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"horizontalThumbImage",{get:function(){return this._horizontalBarImage},set:function(a){this._horizontalBarImage!==a&&(this._horizontalBarImage=a,this._horizontalBar.thumbImage=a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"verticalThumbImage",{get:function(){return this._verticalBarImage},set:function(a){this._verticalBarImage!==a&&(this._verticalBarImage=a,this._verticalBar.thumbImage=a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"barSize",{get:function(){return this._barSize},set:function(a){this._barSize!==a&&(this._barSize=a,this._markAsDirty(),this._horizontalBar.isVisible&&this._grid.setRowDefinition(1,this._barSize,!0),this._verticalBar.isVisible&&this._grid.setColumnDefinition(1,this._barSize,
!0))},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"thumbLength",{get:function(){return this._thumbLength},set:function(a){if(this._thumbLength!==a){0>=a&&(a=.1);1<a&&(a=1);this._thumbLength=a;var b=this._verticalBar;this._horizontalBar.thumbLength=a;b.thumbLength=a;this._markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"thumbHeight",{get:function(){return this._thumbHeight},set:function(a){if(this._thumbHeight!==a){0>=a&&(a=.1);1<a&&(a=1);this._thumbHeight=
a;var b=this._verticalBar;this._horizontalBar.thumbHeight=a;b.thumbHeight=a;this._markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"barImageHeight",{get:function(){return this._barImageHeight},set:function(a){if(this._barImageHeight!==a){0>=a&&(a=.1);1<a&&(a=1);this._barImageHeight=a;var b=this._verticalBar;this._horizontalBar.barImageHeight=a;b.barImageHeight=a;this._markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"horizontalBarImageHeight",
{get:function(){return this._horizontalBarImageHeight},set:function(a){this._horizontalBarImageHeight!==a&&(0>=a&&(a=.1),1<a&&(a=1),this._horizontalBarImageHeight=a,this._horizontalBar.barImageHeight=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"verticalBarImageHeight",{get:function(){return this._verticalBarImageHeight},set:function(a){this._verticalBarImageHeight!==a&&(0>=a&&(a=.1),1<a&&(a=1),this._verticalBarImageHeight=a,this._verticalBar.barImageHeight=
a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"barBackground",{get:function(){return this._barBackground},set:function(a){if(this._barBackground!==a){this._barBackground=a;var b=this._verticalBar;this._horizontalBar.background=a;b.background=a;this._dragSpace.background=a}},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"barImage",{get:function(){return this._barBackgroundImage},set:function(a){this._barBackgroundImage=a;var b=this._verticalBar;
this._horizontalBar.backgroundImage=a;b.backgroundImage=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"horizontalBarImage",{get:function(){return this._horizontalBarBackgroundImage},set:function(a){this._horizontalBarBackgroundImage=a;this._horizontalBar.backgroundImage=a},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"verticalBarImage",{get:function(){return this._verticalBarBackgroundImage},set:function(a){this._verticalBarBackgroundImage=a;this._verticalBar.backgroundImage=
a},enumerable:!1,configurable:!0});b.prototype._setWindowPosition=function(a){void 0===a&&(a=!0);var b=this.host.idealRatio,c=this._window._currentMeasure.width,e=this._window._currentMeasure.height;if(a||this._oldWindowContentsWidth!==c||this._oldWindowContentsHeight!==e)this._oldWindowContentsWidth=c,this._oldWindowContentsHeight=e,a=this._horizontalBar.value/b*(this._clientWidth-c)+"px",b=this._verticalBar.value/b*(this._clientHeight-e)+"px",a!==this._window.left&&(this._window.left=a,this.freezeControls||
(this._rebuildLayout=!0)),b!==this._window.top&&(this._window.top=b,this.freezeControls||(this._rebuildLayout=!0))};b.prototype._updateScroller=function(){var a=this._window._currentMeasure.width,b=this._window._currentMeasure.height;this._horizontalBar.isVisible&&a<=this._clientWidth&&!this.forceHorizontalBar?(this._grid.setRowDefinition(1,0,!0),this._horizontalBar.isVisible=!1,this._horizontalBar.value=0,this._rebuildLayout=!0):!this._horizontalBar.isVisible&&(a>this._clientWidth||this.forceHorizontalBar)&&
(this._grid.setRowDefinition(1,this._barSize,!0),this._rebuildLayout=this._horizontalBar.isVisible=!0);this._verticalBar.isVisible&&b<=this._clientHeight&&!this.forceVerticalBar?(this._grid.setColumnDefinition(1,0,!0),this._verticalBar.isVisible=!1,this._verticalBar.value=0,this._rebuildLayout=!0):!this._verticalBar.isVisible&&(b>this._clientHeight||this.forceVerticalBar)&&(this._grid.setColumnDefinition(1,this._barSize,!0),this._rebuildLayout=this._verticalBar.isVisible=!0);this._buildClientSizes();
a=this.host.idealRatio;this._horizontalBar.thumbWidth=this._clientWidth/a*this._thumbLength*.9+"px";this._verticalBar.thumbWidth=this._clientHeight/a*this._thumbLength*.9+"px"};b.prototype._link=function(b){a.prototype._link.call(this,b);this._attachWheel()};b.prototype._addBar=function(a,b,c,e){var g=this;a.paddingLeft=0;a.width="100%";a.height="100%";a.barOffset=0;a.value=0;a.maximum=1;a.horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_CENTER;a.verticalAlignment=h.a.VERTICAL_ALIGNMENT_CENTER;a.isVertical=
c;a.rotation=e;a.isVisible=!1;b.addControl(a);a.onValueChangedObservable.add(function(a){g._setWindowPosition()})};b.prototype._attachWheel=function(){var a=this;this._host&&!this._onWheelObserver&&(this._onWheelObserver=this.onWheelObservable.add(function(b){a._pointerIsOver&&(1==a._verticalBar.isVisible&&(0>b.y&&0<a._verticalBar.value?a._verticalBar.value-=a._wheelPrecision:0<b.y&&a._verticalBar.value<a._verticalBar.maximum&&(a._verticalBar.value+=a._wheelPrecision)),1==a._horizontalBar.isVisible&&
(0>b.x&&a._horizontalBar.value<a._horizontalBar.maximum?a._horizontalBar.value+=a._wheelPrecision:0<b.x&&0<a._horizontalBar.value&&(a._horizontalBar.value-=a._wheelPrecision)))}))};b.prototype._renderHighlightSpecific=function(b){this.isHighlighted&&(a.prototype._renderHighlightSpecific.call(this,b),this._grid._renderHighlightSpecific(b),b.restore())};b.prototype.dispose=function(){this.onWheelObservable.remove(this._onWheelObserver);this._onWheelObserver=null;a.prototype.dispose.call(this)};return b}(p.a);
l.a.RegisteredTypes["BABYLON.GUI.ScrollViewer"]=q},NipH:function(l,q,d){d.d(q,"a",function(){return p});var n=d("mrSG"),p=function(){function d(){}Object.defineProperty(d.prototype,"text",{get:function(){return this._characters?this._characters.join(""):this._text},set:function(d){this._text=d;this._characters=Array.from&&Array.from(d)},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"length",{get:function(){return this._characters?this._characters.length:this._text.length},enumerable:!1,
configurable:!0});d.prototype.removePart=function(d,a,c){var b;this._text=this._text.slice(0,d)+(c?c:"")+this._text.slice(a);this._characters&&(c=c?Array.from(c):[],(b=this._characters).splice.apply(b,Object(n.d)([d,a-d],c)))};d.prototype.charAt=function(d){return this._characters?this._characters[d]:this._text.charAt(d)};d.prototype.substr=function(d,a){if(this._characters){d=isNaN(d)?0:0<=d?Math.min(d,this._characters.length):this._characters.length+Math.max(d,-this._characters.length);void 0===
a?a=this._characters.length-d:isNaN(a)?a=0:0>a&&(a=0);for(var c=[];0<=--a;)c[a]=this._characters[d+a];return c.join("")}return this._text.substr(d,a)};d.prototype.substring=function(d,a){if(this._characters){isNaN(d)?d=0:d>this._characters.length?d=this._characters.length:0>d&&(d=0);void 0===a?a=this._characters.length:isNaN(a)?a=0:a>this._characters.length?a=this._characters.length:0>a&&(a=0);for(var c=[],b=0;d<a;)c[b++]=this._characters[d++];return c.join("")}return this._text.substring(d,a)};d.prototype.isWord=
function(d){var a=/\w/g;return this._characters?-1!==this._characters[d].search(a):-1!==this._text.search(a)};return d}()},TWMH:function(l,q,d){d.d(q,"a",function(){return p});var n=d("mrSG");l=d("YhWr");d=d("WHS4");var p=function(d){function h(a){var c=d.call(this,a)||this;c.name=a;c._thickness=1;c._cornerRadius=0;return c}Object(n.c)(h,d);Object.defineProperty(h.prototype,"thickness",{get:function(){return this._thickness},set:function(a){this._thickness!==a&&(this._thickness=a,this._markAsDirty())},
enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"cornerRadius",{get:function(){return this._cornerRadius},set:function(a){0>a&&(a=0);this._cornerRadius!==a&&(this._cornerRadius=a,this._markAsDirty())},enumerable:!1,configurable:!0});h.prototype._getTypeName=function(){return"Rectangle"};h.prototype._localDraw=function(a){a.save();if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,
a.shadowOffsetY=this.shadowOffsetY;this._background&&(a.fillStyle=this._background,this._cornerRadius?(this._drawRoundedRect(a,this._thickness/2),a.fill()):a.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height));if(this._thickness){if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;this.color&&(a.strokeStyle=this.color);a.lineWidth=this._thickness;this._cornerRadius?(this._drawRoundedRect(a,
this._thickness/2),a.stroke()):a.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness)}a.restore()};h.prototype._additionalProcessing=function(a,c){d.prototype._additionalProcessing.call(this,a,c);this._measureForChildren.width-=2*this._thickness;this._measureForChildren.height-=2*this._thickness;this._measureForChildren.left+=this._thickness;this._measureForChildren.top+=
this._thickness};h.prototype._drawRoundedRect=function(a,c){void 0===c&&(c=0);var b=this._currentMeasure.left+c,e=this._currentMeasure.top+c,g=this._currentMeasure.width-2*c;c=this._currentMeasure.height-2*c;var d=Math.min(c/2-2,Math.min(g/2-2,this._cornerRadius));a.beginPath();a.moveTo(b+d,e);a.lineTo(b+g-d,e);a.quadraticCurveTo(b+g,e,b+g,e+d);a.lineTo(b+g,e+c-d);a.quadraticCurveTo(b+g,e+c,b+g-d,e+c);a.lineTo(b+d,e+c);a.quadraticCurveTo(b,e+c,b,e+c-d);a.lineTo(b,e+d);a.quadraticCurveTo(b,e,b+d,e);
a.closePath()};h.prototype._clipForChildren=function(a){this._cornerRadius&&(this._drawRoundedRect(a,this._thickness),a.clip())};return h}(l.a);d.a.RegisteredTypes["BABYLON.GUI.Rectangle"]=p},VWNO:function(l,q,d){d.d(q,"a",function(){return r});var n=d("mrSG");l=d("7N4q");var p=d("+ach"),r=function(d){function a(a){var b=d.call(this,a)||this;b.name=a;b._background="black";b._borderColor="white";b._tempMeasure=new p.a(0,0,0,0);return b}Object(n.c)(a,d);Object.defineProperty(a.prototype,"borderColor",
{get:function(){return this._borderColor},set:function(a){this._borderColor!==a&&(this._borderColor=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"background",{get:function(){return this._background},set:function(a){this._background!==a&&(this._background=a,this._markAsDirty())},enumerable:!1,configurable:!0});a.prototype._getTypeName=function(){return"Scrollbar"};a.prototype._getThumbThickness=function(){return this._thumbWidth.isPixel?this._thumbWidth.getValue(this._host):
this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)};a.prototype._draw=function(a){a.save();this._applyStates(a);this._prepareRenderingData("rectangle");var b=this._renderLeft,c=this._getThumbPosition();a.fillStyle=this._background;a.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);a.fillStyle=this.color;this.isVertical?(this._tempMeasure.left=b-this._effectiveBarOffset,this._tempMeasure.top=this._currentMeasure.top+
c,this._tempMeasure.width=this._currentMeasure.width,this._tempMeasure.height=this._effectiveThumbThickness):(this._tempMeasure.left=this._currentMeasure.left+c,this._tempMeasure.top=this._currentMeasure.top,this._tempMeasure.width=this._effectiveThumbThickness,this._tempMeasure.height=this._currentMeasure.height);a.fillRect(this._tempMeasure.left,this._tempMeasure.top,this._tempMeasure.width,this._tempMeasure.height);a.restore()};a.prototype._updateValueFromPointer=function(a,b){0!=this.rotation&&
(this._invertTransformMatrix.transformCoordinates(a,b,this._transformedPosition),a=this._transformedPosition.x,b=this._transformedPosition.y);this._first&&(this._first=!1,this._originX=a,this._originY=b,a<this._tempMeasure.left||a>this._tempMeasure.left+this._tempMeasure.width||b<this._tempMeasure.top||b>this._tempMeasure.top+this._tempMeasure.height)&&(this.value=this.isVertical?this.minimum+(1-(b-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.minimum+(a-
this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum));this.value+=(this.isVertical?-((b-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness)):(a-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness))*(this.maximum-this.minimum);this._originX=a;this._originY=b};a.prototype._onPointerDown=function(a,b,e,g,m){this._first=!0;return d.prototype._onPointerDown.call(this,a,b,e,g,m)};return a}(l.a)},aIpi:function(l,q,d){var n=d("mrSG"),
p=d("ikaq"),r=d("3C+b"),h=d("0nI6");l=d("WHS4");q=function(a){function c(b){var c=a.call(this,b)||this;c.name=b;c._lineWidth=1;c.onPointUpdate=function(){c._markAsDirty()};c._automaticSize=!0;c.isHitTestVisible=!1;c._horizontalAlignment=r.a.HORIZONTAL_ALIGNMENT_LEFT;c._verticalAlignment=r.a.VERTICAL_ALIGNMENT_TOP;c._dash=[];c._points=[];return c}Object(n.c)(c,a);Object.defineProperty(c.prototype,"dash",{get:function(){return this._dash},set:function(a){this._dash!==a&&(this._dash=a,this._markAsDirty())},
enumerable:!1,configurable:!0});c.prototype.getAt=function(a){this._points[a]||(this._points[a]=new h.a(this));return this._points[a]};c.prototype.add=function(){for(var a=this,c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return c.map(function(b){return a.push(b)})};c.prototype.push=function(a){var b=this.getAt(this._points.length);if(null==a)return b;a instanceof p.a?b.mesh=a:a instanceof r.a?b.control=a:null!=a.x&&null!=a.y&&(b.x=a.x,b.y=a.y);return b};c.prototype.remove=function(a){if(a instanceof
h.a&&(a=this._points.indexOf(a),-1===a))return;var b=this._points[a];b&&(b.dispose(),this._points.splice(a,1))};c.prototype.reset=function(){for(;0<this._points.length;)this.remove(this._points.length-1)};c.prototype.resetLinks=function(){this._points.forEach(function(a){null!=a&&a.resetLinks()})};Object.defineProperty(c.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(a){this._lineWidth!==a&&(this._lineWidth=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"horizontalAlignment",{set:function(a){},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"verticalAlignment",{set:function(a){},enumerable:!1,configurable:!0});c.prototype._getTypeName=function(){return"MultiLine"};c.prototype._draw=function(a,c){a.save();if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY;this._applyStates(a);a.strokeStyle=this.color;
a.lineWidth=this._lineWidth;a.setLineDash(this._dash);a.beginPath();var b=!0,e;this._points.forEach(function(c){c&&(b?(a.moveTo(c._point.x,c._point.y),b=!1):1>c._point.z&&1>e.z?a.lineTo(c._point.x,c._point.y):a.moveTo(c._point.x,c._point.y),e=c._point)});a.stroke();a.restore()};c.prototype._additionalProcessing=function(a,c){var b=this;this._maxY=this._maxX=this._minY=this._minX=null;this._points.forEach(function(a,c){if(a){a.translate();if(null==b._minX||a._point.x<b._minX)b._minX=a._point.x;if(null==
b._minY||a._point.y<b._minY)b._minY=a._point.y;if(null==b._maxX||a._point.x>b._maxX)b._maxX=a._point.x;if(null==b._maxY||a._point.y>b._maxY)b._maxY=a._point.y}});null==this._minX&&(this._minX=0);null==this._minY&&(this._minY=0);null==this._maxX&&(this._maxX=0);null==this._maxY&&(this._maxY=0)};c.prototype._measure=function(){null!=this._minX&&null!=this._maxX&&null!=this._minY&&null!=this._maxY&&(this._currentMeasure.width=Math.abs(this._maxX-this._minX)+this._lineWidth,this._currentMeasure.height=
Math.abs(this._maxY-this._minY)+this._lineWidth)};c.prototype._computeAlignment=function(a,c){null!=this._minX&&null!=this._minY&&(this._currentMeasure.left=this._minX-this._lineWidth/2,this._currentMeasure.top=this._minY-this._lineWidth/2)};c.prototype.dispose=function(){this.reset();a.prototype.dispose.call(this)};return c}(r.a);l.a.RegisteredTypes["BABYLON.GUI.MultiLine"]=q},cC23:function(l,q,d){var n=d("mrSG");l=d("7N4q");var p=d("+ach");d=d("WHS4");l=function(d){function h(a){var c=d.call(this,
a)||this;c.name=a;c._tempMeasure=new p.a(0,0,0,0);return c}Object(n.c)(h,d);Object.defineProperty(h.prototype,"displayThumb",{get:function(){return this._displayThumb&&null!=this.thumbImage},set:function(a){this._displayThumb!==a&&(this._displayThumb=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(a){var c=this;this._backgroundImage!==a&&((this._backgroundImage=a)&&!a.isLoaded&&a.onImageLoadedObservable.addOnce(function(){return c._markAsDirty()}),
this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"valueBarImage",{get:function(){return this._valueBarImage},set:function(a){var c=this;this._valueBarImage!==a&&((this._valueBarImage=a)&&!a.isLoaded&&a.onImageLoadedObservable.addOnce(function(){return c._markAsDirty()}),this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"thumbImage",{get:function(){return this._thumbImage},set:function(a){var c=this;this._thumbImage!==a&&
((this._thumbImage=a)&&!a.isLoaded&&a.onImageLoadedObservable.addOnce(function(){return c._markAsDirty()}),this._markAsDirty())},enumerable:!1,configurable:!0});h.prototype._getTypeName=function(){return"ImageBasedSlider"};h.prototype._draw=function(a,c){a.save();this._applyStates(a);this._prepareRenderingData("rectangle");c=this._getThumbPosition();var b=this._renderLeft,e=this._renderTop,g=this._renderWidth,d=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(b,e,g,d),this.isThumbClamped&&
this.displayThumb&&(this.isVertical?this._tempMeasure.height+=this._effectiveThumbThickness:this._tempMeasure.width+=this._effectiveThumbThickness),this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure),this._backgroundImage._draw(a));this._valueBarImage&&(this.isVertical?this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(b,e+c,g,d-c+this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(b,e+c,g,d-c):this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(b,
e,c+this._effectiveThumbThickness/2,d):this._tempMeasure.copyFromFloats(b,e,c,d),this._valueBarImage._currentMeasure.copyFrom(this._tempMeasure),this._valueBarImage._draw(a));this.displayThumb&&(this.isVertical?this._tempMeasure.copyFromFloats(b-this._effectiveBarOffset,this._currentMeasure.top+c,this._currentMeasure.width,this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+c,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height),
this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(a));a.restore()};return h}(l.a);d.a.RegisteredTypes["BABYLON.GUI.ImageBasedSlider"]=l},dMrP:function(l,q,d){d.d(q,"a",function(){return p});var n=d("mrSG");l=d("7N4q");d=d("WHS4");var p=function(d){function h(a){var c=d.call(this,a)||this;c.name=a;c._background="black";c._borderColor="white";c._thumbColor="";c._isThumbCircle=!1;c._displayValueBar=!0;return c}Object(n.c)(h,d);Object.defineProperty(h.prototype,"displayValueBar",
{get:function(){return this._displayValueBar},set:function(a){this._displayValueBar!==a&&(this._displayValueBar=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"borderColor",{get:function(){return this._borderColor},set:function(a){this._borderColor!==a&&(this._borderColor=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"background",{get:function(){return this._background},set:function(a){this._background!==a&&(this._background=
a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"thumbColor",{get:function(){return this._thumbColor},set:function(a){this._thumbColor!==a&&(this._thumbColor=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"isThumbCircle",{get:function(){return this._isThumbCircle},set:function(a){this._isThumbCircle!==a&&(this._isThumbCircle=a,this._markAsDirty())},enumerable:!1,configurable:!0});h.prototype._getTypeName=function(){return"Slider"};
h.prototype._draw=function(a,c){a.save();this._applyStates(a);this._prepareRenderingData(this.isThumbCircle?"circle":"rectangle");c=this._renderLeft;var b=this._renderTop,e=this._renderWidth,g=this._renderHeight;if(this.isThumbClamped&&this.isThumbCircle){this.isVertical?b+=this._effectiveThumbThickness/2:c+=this._effectiveThumbThickness/2;var d=this._backgroundBoxThickness/2}else d=(this._effectiveThumbThickness-this._effectiveBarOffset)/2;if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowColor=
this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY;var k=this._getThumbPosition();a.fillStyle=this._background;this.isVertical?this.isThumbClamped?this.isThumbCircle?(a.beginPath(),a.arc(c+this._backgroundBoxThickness/2,b,d,Math.PI,2*Math.PI),a.fill(),a.fillRect(c,b,e,g)):a.fillRect(c,b,e,g+this._effectiveThumbThickness):a.fillRect(c,b,e,g):this.isThumbClamped?this.isThumbCircle?(a.beginPath(),a.arc(c+this._backgroundBoxLength,b+this._backgroundBoxThickness/
2,d,0,2*Math.PI),a.fill(),a.fillRect(c,b,e,g)):a.fillRect(c,b,e+this._effectiveThumbThickness,g):a.fillRect(c,b,e,g);if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;a.fillStyle=this.color;this._displayValueBar&&(this.isVertical?this.isThumbClamped?this.isThumbCircle?(a.beginPath(),a.arc(c+this._backgroundBoxThickness/2,b+this._backgroundBoxLength,d,0,2*Math.PI),a.fill(),a.fillRect(c,b+k,e,g-k)):a.fillRect(c,b+k,e,g-k+this._effectiveThumbThickness):
a.fillRect(c,b+k,e,g-k):(this.isThumbClamped&&this.isThumbCircle&&(a.beginPath(),a.arc(c,b+this._backgroundBoxThickness/2,d,0,2*Math.PI),a.fill()),a.fillRect(c,b,k,g)));a.fillStyle=this._thumbColor||this.color;if(this.displayThumb){if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY;if(this._isThumbCircle){a.beginPath();this.isVertical?a.arc(c+this._backgroundBoxThickness/
2,b+k,d,0,2*Math.PI):a.arc(c+k,b+this._backgroundBoxThickness/2,d,0,2*Math.PI);a.fill();if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;a.strokeStyle=this._borderColor;a.stroke()}else{this.isVertical?a.fillRect(c-this._effectiveBarOffset,this._currentMeasure.top+k,this._currentMeasure.width,this._effectiveThumbThickness):a.fillRect(this._currentMeasure.left+k,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height);
if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;a.strokeStyle=this._borderColor;this.isVertical?a.strokeRect(c-this._effectiveBarOffset,this._currentMeasure.top+k,this._currentMeasure.width,this._effectiveThumbThickness):a.strokeRect(this._currentMeasure.left+k,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height)}}a.restore()};return h}(l.a);d.a.RegisteredTypes["BABYLON.GUI.Slider"]=p},itOL:function(l,q,d){var n=
d("3C+b"),p=d("mzVJ"),r=d("wxg5");n.a.AddHeader=function(d,a,c,b){var e=new p.a("panel"),g=b?b.isHorizontal:!0;b=b?b.controlFirst:!0;e.isVertical=!g;var m=new r.a("header");m.text=a;m.textHorizontalAlignment=n.a.HORIZONTAL_ALIGNMENT_LEFT;g?m.width=c:m.height=c;b?(e.addControl(d),e.addControl(m),m.paddingLeft="5px"):(e.addControl(m),e.addControl(d),m.paddingRight="5px");m.shadowBlur=d.shadowBlur;m.shadowColor=d.shadowColor;m.shadowOffsetX=d.shadowOffsetX;m.shadowOffsetY=d.shadowOffsetY;return e}},
mzVJ:function(l,q,d){d.d(q,"a",function(){return h});var n=d("mrSG"),p=d("YKqZ");l=d("YhWr");var r=d("3C+b");d=d("WHS4");var h=function(a){function c(b){var c=a.call(this,b)||this;c.name=b;c._isVertical=!0;c._manualWidth=!1;c._manualHeight=!1;c._doNotTrackManualChanges=!1;c.ignoreLayoutWarnings=!1;return c}Object(n.c)(c,a);Object.defineProperty(c.prototype,"isVertical",{get:function(){return this._isVertical},set:function(a){this._isVertical!==a&&(this._isVertical=a,this._markAsDirty())},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this._width.toString(this._host)},set:function(a){this._doNotTrackManualChanges||(this._manualWidth=!0);this._width.toString(this._host)!==a&&this._width.fromString(a)&&this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._height.toString(this._host)},set:function(a){this._doNotTrackManualChanges||(this._manualHeight=!0);this._height.toString(this._host)!==
a&&this._height.fromString(a)&&this._markAsDirty()},enumerable:!1,configurable:!0});c.prototype._getTypeName=function(){return"StackPanel"};c.prototype._preMeasure=function(b,c){for(var e=0,d=this._children;e<d.length;e++){var k=d[e];this._isVertical?k.verticalAlignment=r.a.VERTICAL_ALIGNMENT_TOP:k.horizontalAlignment=r.a.HORIZONTAL_ALIGNMENT_LEFT}a.prototype._preMeasure.call(this,b,c)};c.prototype._additionalProcessing=function(b,c){a.prototype._additionalProcessing.call(this,b,c);this._measureForChildren.copyFrom(b);
this._measureForChildren.left=this._currentMeasure.left;this._measureForChildren.top=this._currentMeasure.top;if(!this.isVertical||this._manualWidth)this._measureForChildren.width=this._currentMeasure.width;if(this.isVertical||this._manualHeight)this._measureForChildren.height=this._currentMeasure.height};c.prototype._postMeasure=function(){for(var b=0,c=0,d=0,m=this._children;d<m.length;d++){var k=m[d];k.isVisible&&!k.notRenderable&&(this._isVertical?(k.top!==c+"px"&&(k.top=c+"px",this._rebuildLayout=
!0,k._top.ignoreAdaptiveScaling=!0),k._height.isPercentage&&!k._automaticSize?this.ignoreLayoutWarnings||p.b.Warn("Control (Name:"+k.name+", UniqueId:"+k.uniqueId+") is using height in percentage mode inside a vertical StackPanel"):c+=k._currentMeasure.height+k.paddingTopInPixels+k.paddingBottomInPixels):(k.left!==b+"px"&&(k.left=b+"px",this._rebuildLayout=!0,k._left.ignoreAdaptiveScaling=!0),k._width.isPercentage&&!k._automaticSize?this.ignoreLayoutWarnings||p.b.Warn("Control (Name:"+k.name+", UniqueId:"+
k.uniqueId+") is using width in percentage mode inside a horizontal StackPanel"):b+=k._currentMeasure.width+k.paddingLeftInPixels+k.paddingRightInPixels))}b+=this.paddingLeftInPixels+this.paddingRightInPixels;c+=this.paddingTopInPixels+this.paddingBottomInPixels;this._doNotTrackManualChanges=!0;m=d=!1;!this._manualHeight&&this._isVertical&&(m=this.height,this.height=c+"px",m=m!==this.height||!this._height.ignoreAdaptiveScaling);this._manualWidth||this._isVertical||(c=this.width,this.width=b+"px",
d=c!==this.width||!this._width.ignoreAdaptiveScaling);m&&(this._height.ignoreAdaptiveScaling=!0);d&&(this._width.ignoreAdaptiveScaling=!0);this._doNotTrackManualChanges=!1;if(d||m)this._rebuildLayout=!0;a.prototype._postMeasure.call(this)};return c}(l.a);d.a.RegisteredTypes["BABYLON.GUI.StackPanel"]=h},tQRj:function(l,q,d){var n=d("mrSG"),p=d("/SR9"),r=d("YKqZ"),h=d("3C+b"),a=d("37TA");l=d("WHS4");q=function(c){function b(b){var d=c.call(this,b)||this;d.name=b;d._lineWidth=1;d._x1=new a.a(0);d._y1=
new a.a(0);d._x2=new a.a(0);d._y2=new a.a(0);d._dash=[];d._automaticSize=!0;d.isHitTestVisible=!1;d._horizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_LEFT;d._verticalAlignment=h.a.VERTICAL_ALIGNMENT_TOP;return d}Object(n.c)(b,c);Object.defineProperty(b.prototype,"dash",{get:function(){return this._dash},set:function(a){this._dash!==a&&(this._dash=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"connectedControl",{get:function(){return this._connectedControl},
set:function(a){var b=this;this._connectedControl!==a&&(this._connectedControlDirtyObserver&&this._connectedControl&&(this._connectedControl.onDirtyObservable.remove(this._connectedControlDirtyObserver),this._connectedControlDirtyObserver=null),a&&(this._connectedControlDirtyObserver=a.onDirtyObservable.add(function(){return b._markAsDirty()})),this._connectedControl=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"x1",{get:function(){return this._x1.toString(this._host)},
set:function(a){this._x1.toString(this._host)!==a&&this._x1.fromString(a)&&this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"y1",{get:function(){return this._y1.toString(this._host)},set:function(a){this._y1.toString(this._host)!==a&&this._y1.fromString(a)&&this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"x2",{get:function(){return this._x2.toString(this._host)},set:function(a){this._x2.toString(this._host)!==a&&this._x2.fromString(a)&&
this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"y2",{get:function(){return this._y2.toString(this._host)},set:function(a){this._y2.toString(this._host)!==a&&this._y2.fromString(a)&&this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(a){this._lineWidth!==a&&(this._lineWidth=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,
"horizontalAlignment",{set:function(a){},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"verticalAlignment",{set:function(a){},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"_effectiveX2",{get:function(){return(this._connectedControl?this._connectedControl.centerX:0)+this._x2.getValue(this._host)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"_effectiveY2",{get:function(){return(this._connectedControl?this._connectedControl.centerY:0)+this._y2.getValue(this._host)},
enumerable:!1,configurable:!0});b.prototype._getTypeName=function(){return"Line"};b.prototype._draw=function(a){a.save();if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY;this._applyStates(a);a.strokeStyle=this.color;a.lineWidth=this._lineWidth;a.setLineDash(this._dash);a.beginPath();a.moveTo(this._cachedParentMeasure.left+this._x1.getValue(this._host),this._cachedParentMeasure.top+
this._y1.getValue(this._host));a.lineTo(this._cachedParentMeasure.left+this._effectiveX2,this._cachedParentMeasure.top+this._effectiveY2);a.stroke();a.restore()};b.prototype._measure=function(){this._currentMeasure.width=Math.abs(this._x1.getValue(this._host)-this._effectiveX2)+this._lineWidth;this._currentMeasure.height=Math.abs(this._y1.getValue(this._host)-this._effectiveY2)+this._lineWidth};b.prototype._computeAlignment=function(a,b){this._currentMeasure.left=a.left+Math.min(this._x1.getValue(this._host),
this._effectiveX2)-this._lineWidth/2;this._currentMeasure.top=a.top+Math.min(this._y1.getValue(this._host),this._effectiveY2)-this._lineWidth/2};b.prototype.moveToVector3=function(a,b,c){void 0===c&&(c=!1);if(this._host&&this.parent===this._host._rootContainer){var d=this._host._getGlobalViewport(b);a=p.e.Project(a,p.a.Identity(),b.getTransformMatrix(),d);this._moveToProjectedPosition(a,c);this.notRenderable=0>a.z||1<a.z?!0:!1}else r.b.Error("Cannot move a control to a vector3 if the control is not at root level")};
b.prototype._moveToProjectedPosition=function(a,b){void 0===b&&(b=!1);var c=a.x+this._linkOffsetX.getValue(this._host)+"px";a=a.y+this._linkOffsetY.getValue(this._host)+"px";b?(this.x2=c,this.y2=a,this._x2.ignoreAdaptiveScaling=!0,this._y2.ignoreAdaptiveScaling=!0):(this.x1=c,this.y1=a,this._x1.ignoreAdaptiveScaling=!0,this._y1.ignoreAdaptiveScaling=!0)};return b}(h.a);l.a.RegisteredTypes["BABYLON.GUI.Line"]=q},wxg5:function(l,q,d){d.d(q,"a",function(){return c});var n=d("mrSG"),p=d("ps+7"),r=d("37TA"),
h=d("3C+b");l=d("WHS4");var a;(function(a){a[a.Clip=0]="Clip";a[a.WordWrap=1]="WordWrap";a[a.Ellipsis=2]="Ellipsis"})(a||(a={}));var c=function(b){function c(c,d){void 0===d&&(d="");var g=b.call(this,c)||this;g.name=c;g._text="";g._textWrapping=a.Clip;g._textHorizontalAlignment=h.a.HORIZONTAL_ALIGNMENT_CENTER;g._textVerticalAlignment=h.a.VERTICAL_ALIGNMENT_CENTER;g._resizeToFit=!1;g._lineSpacing=new r.a(0);g._outlineWidth=0;g._outlineColor="white";g._underline=!1;g._lineThrough=!1;g.onTextChangedObservable=
new p.a;g.onLinesReadyObservable=new p.a;g.text=d;return g}Object(n.c)(c,b);Object.defineProperty(c.prototype,"lines",{get:function(){return this._lines},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"resizeToFit",{get:function(){return this._resizeToFit},set:function(a){if(this._resizeToFit!==a){if(this._resizeToFit=a)this._width.ignoreAdaptiveScaling=!0,this._height.ignoreAdaptiveScaling=!0;this._markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"textWrapping",{get:function(){return this._textWrapping},set:function(a){this._textWrapping!==a&&(this._textWrapping=+a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(a){this._text!==a&&(this._text=a,this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textHorizontalAlignment",{get:function(){return this._textHorizontalAlignment},
set:function(a){this._textHorizontalAlignment!==a&&(this._textHorizontalAlignment=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"textVerticalAlignment",{get:function(){return this._textVerticalAlignment},set:function(a){this._textVerticalAlignment!==a&&(this._textVerticalAlignment=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lineSpacing",{get:function(){return this._lineSpacing.toString(this._host)},set:function(a){this._lineSpacing.fromString(a)&&
this._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(a){this._outlineWidth!==a&&(this._outlineWidth=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"underline",{get:function(){return this._underline},set:function(a){this._underline!==a&&(this._underline=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"lineThrough",
{get:function(){return this._lineThrough},set:function(a){this._lineThrough!==a&&(this._lineThrough=a,this._markAsDirty())},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(a){this._outlineColor!==a&&(this._outlineColor=a,this._markAsDirty())},enumerable:!1,configurable:!0});c.prototype._getTypeName=function(){return"TextBlock"};c.prototype._processMeasures=function(c,d){this._fontOffset||(this._fontOffset=h.a._GetFontOffset(d.font));
b.prototype._processMeasures.call(this,c,d);this._lines=this._breakLines(this._currentMeasure.width,d);this.onLinesReadyObservable.notifyObservers(this);for(d=c=0;d<this._lines.length;d++){var g=this._lines[d];g.width>c&&(c=g.width)}this._resizeToFit&&(this._textWrapping===a.Clip&&(c=this.paddingLeftInPixels+this.paddingRightInPixels+c|0,c!==this._width.internalValue&&(this._width.updateInPlace(c,r.a.UNITMODE_PIXEL),this._rebuildLayout=!0)),c=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*
this._lines.length|0,0<this._lines.length&&0!==this._lineSpacing.internalValue&&(d=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),c+=(this._lines.length-1)*d),c!==this._height.internalValue&&(this._height.updateInPlace(c,r.a.UNITMODE_PIXEL),this._rebuildLayout=!0))};c.prototype._drawText=function(a,b,c,d){var g=this._currentMeasure.width,e=0;switch(this._textHorizontalAlignment){case h.a.HORIZONTAL_ALIGNMENT_LEFT:e=
0;break;case h.a.HORIZONTAL_ALIGNMENT_RIGHT:e=g-b;break;case h.a.HORIZONTAL_ALIGNMENT_CENTER:e=(g-b)/2}if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur,d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY;this.outlineWidth&&d.strokeText(a,this._currentMeasure.left+e,c);d.fillText(a,this._currentMeasure.left+e,c);this._underline&&(d.beginPath(),d.lineWidth=Math.round(.05*this.fontSizeInPixels),d.moveTo(this._currentMeasure.left+
e,c+3),d.lineTo(this._currentMeasure.left+e+b,c+3),d.stroke(),d.closePath());this._lineThrough&&(d.beginPath(),d.lineWidth=Math.round(.05*this.fontSizeInPixels),d.moveTo(this._currentMeasure.left+e,c-this.fontSizeInPixels/3),d.lineTo(this._currentMeasure.left+e+b,c-this.fontSizeInPixels/3),d.stroke(),d.closePath())};c.prototype._draw=function(a,b){a.save();this._applyStates(a);this._renderLines(a);a.restore()};c.prototype._applyStates=function(a){b.prototype._applyStates.call(this,a);this.outlineWidth&&
(a.lineWidth=this.outlineWidth,a.strokeStyle=this.outlineColor,a.lineJoin="miter",a.miterLimit=2)};c.prototype._breakLines=function(b,c){var d=[],e=this.text.split("\n");if(this._textWrapping===a.Ellipsis)for(var g=0;g<e.length;g++){var h=e[g];d.push(this._parseLineEllipsis(h,b,c))}else if(this._textWrapping===a.WordWrap)for(g=0;g<e.length;g++)h=e[g],d.push.apply(d,this._parseLineWordWrap(h,b,c));else for(b=0;b<e.length;b++)h=e[b],d.push(this._parseLine(h,c));return d};c.prototype._parseLine=function(a,
b){void 0===a&&(a="");return{text:a,width:b.measureText(a).width}};c.prototype._parseLineEllipsis=function(a,b,c){void 0===a&&(a="");var d=c.measureText(a).width;d>b&&(a+="\u2026");var e=Array.from&&Array.from(a);if(e)for(;e.length&&d>b;)e.pop(),a=e.join("")+"...",d=c.measureText(a).width;else for(;2<a.length&&d>b;)a=a.slice(0,-2)+"\u2026",d=c.measureText(a).width;return{text:a,width:d}};c.prototype._parseLineWordWrap=function(a,b,c){void 0===a&&(a="");for(var d=[],e=this.wordSplittingFunction?this.wordSplittingFunction(a):
a.split(" "),g=0,k=0;k<e.length;k++){var h=0<k?a+" "+e[k]:e[0],l=c.measureText(h).width;l>b&&0<k?(d.push({text:a,width:g}),a=e[k],g=c.measureText(a).width):(g=l,a=h)}d.push({text:a,width:g});return d};c.prototype._renderLines=function(a){var b=this._currentMeasure.height,c=0;switch(this._textVerticalAlignment){case h.a.VERTICAL_ALIGNMENT_TOP:c=this._fontOffset.ascent;break;case h.a.VERTICAL_ALIGNMENT_BOTTOM:c=b-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case h.a.VERTICAL_ALIGNMENT_CENTER:c=
this._fontOffset.ascent+(b-this._fontOffset.height*this._lines.length)/2}c+=this._currentMeasure.top;for(b=0;b<this._lines.length;b++){var d=this._lines[b];0!==b&&0!==this._lineSpacing.internalValue&&(c=this._lineSpacing.isPixel?c+this._lineSpacing.getValue(this._host):c+this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height));this._drawText(d.text,d.width,c,a);c+=this._fontOffset.height}};c.prototype.computeExpectedHeight=function(){if(this.text&&
this.widthInPixels){var a=document.createElement("canvas").getContext("2d");if(a){this._applyStates(a);this._fontOffset||(this._fontOffset=h.a._GetFontOffset(a.font));a=this._lines?this._lines:this._breakLines(this.widthInPixels-this.paddingLeftInPixels-this.paddingRightInPixels,a);var b=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*a.length;if(0<a.length&&0!==this._lineSpacing.internalValue){var c=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*
this._height.getValueInPixel(this._host,this._cachedParentMeasure.height);b+=(a.length-1)*c}return b}}return 0};c.prototype.dispose=function(){b.prototype.dispose.call(this);this.onTextChangedObservable.clear()};return c}(h.a);l.a.RegisteredTypes["BABYLON.GUI.TextBlock"]=c},ykRB:function(l,q,d){var n=d("DtMM");d.d(q,"b",function(){return n.a});d.d(q,"c",function(){return n.b});var p=d("ZCXe");d.d(q,"a",function(){return p.a});d("XZJ+");d("+QgK");d("+ach");d("0nI6");d("m0NF");d("37TA");d("lH06")}}]);
