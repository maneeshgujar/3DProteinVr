var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,c,l){if(e){c=$jscomp.global;a=a.split(".");for(l=0;l<a.length-1;l++){var k=a[l];k in c||(c[k]={});c=c[k]}a=a[a.length-1];l=c[a];e=e(l);e!=l&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var e=this;e instanceof String&&(e=String(e));var k=e.length;c=c||0;for(0>c&&(c=Math.max(c+k,0));c<k;c++){var d=e[c];if(d===a||Object.is(d,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,e,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var e=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var k=e.length,d=a.length;c=Math.max(0,Math.min(c|0,e.length));for(var h=0;h<d&&c<k;)if(e[c++]!=a[h++])return!1;return h>=d}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var e=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=e.length);c=Math.max(0,Math.min(c|0,e.length));for(var k=a.length;0<k&&0<c;)if(e[--c]!=a[--k])return!1;return 0>=k}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var e=0;return function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,e){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+e++,c)}var e=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,l={next:function(){if(c<a.length){var k=c++;return{value:e(k,a[k]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+ach":function(a,e,c){c.d(e,"a",function(){return g});a=c("/SR9");var l=[new a.d(0,0),new a.d(0,0),new a.d(0,0),new a.d(0,0)],k=[new a.d(0,0),new a.d(0,0),new a.d(0,0),new a.d(0,0)],d=new a.d(0,0),h=new a.d(0,0),g=function(){function a(d,a,g,h){this.left=d;this.top=a;this.width=g;this.height=h}a.prototype.copyFrom=function(d){this.left=d.left;this.top=d.top;this.width=d.width;this.height=d.height};a.prototype.copyFromFloats=function(d,a,g,
h){this.left=d;this.top=a;this.width=g;this.height=h};a.CombineToRef=function(d,a,g){var h=Math.min(d.left,a.left),c=Math.min(d.top,a.top),k=Math.max(d.left+d.width,a.left+a.width);d=Math.max(d.top+d.height,a.top+a.height);g.left=h;g.top=c;g.width=k-h;g.height=d-c};a.prototype.addAndTransformToRef=function(a,g,c,t,e,r){g=this.left+g;c=this.top+c;t=this.width+t;e=this.height+e;l[0].copyFromFloats(g,c);l[1].copyFromFloats(g+t,c);l[2].copyFromFloats(g+t,c+e);l[3].copyFromFloats(g,c+e);d.copyFromFloats(Number.MAX_VALUE,
Number.MAX_VALUE);h.copyFromFloats(0,0);for(e=0;4>e;e++)a.transformCoordinates(l[e].x,l[e].y,k[e]),d.x=Math.floor(Math.min(d.x,k[e].x)),d.y=Math.floor(Math.min(d.y,k[e].y)),h.x=Math.ceil(Math.max(h.x,k[e].x)),h.y=Math.ceil(Math.max(h.y,k[e].y));r.left=d.x;r.top=d.y;r.width=h.x-d.x;r.height=h.y-d.y};a.prototype.transformToRef=function(d,a){this.addAndTransformToRef(d,0,0,0,0,a)};a.prototype.isEqualsTo=function(d){return this.left!==d.left||this.top!==d.top||this.width!==d.width||this.height!==d.height?
!1:!0};a.Empty=function(){return new a(0,0,0,0)};return a}()},"0nI6":function(a,e,c){c.d(e,"a",function(){return h});var l=c("/SR9"),k=c("MhaC"),d=c("37TA"),h=function(){function a(a){this._multiLine=a;this._x=new d.a(0);this._y=new d.a(0);this._point=new l.e(0,0,0)}Object.defineProperty(a.prototype,"x",{get:function(){return this._x.toString(this._multiLine._host)},set:function(d){this._x.toString(this._multiLine._host)!==d&&this._x.fromString(d)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0});
Object.defineProperty(a.prototype,"y",{get:function(){return this._y.toString(this._multiLine._host)},set:function(d){this._y.toString(this._multiLine._host)!==d&&this._y.fromString(d)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"control",{get:function(){return this._control},set:function(d){if(this._control!==d){this._control&&this._controlObserver&&(this._control.onDirtyObservable.remove(this._controlObserver),this._controlObserver=null);if(this._control=
d)this._controlObserver=this._control.onDirtyObservable.add(this._multiLine.onPointUpdate);this._multiLine._markAsDirty()}},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"mesh",{get:function(){return this._mesh},set:function(d){if(this._mesh!==d){this._mesh&&this._meshObserver&&this._mesh.getScene().onAfterCameraRenderObservable.remove(this._meshObserver);if(this._mesh=d)this._meshObserver=this._mesh.getScene().onAfterCameraRenderObservable.add(this._multiLine.onPointUpdate);this._multiLine._markAsDirty()}},
enumerable:!1,configurable:!0});a.prototype.resetLinks=function(){this.mesh=this.control=null};a.prototype.translate=function(){return this._point=this._translatePoint()};a.prototype._translatePoint=function(){if(null!=this._mesh)return this._multiLine._host.getProjectedPositionWithZ(this._mesh.getBoundingInfo().boundingSphere.center,this._mesh.getWorldMatrix());if(null!=this._control)return new l.e(this._control.centerX,this._control.centerY,1-k.a);var d=this._multiLine._host,a=this._x.getValueInPixel(d,
Number(d._canvas.width));d=this._y.getValueInPixel(d,Number(d._canvas.height));return new l.e(a,d,1-k.a)};a.prototype.dispose=function(){this.resetLinks()};return a}()},"37TA":function(a,e,c){c.d(e,"a",function(){return l});var l=function(){function a(d,h,g){void 0===h&&(h=a.UNITMODE_PIXEL);void 0===g&&(g=!0);this.unit=h;this.negativeValueAllowed=g;this.ignoreAdaptiveScaling=!1;this._value=d;this._originalUnit=h}Object.defineProperty(a.prototype,"isPercentage",{get:function(){return this.unit===a.UNITMODE_PERCENTAGE},
enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"isPixel",{get:function(){return this.unit===a.UNITMODE_PIXEL},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"internalValue",{get:function(){return this._value},enumerable:!1,configurable:!0});a.prototype.getValueInPixel=function(d,a){return this.isPixel?this.getValue(d):this.getValue(d)*a};a.prototype.updateInPlace=function(d,h){void 0===h&&(h=a.UNITMODE_PIXEL);this._value=d;this.unit=h;return this};a.prototype.getValue=
function(d){if(d&&!this.ignoreAdaptiveScaling&&this.unit!==a.UNITMODE_PERCENTAGE){var h=0,g=0;d.idealWidth&&(h=this._value*d.getSize().width/d.idealWidth);d.idealHeight&&(g=this._value*d.getSize().height/d.idealHeight);if(d.useSmallestIdeal&&d.idealWidth&&d.idealHeight)return window.innerWidth<window.innerHeight?h:g;if(d.idealWidth)return h;if(d.idealHeight)return g}return this._value};a.prototype.toString=function(d,h){switch(this.unit){case a.UNITMODE_PERCENTAGE:return d=100*this.getValue(d),(h?
d.toFixed(h):d)+"%";case a.UNITMODE_PIXEL:return d=this.getValue(d),(h?d.toFixed(h):d)+"px"}return this.unit.toString()};a.prototype.fromString=function(d){d=a._Regex.exec(d.toString());if(!d||0===d.length)return!1;var h=parseFloat(d[1]),g=this._originalUnit;this.negativeValueAllowed||0>h&&(h=0);if(4===d.length)switch(d[3]){case "px":g=a.UNITMODE_PIXEL;break;case "%":g=a.UNITMODE_PERCENTAGE,h/=100}if(h===this._value&&g===this.unit)return!1;this._value=h;this.unit=g;return!0};Object.defineProperty(a,
"UNITMODE_PERCENTAGE",{get:function(){return a._UNITMODE_PERCENTAGE},enumerable:!1,configurable:!0});Object.defineProperty(a,"UNITMODE_PIXEL",{get:function(){return a._UNITMODE_PIXEL},enumerable:!1,configurable:!0});a._Regex=/(^-?\d*(\.\d+)?)(%|px)?/;a._UNITMODE_PERCENTAGE=0;a._UNITMODE_PIXEL=1;return a}()},lH06:function(a,e,c){var l=c("WHS4");(function(){function a(a){void 0===a&&(a=null);this._nodes={};this._nodeTypes={element:1,attribute:2,text:3};this._isLoaded=!1;this._objectAttributes={textHorizontalAlignment:1,
textVerticalAlignment:2,horizontalAlignment:3,verticalAlignment:4,stretch:5};a&&(this._parentClass=a)}a.prototype._getChainElement=function(a){var d=window;this._parentClass&&(d=this._parentClass);a=a.split(".");for(var g=0;g<a.length;g++)d=d[a[g]];return d};a.prototype._getClassAttribute=function(a){a=a.split(".");return l.a.GetClass("BABYLON.GUI."+a[0])[a[1]]};a.prototype._createGuiElement=function(a,c,g){void 0===g&&(g=!0);try{var d=new (l.a.GetClass("BABYLON.GUI."+a.nodeName));c&&g&&c.addControl(d);
for(c=0;c<a.attributes.length;c++)if(!a.attributes[c].name.toLowerCase().includes("datasource"))if(a.attributes[c].name.toLowerCase().includes("observable")){var h=this._getChainElement(a.attributes[c].value);d[a.attributes[c].name].add(h)}else"linkWithMesh"==a.attributes[c].name?this._parentClass?d.linkWithMesh(this._parentClass[a.attributes[c].value]):d.linkWithMesh(window[a.attributes[c].value]):a.attributes[c].value.startsWith("{{")&&a.attributes[c].value.endsWith("}}")?(h=this._getChainElement(a.attributes[c].value.substring(2,
a.attributes[c].value.length-2)),d[a.attributes[c].name]=h):d[a.attributes[c].name]=this._objectAttributes[a.attributes[c].name]?this._getClassAttribute(a.attributes[c].value):"true"==a.attributes[c].value||"false"==a.attributes[c].value?"true"==a.attributes[c].value:isNaN(Number(a.attributes[c].value))?a.attributes[c].value:Number(a.attributes[c].value);if(!a.attributes.getNamedItem("id"))return this._nodes[a.nodeName+Object.keys(this._nodes).length+"_gen"]=d;var e=a.attributes.getNamedItem("id").value;
e.startsWith("{{")&&e.endsWith("}}")&&(e=this._getChainElement(e.substring(2,e.length-2)));if(this._nodes[e])throw"XmlLoader Exception : Duplicate ID, every element should have an unique ID attribute";return this._nodes[e]=d}catch(x){throw"XmlLoader Exception : Error parsing Control "+a.nodeName+","+x+".";}};a.prototype._parseGrid=function(a,c,g){for(var d,e,h,k=a.children,l,w=-1,r=-1,v=0,m=0;m<k.length;m++)if(k[m].nodeType==this._nodeTypes.element){if("Row"!=k[m].nodeName)throw"XmlLoader Exception : Expecting Row node, received "+
k[m].nodeName;w+=1;h=k[m].children;if(!k[m].attributes.getNamedItem("height"))throw"XmlLoader Exception : Height must be defined for grid rows";e=Number(k[m].attributes.getNamedItem("height").nodeValue);l=k[m].attributes.getNamedItem("isPixel")?JSON.parse(k[m].attributes.getNamedItem("isPixel").nodeValue):!1;c.addRowDefinition(e,l);for(e=0;e<h.length;e++)if(h[e].nodeType==this._nodeTypes.element){if("Column"!=h[e].nodeName)throw"XmlLoader Exception : Expecting Column node, received "+h[e].nodeName;
r+=1;if(0<w&&r>v)throw"XmlLoader Exception : In the Grid element, the number of columns is defined in the first row, do not add more columns in the subsequent rows.";if(0==w){if(!h[e].attributes.getNamedItem("width"))throw"XmlLoader Exception : Width must be defined for all the grid columns in the first row";d=Number(h[e].attributes.getNamedItem("width").nodeValue);l=h[e].attributes.getNamedItem("isPixel")?JSON.parse(h[e].attributes.getNamedItem("isPixel").nodeValue):!1;c.addColumnDefinition(d,l)}l=
h[e].children;for(var q=0;q<l.length;q++)l[q].nodeType==this._nodeTypes.element&&(d=this._createGuiElement(l[q],c,!1),c.addControl(d,w,r),l[q].firstChild&&this._parseXml(l[q].firstChild,d))}0==w&&(v=r);r=-1}a.nextSibling&&this._parseXml(a.nextSibling,g)};a.prototype._parseElement=function(a,c,g){a.firstChild&&this._parseXml(a.firstChild,c);a.nextSibling&&this._parseXml(a.nextSibling,g)};a.prototype._prepareSourceElement=function(a,c,g,e,k){this._parentClass?this._parentClass[g]=e[k]:window[g]=e[k];
a.firstChild&&this._parseXml(a.firstChild,c,!0)};a.prototype._parseElementsFromSource=function(a,c,g){var d=a.attributes.getNamedItem("dataSource").value;if(d.includes(" in ")){var e=!0;d=d.split(" in ");if(2>d.length)throw"XmlLoader Exception : Malformed XML, Data Source must an iterator and a source";var h=d[1];h.startsWith("{")&&h.endsWith("}")&&(e=!1);if(!e||h.startsWith("[")&&h.endsWith("]"))h=h.substring(1,h.length-1);h=this._parentClass?this._parentClass[h]:window[h];if(e)for(var k=0;k<h.length;k++)this._prepareSourceElement(a,
c,d[0],h,k);else for(k in h)this._prepareSourceElement(a,c,d[0],h,k);a.nextSibling&&this._parseXml(a.nextSibling,g)}else throw"XmlLoader Exception : Malformed XML, Data Source must include an in";};a.prototype._parseXml=function(a,c,g){void 0===g&&(g=!1);a.nodeType!=this._nodeTypes.element?a.nextSibling&&this._parseXml(a.nextSibling,c,g):(g&&a.setAttribute("id",c.id+(c._children.length+1)),g=this._createGuiElement(a,c),"Grid"==a.nodeName?this._parseGrid(a,g,c):a.attributes.getNamedItem("dataSource")?
this._parseElementsFromSource(a,g,c):this._parseElement(a,g,c))};a.prototype.isLoaded=function(){return this._isLoaded};a.prototype.getNodeById=function(a){return this._nodes[a]};a.prototype.getNodes=function(){return this._nodes};a.prototype.loadLayout=function(a,c,g){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){if(!d.responseXML)throw"XmlLoader Exception : XML file is malformed or corrupted.";this._parseXml(d.responseXML.documentElement.firstChild,
c);this._isLoaded=!0;g&&g()}}.bind(this);d.open("GET",a,!0);d.send()};return a})()},m0NF:function(a,e,c){c.d(e,"a",function(){return d});var l=c("ps+7"),k=c("37TA"),d=function(){function a(a){this._fontFamily="Arial";this._fontWeight=this._fontStyle="";this._fontSize=new k.a(18,k.a.UNITMODE_PIXEL,!1);this.onChangedObservable=new l.a;this._host=a}Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize.toString(this._host)},set:function(a){this._fontSize.toString(this._host)!==
a&&this._fontSize.fromString(a)&&this.onChangedObservable.notifyObservers(this)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(a){this._fontFamily!==a&&(this._fontFamily=a,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.onChangedObservable.notifyObservers(this))},
enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0});a.prototype.dispose=function(){this.onChangedObservable.clear()};return a}()},vjql:function(a,e,c){c.d(e,"g",function(){return l.c});c.d(e,"d",function(){return l.b});c.d(e,"a",function(){return l.a});c.d(e,"c",function(){return H});c.d(e,"e",
function(){return I});c.d(e,"f",function(){return J});c.d(e,"b",function(){return K});var l=c("ykRB"),k=c("mrSG"),d=c("qVgn"),h=c("ps+7"),g=c("/SR9"),t=c("98Qd"),G=c("ikaq"),z=function(a){function b(f,b){void 0===b&&(b=0);f=a.call(this,f.x,f.y,f.z)||this;f.buttonIndex=b;return f}Object(k.c)(b,a);return b}(g.e);e=function(){function a(a){this.name=a;this._downCount=0;this._enterCount=-1;this._downPointerIds={};this._isVisible=!0;this.onPointerMoveObservable=new h.a;this.onPointerOutObservable=new h.a;
this.onPointerDownObservable=new h.a;this.onPointerUpObservable=new h.a;this.onPointerClickObservable=new h.a;this.onPointerEnterObservable=new h.a;this._behaviors=[]}Object.defineProperty(a.prototype,"position",{get:function(){return this._node?this._node.position:g.e.Zero()},set:function(a){this._node&&(this._node.position=a)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"scaling",{get:function(){return this._node?this._node.scaling:new g.e(1,1,1)},set:function(a){this._node&&
(this._node.scaling=a)},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!1,configurable:!0});a.prototype.addBehavior=function(a){var f=this;if(-1!==this._behaviors.indexOf(a))return this;a.init();var b=this._host.scene;b.isLoading?b.onDataLoadedObservable.addOnce(function(){a.attach(f)}):a.attach(this);this._behaviors.push(a);return this};a.prototype.removeBehavior=function(a){a=this._behaviors.indexOf(a);if(-1===a)return this;
this._behaviors[a].detach();this._behaviors.splice(a,1);return this};a.prototype.getBehaviorByName=function(a){for(var f=0,b=this._behaviors;f<b.length;f++){var c=b[f];if(c.name===a)return c}return null};Object.defineProperty(a.prototype,"isVisible",{get:function(){return this._isVisible},set:function(a){if(this._isVisible!==a){this._isVisible=a;var f=this.mesh;f&&f.setEnabled(a)}},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"typeName",{get:function(){return this._getTypeName()},
enumerable:!1,configurable:!0});a.prototype.getClassName=function(){return this._getTypeName()};a.prototype._getTypeName=function(){return"Control3D"};Object.defineProperty(a.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"mesh",{get:function(){return this._node instanceof G.a?this._node:null},enumerable:!1,configurable:!0});a.prototype.linkToTransformNode=function(a){this._node&&(this._node.parent=a);return this};a.prototype._prepareNode=
function(a){!this._node&&(this._node=this._createNode(a),this.node&&(this._node.metadata=this,this._node.position=this.position,this._node.scaling=this.scaling,a=this.mesh))&&(a.isPickable=!0,this._affectMaterial(a))};a.prototype._createNode=function(a){return null};a.prototype._affectMaterial=function(a){a.material=null};a.prototype._onPointerMove=function(a,f){this.onPointerMoveObservable.notifyObservers(f,-1,a,this)};a.prototype._onPointerEnter=function(a){if(0<this._enterCount)return!1;-1===this._enterCount&&
(this._enterCount=0);this._enterCount++;this.onPointerEnterObservable.notifyObservers(this,-1,a,this);this.pointerEnterAnimation&&this.pointerEnterAnimation();return!0};a.prototype._onPointerOut=function(a){this._enterCount=0;this.onPointerOutObservable.notifyObservers(this,-1,a,this);this.pointerOutAnimation&&this.pointerOutAnimation()};a.prototype._onPointerDown=function(a,f,n,c){if(0!==this._downCount)return this._downCount++,!1;this._downCount++;this._downPointerIds[n]=!0;this.onPointerDownObservable.notifyObservers(new z(f,
c),-1,a,this);this.pointerDownAnimation&&this.pointerDownAnimation();return!0};a.prototype._onPointerUp=function(a,f,n,c,d){this._downCount--;delete this._downPointerIds[n];0>this._downCount?this._downCount=0:0==this._downCount&&(d&&(0<this._enterCount||-1===this._enterCount)&&this.onPointerClickObservable.notifyObservers(new z(f,c),-1,a,this),this.onPointerUpObservable.notifyObservers(new z(f,c),-1,a,this),this.pointerUpAnimation&&this.pointerUpAnimation())};a.prototype.forcePointerUp=function(a){void 0===
a&&(a=null);if(null!==a)this._onPointerUp(this,g.e.Zero(),a,0,!0);else{for(var f in this._downPointerIds)this._onPointerUp(this,g.e.Zero(),+f,0,!0);0<this._downCount&&(this._downCount=1,this._onPointerUp(this,g.e.Zero(),0,0,!0))}};a.prototype._processObservables=function(a,f,n,c){return a===t.a.POINTERMOVE?(this._onPointerMove(this,f),(a=this._host._lastControlOver[n])&&a!==this&&a._onPointerOut(this),a!==this&&this._onPointerEnter(this),this._host._lastControlOver[n]=this,!0):a===t.a.POINTERDOWN?
(this._onPointerDown(this,f,n,c),this._host._lastControlDown[n]=this,this._host._lastPickedControl=this,!0):a===t.a.POINTERUP||a===t.a.POINTERDOUBLETAP?(this._host._lastControlDown[n]&&this._host._lastControlDown[n]._onPointerUp(this,f,n,c,!0),delete this._host._lastControlDown[n],!0):!1};a.prototype._disposeNode=function(){this._node&&(this._node.dispose(),this._node=null)};a.prototype.dispose=function(){this.onPointerDownObservable.clear();this.onPointerEnterObservable.clear();this.onPointerMoveObservable.clear();
this.onPointerOutObservable.clear();this.onPointerUpObservable.clear();this.onPointerClickObservable.clear();this._disposeNode();for(var a=0,f=this._behaviors;a<f.length;a++)f[a].detach()};return a}();a=function(a){function b(f){return a.call(this,f)||this}Object(k.c)(b,a);b.prototype._getTypeName=function(){return"AbstractButton3D"};b.prototype._createNode=function(a){return new d.a("button"+this.name)};return b}(e);var x=c("HZbn"),A=c("kdvT"),w=c("aCSs"),r=c("ZCXe"),v=c("Xeau");a=function(a){function b(f){var n=
a.call(this,f)||this;n._contentResolution=512;n._contentScaleRatio=2;n.pointerEnterAnimation=function(){n.mesh&&(n._currentMaterial.emissiveColor=v.a.Red())};n.pointerOutAnimation=function(){n._currentMaterial.emissiveColor=v.a.Black()};n.pointerDownAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(.95)};n.pointerUpAnimation=function(){n.mesh&&n.mesh.scaling.scaleInPlace(1/.95)};return n}Object(k.c)(b,a);Object.defineProperty(b.prototype,"contentResolution",{get:function(){return this._contentResolution},
set:function(a){this._contentResolution!==a&&(this._contentResolution=a,this._resetContent())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"contentScaleRatio",{get:function(){return this._contentScaleRatio},set:function(a){this._contentScaleRatio!==a&&(this._contentScaleRatio=a,this._resetContent())},enumerable:!1,configurable:!0});b.prototype._disposeFacadeTexture=function(){this._facadeTexture&&(this._facadeTexture.dispose(),this._facadeTexture=null)};b.prototype._resetContent=
function(){this._disposeFacadeTexture();this.content=this._content};Object.defineProperty(b.prototype,"content",{get:function(){return this._content},set:function(a){this._content=a;this._host&&this._host.utilityLayer&&(this._facadeTexture?this._facadeTexture.rootContainer.clearControls():(this._facadeTexture=new r.a("Facade",this._contentResolution,this._contentResolution,this._host.utilityLayer.utilityLayerScene,!0,w.a.TRILINEAR_SAMPLINGMODE),this._facadeTexture.rootContainer.scaleX=this._contentScaleRatio,
this._facadeTexture.rootContainer.scaleY=this._contentScaleRatio,this._facadeTexture.premulAlpha=!0),this._facadeTexture.addControl(a),this._applyFacade(this._facadeTexture))},enumerable:!1,configurable:!0});b.prototype._applyFacade=function(a){this._currentMaterial.emissiveTexture=a};b.prototype._getTypeName=function(){return"Button3D"};b.prototype._createNode=function(a){for(var f=Array(6),b=0;6>b;b++)f[b]=new g.f(0,0,0,0);f[1]=new g.f(0,0,1,1);return x.a.CreateBox(this.name+"_rootMesh",{width:1,
height:1,depth:.08,faceUV:f},a)};b.prototype._affectMaterial=function(a){var f=new A.a(this.name+"Material",a.getScene());f.specularColor=v.a.Black();this._currentMaterial=a.material=f;this._resetContent()};b.prototype.dispose=function(){a.prototype.dispose.call(this);this._disposeFacadeTexture();this._currentMaterial&&this._currentMaterial.dispose()};return b}(a);var m=function(a){function b(f){f=a.call(this,f)||this;f._blockLayout=!1;f._children=[];return f}Object(k.c)(b,a);Object.defineProperty(b.prototype,
"children",{get:function(){return this._children},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"blockLayout",{get:function(){return this._blockLayout},set:function(a){this._blockLayout!==a&&((this._blockLayout=a)||this._arrangeChildren())},enumerable:!1,configurable:!0});b.prototype.updateLayout=function(){this._arrangeChildren();return this};b.prototype.containsControl=function(a){return-1!==this._children.indexOf(a)};b.prototype.addControl=function(a){if(-1!==this._children.indexOf(a))return this;
a.parent=this;a._host=this._host;this._children.push(a);this._host.utilityLayer&&(a._prepareNode(this._host.utilityLayer.utilityLayerScene),a.node&&(a.node.parent=this.node),this.blockLayout||this._arrangeChildren());return this};b.prototype._arrangeChildren=function(){};b.prototype._createNode=function(a){return new d.a("ContainerNode",a)};b.prototype.removeControl=function(a){var f=this._children.indexOf(a);-1!==f&&(this._children.splice(f,1),a.parent=null,a._disposeNode());return this};b.prototype._getTypeName=
function(){return"Container3D"};b.prototype.dispose=function(){for(var f=0,b=this._children;f<b.length;f++)b[f].dispose();this._children=[];a.prototype.dispose.call(this)};b.UNSET_ORIENTATION=0;b.FACEORIGIN_ORIENTATION=1;b.FACEORIGINREVERSED_ORIENTATION=2;b.FACEFORWARD_ORIENTATION=3;b.FACEFORWARDREVERSED_ORIENTATION=4;return b}(e),q=c("YKqZ");e=function(a){function b(){var f=a.call(this)||this;f._columns=10;f._rows=0;f._rowThenColum=!0;f._orientation=m.FACEORIGIN_ORIENTATION;f.margin=0;return f}Object(k.c)(b,
a);Object.defineProperty(b.prototype,"orientation",{get:function(){return this._orientation},set:function(a){var f=this;this._orientation!==a&&(this._orientation=a,q.b.SetImmediate(function(){f._arrangeChildren()}))},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"columns",{get:function(){return this._columns},set:function(a){var f=this;this._columns!==a&&(this._columns=a,this._rowThenColum=!0,q.b.SetImmediate(function(){f._arrangeChildren()}))},enumerable:!1,configurable:!0});
Object.defineProperty(b.prototype,"rows",{get:function(){return this._rows},set:function(a){var f=this;this._rows!==a&&(this._rows=a,this._rowThenColum=!1,q.b.SetImmediate(function(){f._arrangeChildren()}))},enumerable:!1,configurable:!0});b.prototype._arrangeChildren=function(){this._cellHeight=this._cellWidth=0;var a,b=0,c=g.a.Invert(this.node.computeWorldMatrix(!0)),d=0;for(a=this._children;d<a.length;d++){var e=a[d];if(e.mesh){b++;e.mesh.computeWorldMatrix(!0);e=e.mesh.getHierarchyBoundingVectors();
var h=g.c.Vector3[0],k=g.c.Vector3[1];e.max.subtractToRef(e.min,k);k.scaleInPlace(.5);g.e.TransformNormalToRef(k,c,h);this._cellWidth=Math.max(this._cellWidth,2*h.x);this._cellHeight=Math.max(this._cellHeight,2*h.y)}}this._cellWidth+=2*this.margin;this._cellHeight+=2*this.margin;this._rowThenColum?(a=this._columns,e=Math.ceil(b/this._columns)):(e=this._rows,a=Math.ceil(b/this._rows));h=.5*a*this._cellWidth;k=.5*e*this._cellHeight;c=[];d=0;if(this._rowThenColum)for(var l=0;l<e;l++)for(var u=0;u<a&&
!(c.push(new g.e(u*this._cellWidth-h+this._cellWidth/2,l*this._cellHeight-k+this._cellHeight/2,0)),d++,d>b);u++);else for(u=0;u<a;u++)for(l=0;l<e&&!(c.push(new g.e(u*this._cellWidth-h+this._cellWidth/2,l*this._cellHeight-k+this._cellHeight/2,0)),d++,d>b);l++);b=d=0;for(a=this._children;b<a.length;b++)e=a[b],e.mesh&&(this._mapGridNode(e,c[d]),d++);this._finalProcessing()};b.prototype._finalProcessing=function(){};return b}(m);var y=c("SYzJ");(function(a){function b(){var f=null!==a&&a.apply(this,arguments)||
this;f._radius=5;return f}Object(k.c)(b,a);Object.defineProperty(b.prototype,"radius",{get:function(){return this._radius},set:function(a){var f=this;this._radius!==a&&(this._radius=a,q.b.SetImmediate(function(){f._arrangeChildren()}))},enumerable:!1,configurable:!0});b.prototype._mapGridNode=function(a,b){var f=a.mesh;if(f)switch(b=this._cylindricalMapping(b),a.position=b,this.orientation){case m.FACEORIGIN_ORIENTATION:f.lookAt(new g.e(2*b.x,b.y,2*b.z));break;case m.FACEORIGINREVERSED_ORIENTATION:f.lookAt(new g.e(-b.x,
b.y,-b.z));break;case m.FACEFORWARDREVERSED_ORIENTATION:f.rotate(y.a.Y,Math.PI,y.c.LOCAL)}};b.prototype._cylindricalMapping=function(a){var f=new g.e(0,a.y,this._radius);g.a.RotationYawPitchRollToRef(a.x/this._radius,0,0,g.c.Matrix[0]);return g.e.TransformNormal(f,g.c.Matrix[0])};return b})(e);var L=c("wAMR"),D=c("NNSw"),M=c("TRuC"),p=c("ADVu"),N=c("Qdxt"),O=c("/eyM"),P=c("afLn"),B=c("y4Ty"),Q=c("WHS4"),E=c("Z6Y1");E.a.ShadersStore.fluentVertexShader="precision highp float;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nuniform mat4 world;\nuniform mat4 viewProjection;\nvarying vec2 vUV;\n#ifdef BORDER\nvarying vec2 scaleInfo;\nuniform float borderWidth;\nuniform vec3 scaleFactor;\n#endif\n#ifdef HOVERLIGHT\nvarying vec3 worldPosition;\n#endif\nvoid main(void) {\nvUV=uv;\n#ifdef BORDER\nvec3 scale=scaleFactor;\nfloat minScale=min(min(scale.x,scale.y),scale.z);\nfloat maxScale=max(max(scale.x,scale.y),scale.z);\nfloat minOverMiddleScale=minScale/(scale.x+scale.y+scale.z-minScale-maxScale);\nfloat areaYZ=scale.y*scale.z;\nfloat areaXZ=scale.x*scale.z;\nfloat areaXY=scale.x*scale.y;\nfloat scaledBorderWidth=borderWidth;\nif (abs(normal.x) == 1.0)\n{\nscale.x=scale.y;\nscale.y=scale.z;\nif (areaYZ>areaXZ && areaYZ>areaXY)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nelse if (abs(normal.y) == 1.0)\n{\nscale.x=scale.z;\nif (areaXZ>areaXY && areaXZ>areaYZ)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nelse\n{\nif (areaXY>areaYZ && areaXY>areaXZ)\n{\nscaledBorderWidth*=minOverMiddleScale;\n}\n}\nfloat scaleRatio=min(scale.x,scale.y)/max(scale.x,scale.y);\nif (scale.x>scale.y)\n{\nscaleInfo.x=1.0-(scaledBorderWidth*scaleRatio);\nscaleInfo.y=1.0-scaledBorderWidth;\n}\nelse\n{\nscaleInfo.x=1.0-scaledBorderWidth;\nscaleInfo.y=1.0-(scaledBorderWidth*scaleRatio);\n}\n#endif\nvec4 worldPos=world*vec4(position,1.0);\n#ifdef HOVERLIGHT\nworldPosition=worldPos.xyz;\n#endif\ngl_Position=viewProjection*worldPos;\n}\n";
E.a.ShadersStore.fluentPixelShader="precision highp float;\nvarying vec2 vUV;\nuniform vec4 albedoColor;\n#ifdef INNERGLOW\nuniform vec4 innerGlowColor;\n#endif\n#ifdef BORDER\nvarying vec2 scaleInfo;\nuniform float edgeSmoothingValue;\nuniform float borderMinValue;\n#endif\n#ifdef HOVERLIGHT\nvarying vec3 worldPosition;\nuniform vec3 hoverPosition;\nuniform vec4 hoverColor;\nuniform float hoverRadius;\n#endif\n#ifdef TEXTURE\nuniform sampler2D albedoSampler;\n#endif\nvoid main(void) {\nvec3 albedo=albedoColor.rgb;\nfloat alpha=albedoColor.a;\n#ifdef TEXTURE\nalbedo=texture2D(albedoSampler,vUV).rgb;\n#endif\n#ifdef HOVERLIGHT\nfloat pointToHover=(1.0-clamp(length(hoverPosition-worldPosition)/hoverRadius,0.,1.))*hoverColor.a;\nalbedo=clamp(albedo+hoverColor.rgb*pointToHover,0.,1.);\n#else\nfloat pointToHover=1.0;\n#endif\n#ifdef BORDER\nfloat borderPower=10.0;\nfloat inverseBorderPower=1.0/borderPower;\nvec3 borderColor=albedo*borderPower;\nvec2 distanceToEdge;\ndistanceToEdge.x=abs(vUV.x-0.5)*2.0;\ndistanceToEdge.y=abs(vUV.y-0.5)*2.0;\nfloat borderValue=max(smoothstep(scaleInfo.x-edgeSmoothingValue,scaleInfo.x+edgeSmoothingValue,distanceToEdge.x),\nsmoothstep(scaleInfo.y-edgeSmoothingValue,scaleInfo.y+edgeSmoothingValue,distanceToEdge.y));\nborderColor=borderColor*borderValue*max(borderMinValue*inverseBorderPower,pointToHover);\nalbedo+=borderColor;\nalpha=max(alpha,borderValue);\n#endif\n#ifdef INNERGLOW\n\nvec2 uvGlow=(vUV-vec2(0.5,0.5))*(innerGlowColor.a*2.0);\nuvGlow=uvGlow*uvGlow;\nuvGlow=uvGlow*uvGlow;\nalbedo+=mix(vec3(0.0,0.0,0.0),innerGlowColor.rgb,uvGlow.x+uvGlow.y);\n#endif\ngl_FragColor=vec4(albedo,alpha);\n}";
var R=function(a){function b(){var f=a.call(this)||this;f.INNERGLOW=!1;f.BORDER=!1;f.HOVERLIGHT=!1;f.TEXTURE=!1;f.rebuild();return f}Object(k.c)(b,a);return b}(N.a),C=function(a){function b(f,b){f=a.call(this,f,b)||this;f.innerGlowColorIntensity=.5;f.innerGlowColor=new v.a(1,1,1);f.albedoColor=new v.a(.3,.35,.4);f.renderBorders=!1;f.borderWidth=.5;f.edgeSmoothingValue=.02;f.borderMinValue=.1;f.renderHoverLight=!1;f.hoverRadius=1;f.hoverColor=new v.b(.3,.3,.3,1);f.hoverPosition=g.e.Zero();return f}
Object(k.c)(b,a);b.prototype.needAlphaBlending=function(){return 1!==this.alpha};b.prototype.needAlphaTesting=function(){return!1};b.prototype.getAlphaTestTexture=function(){return null};b.prototype.isReadyForSubMesh=function(a,b,c){if(this.isFrozen&&b.effect&&b.effect._wasPreviouslyReady)return!0;b._materialDefines||(b._materialDefines=new R);a=this.getScene();c=b._materialDefines;if(!this.checkReadyOnEveryCall&&b.effect&&c._renderId===a.getRenderId())return!0;if(c._areTexturesDirty)if(c.INNERGLOW=
0<this.innerGlowColorIntensity,c.BORDER=this.renderBorders,c.HOVERLIGHT=this.renderHoverLight,this._albedoTexture)if(this._albedoTexture.isReadyOrNotBlocking())c.TEXTURE=!0;else return!1;else c.TEXTURE=!1;var f=a.getEngine();if(c.isDirty){c.markAsProcessed();a.resetCachedMaterial();var d=[B.b.PositionKind];d.push(B.b.NormalKind);d.push(B.b.UVKind);var n="world viewProjection innerGlowColor albedoColor borderWidth edgeSmoothingValue scaleFactor borderMinValue hoverColor hoverPosition hoverRadius".split(" "),
e=["albedoSampler"],g=[];O.a.PrepareUniformsAndSamplersList({uniformsNames:n,uniformBuffersNames:g,samplers:e,defines:c,maxSimultaneousLights:4});var h=c.toString();b.setEffect(a.getEngine().createEffect("fluent",{attributes:d,uniformsNames:n,uniformBuffersNames:g,samplers:e,defines:h,fallbacks:null,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},f))}if(!b.effect||!b.effect.isReady())return!1;c._renderId=a.getRenderId();return b.effect._wasPreviouslyReady=
!0};b.prototype.bindForSubMesh=function(a,b,c){var f=this.getScene(),d=c._materialDefines;d&&(c=c.effect)&&(this._activeEffect=c,this.bindOnlyWorldMatrix(a),this._activeEffect.setMatrix("viewProjection",f.getTransformMatrix()),this._mustRebind(f,c)&&(this._activeEffect.setColor4("albedoColor",this.albedoColor,this.alpha),d.INNERGLOW&&this._activeEffect.setColor4("innerGlowColor",this.innerGlowColor,this.innerGlowColorIntensity),d.BORDER&&(this._activeEffect.setFloat("borderWidth",this.borderWidth),
this._activeEffect.setFloat("edgeSmoothingValue",this.edgeSmoothingValue),this._activeEffect.setFloat("borderMinValue",this.borderMinValue),b.getBoundingInfo().boundingBox.extendSize.multiplyToRef(b.scaling,g.c.Vector3[0]),this._activeEffect.setVector3("scaleFactor",g.c.Vector3[0])),d.HOVERLIGHT&&(this._activeEffect.setDirectColor4("hoverColor",this.hoverColor),this._activeEffect.setFloat("hoverRadius",this.hoverRadius),this._activeEffect.setVector3("hoverPosition",this.hoverPosition)),d.TEXTURE&&
this._activeEffect.setTexture("albedoSampler",this._albedoTexture)),this._afterBind(b,this._activeEffect))};b.prototype.getActiveTextures=function(){return a.prototype.getActiveTextures.call(this)};b.prototype.hasTexture=function(f){return a.prototype.hasTexture.call(this,f)?!0:!1};b.prototype.dispose=function(f){a.prototype.dispose.call(this,f)};b.prototype.clone=function(a){var f=this;return p.a.Clone(function(){return new b(a,f.getScene())},this)};b.prototype.serialize=function(){var a=p.a.Serialize(this);
a.customType="BABYLON.GUI.FluentMaterial";return a};b.prototype.getClassName=function(){return"FluentMaterial"};b.Parse=function(a,c,d){return p.a.Parse(function(){return new b(a.name,c)},a,c,d)};Object(k.b)([Object(p.c)(),Object(p.b)("_markAllSubMeshesAsTexturesDirty")],b.prototype,"innerGlowColorIntensity",void 0);Object(k.b)([Object(p.e)()],b.prototype,"innerGlowColor",void 0);Object(k.b)([Object(p.e)()],b.prototype,"albedoColor",void 0);Object(k.b)([Object(p.c)(),Object(p.b)("_markAllSubMeshesAsTexturesDirty")],
b.prototype,"renderBorders",void 0);Object(k.b)([Object(p.c)()],b.prototype,"borderWidth",void 0);Object(k.b)([Object(p.c)()],b.prototype,"edgeSmoothingValue",void 0);Object(k.b)([Object(p.c)()],b.prototype,"borderMinValue",void 0);Object(k.b)([Object(p.c)(),Object(p.b)("_markAllSubMeshesAsTexturesDirty")],b.prototype,"renderHoverLight",void 0);Object(k.b)([Object(p.c)()],b.prototype,"hoverRadius",void 0);Object(k.b)([Object(p.f)()],b.prototype,"hoverColor",void 0);Object(k.b)([Object(p.o)()],b.prototype,
"hoverPosition",void 0);Object(k.b)([Object(p.m)("albedoTexture")],b.prototype,"_albedoTexture",void 0);Object(k.b)([Object(p.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],b.prototype,"albedoTexture",void 0);return b}(P.a);Q.a.RegisteredTypes["BABYLON.GUI.FluentMaterial"]=C;var S=c("mzVJ"),T=c("LePa"),F=c("wxg5"),H=function(a){function b(f,b){void 0===b&&(b=!0);var c=a.call(this,f)||this;c._shareMaterials=!0;c._shareMaterials=b;c.pointerEnterAnimation=function(){c.mesh&&c._frontPlate.setEnabled(!0)};
c.pointerOutAnimation=function(){c.mesh&&c._frontPlate.setEnabled(!1)};return c}Object(k.c)(b,a);b.prototype._disposeTooltip=function(){this._tooltipFade=null;this._tooltipTextBlock&&this._tooltipTextBlock.dispose();this._tooltipTexture&&this._tooltipTexture.dispose();this._tooltipMesh&&this._tooltipMesh.dispose();this.onPointerEnterObservable.remove(this._tooltipHoverObserver);this.onPointerOutObservable.remove(this._tooltipOutObserver)};Object.defineProperty(b.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},
set:function(a){this._backPlate.renderingGroupId=a;this._textPlate.renderingGroupId=a;this._frontPlate.renderingGroupId=a;this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=a)},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"tooltipText",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(a){var f=this;if(a){if(!this._tooltipFade){this._tooltipMesh=D.a.CreatePlane("",{size:1},this._backPlate._scene);var b=D.a.CreatePlane("",{size:1,sideOrientation:L.a.DOUBLESIDE},
this._backPlate._scene),c=new A.a("",this._backPlate._scene);c.diffuseColor=v.a.FromHexString("#212121");b.material=c;b.isPickable=!1;this._tooltipMesh.addChild(b);b.position.z=.05;this._tooltipMesh.scaling.y=1/3;this._tooltipMesh.position.y=.7;this._tooltipMesh.position.z=-.15;this._tooltipMesh.isPickable=!1;this._tooltipMesh.parent=this._backPlate;this._tooltipTexture=r.a.CreateForMesh(this._tooltipMesh);this._tooltipTextBlock=new F.a;this._tooltipTextBlock.scaleY=3;this._tooltipTextBlock.color=
"white";this._tooltipTextBlock.fontSize=130;this._tooltipTexture.addControl(this._tooltipTextBlock);this._tooltipFade=new M.a;this._tooltipFade.delay=500;this._tooltipMesh.addBehavior(this._tooltipFade);this._tooltipHoverObserver=this.onPointerEnterObservable.add(function(){f._tooltipFade&&f._tooltipFade.fadeIn(!0)});this._tooltipOutObserver=this.onPointerOutObservable.add(function(){f._tooltipFade&&f._tooltipFade.fadeIn(!1)})}this._tooltipTextBlock&&(this._tooltipTextBlock.text=a)}else this._disposeTooltip()},
enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(a){this._text!==a&&(this._text=a,this._rebuildContent())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(a){this._imageUrl!==a&&(this._imageUrl=a,this._rebuildContent())},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,
configurable:!0});Object.defineProperty(b.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0});b.prototype._getTypeName=function(){return"HolographicButton"};b.prototype._rebuildContent=function(){this._disposeFacadeTexture();
var a=new S.a;a.isVertical=!0;if(this._imageUrl){var b=new T.a;b.source=this._imageUrl;b.paddingTop="40px";b.height="180px";b.width="100px";b.paddingBottom="40px";a.addControl(b)}this._text&&(b=new F.a,b.text=this._text,b.color="white",b.height="30px",b.fontSize=24,a.addControl(b));this._frontPlate&&(this.content=a)};b.prototype._createNode=function(b){this._backPlate=x.a.CreateBox(this.name+"BackMesh",{width:1,height:1,depth:.08},b);this._frontPlate=x.a.CreateBox(this.name+"FrontMesh",{width:1,height:1,
depth:.08},b);this._frontPlate.parent=this._backPlate;this._frontPlate.position.z=-.08;this._frontPlate.isPickable=!1;this._frontPlate.setEnabled(!1);this._textPlate=a.prototype._createNode.call(this,b);this._textPlate.parent=this._backPlate;this._textPlate.position.z=-.08;this._textPlate.isPickable=!1;return this._backPlate};b.prototype._applyFacade=function(a){this._plateMaterial.emissiveTexture=a;this._plateMaterial.opacityTexture=a};b.prototype._createBackMaterial=function(a){var b=this;this._backMaterial=
new C(this.name+"Back Material",a.getScene());this._backMaterial.renderHoverLight=!0;this._pickedPointObserver=this._host.onPickedPointChangedObservable.add(function(a){a?(b._backMaterial.hoverPosition=a,b._backMaterial.hoverColor.a=1):b._backMaterial.hoverColor.a=0})};b.prototype._createFrontMaterial=function(a){this._frontMaterial=new C(this.name+"Front Material",a.getScene());this._frontMaterial.innerGlowColorIntensity=0;this._frontMaterial.alpha=.5;this._frontMaterial.renderBorders=!0};b.prototype._createPlateMaterial=
function(a){this._plateMaterial=new A.a(this.name+"Plate Material",a.getScene());this._plateMaterial.specularColor=v.a.Black()};b.prototype._affectMaterial=function(a){this._shareMaterials?(this._host._sharedMaterials.backFluentMaterial?this._backMaterial=this._host._sharedMaterials.backFluentMaterial:(this._createBackMaterial(a),this._host._sharedMaterials.backFluentMaterial=this._backMaterial),this._host._sharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._sharedMaterials.frontFluentMaterial:
(this._createFrontMaterial(a),this._host._sharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(a),this._createFrontMaterial(a));this._createPlateMaterial(a);this._backPlate.material=this._backMaterial;this._frontPlate.material=this._frontMaterial;this._textPlate.material=this._plateMaterial;this._rebuildContent()};b.prototype.dispose=function(){a.prototype.dispose.call(this);this._disposeTooltip();this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),
this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))};return b}(a);(function(a){function b(b,c){var f=a.call(this,c)||this;f._currentMesh=b;f.pointerEnterAnimation=function(){f.mesh&&f.mesh.scaling.scaleInPlace(1.1)};f.pointerOutAnimation=function(){f.mesh&&f.mesh.scaling.scaleInPlace(1/1.1)};f.pointerDownAnimation=function(){f.mesh&&f.mesh.scaling.scaleInPlace(.95)};f.pointerUpAnimation=
function(){f.mesh&&f.mesh.scaling.scaleInPlace(1/.95)};return f}Object(k.c)(b,a);b.prototype._getTypeName=function(){return"MeshButton3D"};b.prototype._createNode=function(a){var b=this;this._currentMesh.getChildMeshes().forEach(function(a){a.metadata=b});return this._currentMesh};b.prototype._affectMaterial=function(a){};return b})(a);(function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Object(k.c)(b,a);b.prototype._mapGridNode=function(a,b){var c=a.mesh;if(c)switch(a.position=
b.clone(),a=g.c.Vector3[0],a.copyFrom(b),this.orientation){case m.FACEORIGIN_ORIENTATION:case m.FACEFORWARD_ORIENTATION:a.addInPlace(new g.e(0,0,1));c.lookAt(a);break;case m.FACEFORWARDREVERSED_ORIENTATION:case m.FACEORIGINREVERSED_ORIENTATION:a.addInPlace(new g.e(0,0,-1)),c.lookAt(a)}};return b})(e);(function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._iteration=100;return b}Object(k.c)(b,a);Object.defineProperty(b.prototype,"iteration",{get:function(){return this._iteration},
set:function(a){var b=this;this._iteration!==a&&(this._iteration=a,q.b.SetImmediate(function(){b._arrangeChildren()}))},enumerable:!1,configurable:!0});b.prototype._mapGridNode=function(a,b){var c=a.mesh;b=this._scatterMapping(b);if(c){switch(this.orientation){case m.FACEORIGIN_ORIENTATION:case m.FACEFORWARD_ORIENTATION:c.lookAt(new g.e(0,0,1));break;case m.FACEFORWARDREVERSED_ORIENTATION:case m.FACEORIGINREVERSED_ORIENTATION:c.lookAt(new g.e(0,0,-1))}a.position=b}};b.prototype._scatterMapping=function(a){a.x=
(1-2*Math.random())*this._cellWidth;a.y=(1-2*Math.random())*this._cellHeight;return a};b.prototype._finalProcessing=function(){for(var a=[],b=0,c=this._children;b<c.length;b++){var d=c[b];d.mesh&&a.push(d.mesh)}for(b=0;b<this._iteration;b++){a.sort(function(a,b){a=a.position.lengthSquared();b=b.position.lengthSquared();return a<b?1:a>b?-1:0});c=Math.pow(this.margin,2);d=Math.max(this._cellWidth,this._cellHeight);for(var e=g.c.Vector2[0],h=g.c.Vector3[0],k=0;k<a.length-1;k++)for(var l=k+1;l<a.length;l++)if(k!=
l){a[l].position.subtractToRef(a[k].position,h);e.x=h.x;e.y=h.y;var m=d,u=e.lengthSquared()-c;u-=Math.min(u,c);u<Math.pow(m,2)&&(e.normalize(),h.scaleInPlace(.5*(m-Math.sqrt(u))),a[l].position.addInPlace(h),a[k].position.subtractInPlace(h))}}};return b})(e);var I=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b._radius=5;return b}Object(k.c)(b,a);Object.defineProperty(b.prototype,"radius",{get:function(){return this._radius},set:function(a){var b=this;this._radius!==a&&(this._radius=
a,q.b.SetImmediate(function(){b._arrangeChildren()}))},enumerable:!1,configurable:!0});b.prototype._mapGridNode=function(a,b){var c=a.mesh;if(c)switch(b=this._sphericalMapping(b),a.position=b,this.orientation){case m.FACEORIGIN_ORIENTATION:c.lookAt(new g.e(2*b.x,2*b.y,2*b.z));break;case m.FACEORIGINREVERSED_ORIENTATION:c.lookAt(new g.e(-b.x,-b.y,-b.z));break;case m.FACEFORWARDREVERSED_ORIENTATION:c.rotate(y.a.Y,Math.PI,y.c.LOCAL)}};b.prototype._sphericalMapping=function(a){var b=new g.e(0,0,this._radius);
g.a.RotationYawPitchRollToRef(-(a.x/this._radius),a.y/this._radius,0,g.c.Matrix[0]);return g.e.TransformNormal(b,g.c.Matrix[0])};return b}(e),J=function(a){function b(b){void 0===b&&(b=!1);var c=a.call(this)||this;c._isVertical=!1;c.margin=.1;c._isVertical=b;return c}Object(k.c)(b,a);Object.defineProperty(b.prototype,"isVertical",{get:function(){return this._isVertical},set:function(a){var b=this;this._isVertical!==a&&(this._isVertical=a,q.b.SetImmediate(function(){b._arrangeChildren()}))},enumerable:!1,
configurable:!0});b.prototype._arrangeChildren=function(){for(var a=0,b=0,c=0,d=[],e=g.a.Invert(this.node.computeWorldMatrix(!0)),h=0,k=this._children;h<k.length;h++){var l=k[h];if(l.mesh){c++;l.mesh.computeWorldMatrix(!0);l.mesh.getWorldMatrix().multiplyToRef(e,g.c.Matrix[0]);l=l.mesh.getBoundingInfo().boundingBox;var m=g.e.TransformNormal(l.extendSize,g.c.Matrix[0]);d.push(m);this._isVertical?b+=m.y:a+=m.x}}this._isVertical?b+=(c-1)*this.margin/2:a+=(c-1)*this.margin/2;a=this._isVertical?-b:-a;
e=b=0;for(h=this._children;e<h.length;e++)l=h[e],l.mesh&&(c--,m=d[b++],this._isVertical?(l.position.y=a+m.y,l.position.x=0,a+=2*m.y):(l.position.x=a+m.x,l.position.y=0,a+=2*m.x),a+=0<c?this.margin:0)};return b}(m),U=c("SqLj"),V=c("zRBM"),W=c("e2Mr"),K=function(){function a(a){var b=this;this._lastControlOver={};this._lastControlDown={};this.onPickedPointChangedObservable=new h.a;this._sharedMaterials={};this._scene=a||W.a.LastCreatedScene;this._sceneDisposeObserver=this._scene.onDisposeObservable.add(function(){b._sceneDisposeObserver=
null;b._utilityLayer=null;b.dispose()});this._utilityLayer=new V.a(this._scene);this._utilityLayer.onlyCheckPointerDownEvents=!1;this._utilityLayer.pickUtilitySceneFirst=!1;this._utilityLayer.mainSceneTrackerPredicate=function(a){return a&&a.metadata&&a.metadata._node};this._rootContainer=new m("RootContainer");this._rootContainer._host=this;a=this._utilityLayer.utilityLayerScene;this._pointerOutObserver=this._utilityLayer.onPointerOutObservable.add(function(a){b._handlePointerOut(a,!0)});this._pointerObserver=
a.onPointerObservable.add(function(a,c){b._doPicking(a)});this._utilityLayer.utilityLayerScene.autoClear=!1;this._utilityLayer.utilityLayerScene.autoClearDepthAndStencil=!1;new U.a("hemi",g.e.Up(),this._utilityLayer.utilityLayerScene)}Object.defineProperty(a.prototype,"scene",{get:function(){return this._scene},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"utilityLayer",{get:function(){return this._utilityLayer},enumerable:!1,configurable:!0});a.prototype._handlePointerOut=function(a,
c){var b=this._lastControlOver[a];b&&(b._onPointerOut(b),delete this._lastControlOver[a]);c&&this._lastControlDown[a]&&(this._lastControlDown[a].forcePointerUp(),delete this._lastControlDown[a]);this.onPickedPointChangedObservable.notifyObservers(null)};a.prototype._doPicking=function(a){if(!this._utilityLayer||!this._utilityLayer.shouldRender||!this._utilityLayer.utilityLayerScene.activeCamera)return!1;var b=a.event,c=b.pointerId||0,d=b.button,e=a.pickInfo;if(!e||!e.hit)return this._handlePointerOut(c,
a.type===t.a.POINTERUP),!1;var g=e.pickedMesh.metadata;e.pickedPoint&&this.onPickedPointChangedObservable.notifyObservers(e.pickedPoint);g._processObservables(a.type,e.pickedPoint,c,d)||a.type!==t.a.POINTERMOVE||(this._lastControlOver[c]&&this._lastControlOver[c]._onPointerOut(this._lastControlOver[c]),delete this._lastControlOver[c]);a.type===t.a.POINTERUP&&(this._lastControlDown[b.pointerId]&&(this._lastControlDown[b.pointerId].forcePointerUp(),delete this._lastControlDown[b.pointerId]),"touch"===
b.pointerType&&this._handlePointerOut(c,!1));return!0};Object.defineProperty(a.prototype,"rootContainer",{get:function(){return this._rootContainer},enumerable:!1,configurable:!0});a.prototype.containsControl=function(a){return this._rootContainer.containsControl(a)};a.prototype.addControl=function(a){this._rootContainer.addControl(a);return this};a.prototype.removeControl=function(a){this._rootContainer.removeControl(a);return this};a.prototype.dispose=function(){this._rootContainer.dispose();for(var a in this._sharedMaterials)this._sharedMaterials.hasOwnProperty(a)&&
this._sharedMaterials[a].dispose();this._sharedMaterials={};this._pointerOutObserver&&this._utilityLayer&&(this._utilityLayer.onPointerOutObservable.remove(this._pointerOutObserver),this._pointerOutObserver=null);this.onPickedPointChangedObservable.clear();(a=this._utilityLayer?this._utilityLayer.utilityLayerScene:null)&&this._pointerObserver&&(a.onPointerObservable.remove(this._pointerObserver),this._pointerObserver=null);this._scene&&this._sceneDisposeObserver&&(this._scene.onDisposeObservable.remove(this._sceneDisposeObserver),
this._sceneDisposeObserver=null);this._utilityLayer&&this._utilityLayer.dispose()};return a}()}}]);
