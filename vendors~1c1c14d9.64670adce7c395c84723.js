(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+Ttz":function(k,h,e){(function(){function e(){}e.prototype.optimize=function(b,e){};return e})()},"0hZJ":function(k,h,e){e.d(h,"a",function(){return m});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");h=e("WHS4");var d=e("/SR9"),p=e("O6Ub"),m=function(g){function e(e){e=g.call(this,e,l.a.Neutral)||this;e.sourceRange=new d.d(-1,1);e.targetRange=new d.d(0,1);e.registerInput("input",b.a.AutoDetect);e.registerInput("sourceMin",b.a.Float,
!0);e.registerInput("sourceMax",b.a.Float,!0);e.registerInput("targetMin",b.a.Float,!0);e.registerInput("targetMax",b.a.Float,!0);e.registerOutput("output",b.a.BasedOnInput);e._outputs[0]._typeConnectionSource=e._inputs[0];return e}Object(f.d)(e,g);e.prototype.getClassName=function(){return"RemapBlock"};Object.defineProperty(e.prototype,"input",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"sourceMin",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"sourceMax",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"targetMin",{get:function(){return this._inputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"targetMax",{get:function(){return this._inputs[4]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});
e.prototype._buildBlock=function(b){g.prototype._buildBlock.call(this,b);var e=this._outputs[0],d=this.sourceMin.isConnected?this.sourceMin.associatedVariableName:this._writeFloat(this.sourceRange.x),m=this.sourceMax.isConnected?this.sourceMax.associatedVariableName:this._writeFloat(this.sourceRange.y),n=this.targetMin.isConnected?this.targetMin.associatedVariableName:this._writeFloat(this.targetRange.x),c=this.targetMax.isConnected?this.targetMax.associatedVariableName:this._writeFloat(this.targetRange.y);
b.compilationString+=this._declareOutput(e,b)+(" = "+n+" + ("+this._inputs[0].associatedVariableName+" - "+d+") * ("+c+" - "+n+") / ("+m+" - "+d+");\r\n");return this};e.prototype._dumpPropertiesCode=function(){var b=this._codeVariableName+".sourceRange = new BABYLON.Vector2("+this.sourceRange.x+", "+this.sourceRange.y+");\r\n";return b+=this._codeVariableName+".targetRange = new BABYLON.Vector2("+this.targetRange.x+", "+this.targetRange.y+");\r\n"};e.prototype.serialize=function(){var b=g.prototype.serialize.call(this);
b.sourceRange=this.sourceRange.asArray();b.targetRange=this.targetRange.asArray();return b};e.prototype._deserialize=function(b,e,m){g.prototype._deserialize.call(this,b,e,m);this.sourceRange=d.d.FromArray(b.sourceRange);this.targetRange=d.d.FromArray(b.targetRange)};Object(f.c)([Object(p.b)("From",p.a.Vector2)],e.prototype,"sourceRange",void 0);Object(f.c)([Object(p.b)("To",p.a.Vector2)],e.prototype,"targetRange",void 0);return e}(k.a);h.a.RegisteredTypes["BABYLON.RemapBlock"]=m},"62to":function(k,
h,e){e.d(h,"a",function(){return d});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");e=e("WHS4");var d=function(e){function d(g){g=e.call(this,g,l.a.Neutral)||this;g.registerInput("xyz ",b.a.Vector3,!0);g.registerInput("xy ",b.a.Vector2,!0);g.registerInput("x",b.a.Float,!0);g.registerInput("y",b.a.Float,!0);g.registerInput("z",b.a.Float,!0);g.registerInput("w",b.a.Float,!0);g.registerOutput("xyzw",b.a.Vector4);g.registerOutput("xyz",b.a.Vector3);g.registerOutput("xy",b.a.Vector2);return g}
Object(f.d)(d,e);d.prototype.getClassName=function(){return"VectorMergerBlock"};Object.defineProperty(d.prototype,"xyzIn",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xyIn",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"x",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this._inputs[3]},enumerable:!1,
configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this._inputs[4]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"w",{get:function(){return this._inputs[5]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xyzw",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xyzOut",{get:function(){return this._outputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"xyOut",{get:function(){return this._outputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xy",{get:function(){return this.xyOut},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xyz",{get:function(){return this.xyzOut},enumerable:!1,configurable:!0});d.prototype._buildBlock=function(b){e.prototype._buildBlock.call(this,b);var g=this.x,d=this.y,m=this.z,f=this.w,h=this.xyIn,n=this.xyzIn,c=this._outputs[0],a=this._outputs[1],r=this._outputs[2];n.isConnected?
c.hasEndpoints?b.compilationString+=this._declareOutput(c,b)+(" = vec4("+n.associatedVariableName+", "+(f.isConnected?this._writeVariable(f):"0.0")+");\r\n"):a.hasEndpoints?b.compilationString+=this._declareOutput(a,b)+(" = "+n.associatedVariableName+";\r\n"):r.hasEndpoints&&(b.compilationString+=this._declareOutput(r,b)+(" = "+n.associatedVariableName+".xy;\r\n")):h.isConnected?c.hasEndpoints?b.compilationString+=this._declareOutput(c,b)+(" = vec4("+h.associatedVariableName+", "+(m.isConnected?this._writeVariable(m):
"0.0")+", "+(f.isConnected?this._writeVariable(f):"0.0")+");\r\n"):a.hasEndpoints?b.compilationString+=this._declareOutput(a,b)+(" = vec3("+h.associatedVariableName+", "+(m.isConnected?this._writeVariable(m):"0.0")+");\r\n"):r.hasEndpoints&&(b.compilationString+=this._declareOutput(r,b)+(" = "+h.associatedVariableName+";\r\n")):c.hasEndpoints?b.compilationString+=this._declareOutput(c,b)+(" = vec4("+(g.isConnected?this._writeVariable(g):"0.0")+", "+(d.isConnected?this._writeVariable(d):"0.0")+", "+
(m.isConnected?this._writeVariable(m):"0.0")+", "+(f.isConnected?this._writeVariable(f):"0.0")+");\r\n"):a.hasEndpoints?b.compilationString+=this._declareOutput(a,b)+(" = vec3("+(g.isConnected?this._writeVariable(g):"0.0")+", "+(d.isConnected?this._writeVariable(d):"0.0")+", "+(m.isConnected?this._writeVariable(m):"0.0")+");\r\n"):r.hasEndpoints&&(b.compilationString+=this._declareOutput(r,b)+(" = vec2("+(g.isConnected?this._writeVariable(g):"0.0")+", "+(d.isConnected?this._writeVariable(d):"0.0")+
");\r\n"));return this};return d}(k.a);e.a.RegisteredTypes["BABYLON.VectorMergerBlock"]=d},"7S52":function(k,h,e){e.d(h,"a",function(){return d});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");e=e("WHS4");var d=function(e){function d(d){var g=e.call(this,d,l.a.Vertex)||this;g.complementW=1;g.complementZ=0;g.registerInput("vector",b.a.AutoDetect);g.registerInput("transform",b.a.Matrix);g.registerOutput("output",b.a.Vector4);g.registerOutput("xyz",b.a.Vector3);g._inputs[0].onConnectionObservable.add(function(b){b.ownerBlock.isInput&&
(b=b.ownerBlock,"normal"===b.name||"tangent"===b.name)&&(g.complementW=0)});return g}Object(f.d)(d,e);d.prototype.getClassName=function(){return"TransformBlock"};Object.defineProperty(d.prototype,"vector",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"xyz",{get:function(){return this._outputs[1]},enumerable:!1,configurable:!0});
Object.defineProperty(d.prototype,"transform",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});d.prototype._buildBlock=function(d){e.prototype._buildBlock.call(this,d);var g=this.vector,m=this.transform;if(g.connectedPoint){if(0===this.complementW){d._emitFunctionFromInclude("helperFunctions","//"+this.name);d.sharedData.blocksWithDefines.push(this);var f=d._getFreeVariableName(m.associatedVariableName+"_NUS");d.compilationString+="mat3 "+f+" = mat3("+m.associatedVariableName+
");\r\n";d.compilationString+="#ifdef NONUNIFORMSCALING\r\n";d.compilationString+=f+" = transposeMat3(inverseMat3("+f+"));\r\n";d.compilationString+="#endif\r\n";switch(g.connectedPoint.type){case b.a.Vector2:d.compilationString+=this._declareOutput(this.output,d)+(" = vec4("+f+" * vec3("+g.associatedVariableName+", "+this._writeFloat(this.complementZ)+"), "+this._writeFloat(this.complementW)+");\r\n");break;case b.a.Vector3:case b.a.Color3:d.compilationString+=this._declareOutput(this.output,d)+
(" = vec4("+f+" * "+g.associatedVariableName+", "+this._writeFloat(this.complementW)+");\r\n");break;default:d.compilationString+=this._declareOutput(this.output,d)+(" = vec4("+f+" * "+g.associatedVariableName+".xyz, "+this._writeFloat(this.complementW)+");\r\n")}}else switch(f=m.associatedVariableName,g.connectedPoint.type){case b.a.Vector2:d.compilationString+=this._declareOutput(this.output,d)+(" = "+f+" * vec4("+g.associatedVariableName+", "+this._writeFloat(this.complementZ)+", "+this._writeFloat(this.complementW)+
");\r\n");break;case b.a.Vector3:case b.a.Color3:d.compilationString+=this._declareOutput(this.output,d)+(" = "+f+" * vec4("+g.associatedVariableName+", "+this._writeFloat(this.complementW)+");\r\n");break;default:d.compilationString+=this._declareOutput(this.output,d)+(" = "+f+" * "+g.associatedVariableName+";\r\n")}this.xyz.hasEndpoints&&(d.compilationString+=this._declareOutput(this.xyz,d)+(" = "+this.output.associatedVariableName+".xyz;\r\n"))}return this};d.prototype.prepareDefines=function(b,
d,e,f,m){b.nonUniformScaling&&e.setValue("NONUNIFORMSCALING",!0)};d.prototype.serialize=function(){var b=e.prototype.serialize.call(this);b.complementZ=this.complementZ;b.complementW=this.complementW;return b};d.prototype._deserialize=function(b,d,f){e.prototype._deserialize.call(this,b,d,f);this.complementZ=void 0!==b.complementZ?b.complementZ:0;this.complementW=void 0!==b.complementW?b.complementW:1};d.prototype._dumpPropertiesCode=function(){var b=this._codeVariableName+".complementZ = "+this.complementZ+
";\r\n";return b+=this._codeVariableName+".complementW = "+this.complementW+";\r\n"};return d}(k.a);e.a.RegisteredTypes["BABYLON.TransformBlock"]=d},"Jf/A":function(k,h,e){e.d(h,"a",function(){return f});var f;(function(b){b[b.Material=0]="Material";b[b.PostProcess=1]="PostProcess";b[b.Particle=2]="Particle";b[b.ProceduralTexture=3]="ProceduralTexture"})(f||(f={}))},K76V:function(k,h,e){e("8g8O");e("X5mG");e("n/qM");e("Nobe");e("OGuY");var f=e("oYeq");h=e("XA4I");var b=e("f9H2"),l=e("lzMP");k=e("WHS4");
var d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"AddBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",
{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = "+this.left.associatedVariableName+" + "+this.right.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.AddBlock"]=d;d=function(d){function c(a){a=
d.call(this,a,l.a.Neutral)||this;a.registerInput("input",b.a.AutoDetect);a.registerInput("factor",b.a.Float);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ScaleBlock"};Object.defineProperty(c.prototype,"input",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"factor",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = "+this.input.associatedVariableName+" * "+this.factor.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ScaleBlock"]=d;var p=e("O6Ub");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.minimum=
0;a.maximum=1;a.registerInput("value",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ClampBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,
a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = clamp("+this.value.associatedVariableName+", "+this._writeFloat(this.minimum)+", "+this._writeFloat(this.maximum)+");\r\n");return this};c.prototype._dumpPropertiesCode=function(){var a=this._codeVariableName+".minimum = "+this.minimum+";\r\n";return a+=this._codeVariableName+".maximum = "+this.maximum+";\r\n"};c.prototype.serialize=function(){var a=d.prototype.serialize.call(this);a.minimum=this.minimum;a.maximum=this.maximum;return a};
c.prototype._deserialize=function(a,b,c){d.prototype._deserialize.call(this,a,b,c);this.minimum=a.minimum;this.maximum=a.maximum};Object(f.c)([Object(p.b)("Minimum",p.a.Float)],c.prototype,"minimum",void 0);Object(f.c)([Object(p.b)("Maximum",p.a.Float)],c.prototype,"maximum",void 0);return c}(h.a);k.a.RegisteredTypes["BABYLON.ClampBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",
b.a.Vector3);a._linkConnectionTypes(0,1);a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[0].excludedConnectionPointTypes.push(b.a.Vector2);a._inputs[1].excludedConnectionPointTypes.push(b.a.Float);a._inputs[1].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[1].excludedConnectionPointTypes.push(b.a.Vector2);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"CrossBlock"};Object.defineProperty(c.prototype,
"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = cross("+this.left.associatedVariableName+".xyz, "+this.right.associatedVariableName+
".xyz);\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.CrossBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.Float);a._linkConnectionTypes(0,1);a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[1].excludedConnectionPointTypes.push(b.a.Float);a._inputs[1].excludedConnectionPointTypes.push(b.a.Matrix);
return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"DotBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=
this._declareOutput(this._outputs[0],a)+(" = dot("+this.left.associatedVariableName+", "+this.right.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.DotBlock"]=d;e("7S52");e("0hZJ");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("input",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);
return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"NormalizeBlock"};Object.defineProperty(c.prototype,"input",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._inputs[0];a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = normalize("+b.associatedVariableName+
");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.NormalizeBlock"]=d;e("tYrF");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("rgb ",b.a.Color3,!0);a.registerInput("r",b.a.Float,!0);a.registerInput("g",b.a.Float,!0);a.registerInput("b",b.a.Float,!0);a.registerInput("a",b.a.Float,!0);a.registerOutput("rgba",b.a.Color4);a.registerOutput("rgb",b.a.Color3);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ColorMergerBlock"};Object.defineProperty(c.prototype,
"rgbIn",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"r",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"g",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"b",{get:function(){return this._inputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"a",{get:function(){return this._inputs[4]},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"rgba",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rgbOut",{get:function(){return this._outputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"rgb",{get:function(){return this.rgbOut},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this.r,c=this.g,n=this.b,e=this.a,g=this.rgbIn,f=this._outputs[0],
m=this._outputs[1];g.isConnected?f.hasEndpoints?a.compilationString+=this._declareOutput(f,a)+(" = vec4("+g.associatedVariableName+", "+(e.isConnected?this._writeVariable(e):"0.0")+");\r\n"):m.hasEndpoints&&(a.compilationString+=this._declareOutput(m,a)+(" = "+g.associatedVariableName+";\r\n")):f.hasEndpoints?a.compilationString+=this._declareOutput(f,a)+(" = vec4("+(b.isConnected?this._writeVariable(b):"0.0")+", "+(c.isConnected?this._writeVariable(c):"0.0")+", "+(n.isConnected?this._writeVariable(n):
"0.0")+", "+(e.isConnected?this._writeVariable(e):"0.0")+");\r\n"):m.hasEndpoints&&(a.compilationString+=this._declareOutput(m,a)+(" = vec3("+(b.isConnected?this._writeVariable(b):"0.0")+", "+(c.isConnected?this._writeVariable(c):"0.0")+", "+(n.isConnected?this._writeVariable(n):"0.0")+");\r\n"));return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ColorMergerBlock"]=d;e("62to");e("yYBB");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("xyzw",b.a.Vector4,!0);a.registerInput("xyz ",
b.a.Vector3,!0);a.registerInput("xy ",b.a.Vector2,!0);a.registerOutput("xyz",b.a.Vector3);a.registerOutput("xy",b.a.Vector2);a.registerOutput("x",b.a.Float);a.registerOutput("y",b.a.Float);a.registerOutput("z",b.a.Float);a.registerOutput("w",b.a.Float);a.inputsAreExclusive=!0;return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"VectorSplitterBlock"};Object.defineProperty(c.prototype,"xyzw",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"xyzIn",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"xyIn",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"xyzOut",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"xyOut",{get:function(){return this._outputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"x",{get:function(){return this._outputs[2]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"y",{get:function(){return this._outputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"z",{get:function(){return this._outputs[4]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"w",{get:function(){return this._outputs[5]},enumerable:!1,configurable:!0});c.prototype._inputRename=function(a){switch(a){case "xy ":return"xyIn";case "xyz ":return"xyzIn";default:return a}};c.prototype._outputRename=
function(a){switch(a){case "xy":return"xyOut";case "xyz":return"xyzOut";default:return a}};c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this.xyzw.isConnected?this.xyzw:this.xyzIn.isConnected?this.xyzIn:this.xyIn,c=this._outputs[0],e=this._outputs[1],n=this._outputs[2],g=this._outputs[3],f=this._outputs[4],m=this._outputs[5];c.hasEndpoints&&(a.compilationString=b===this.xyIn?a.compilationString+(this._declareOutput(c,a)+(" = vec3("+b.associatedVariableName+", 0.0);\r\n")):
a.compilationString+(this._declareOutput(c,a)+(" = "+b.associatedVariableName+".xyz;\r\n")));e.hasEndpoints&&(a.compilationString+=this._declareOutput(e,a)+(" = "+b.associatedVariableName+".xy;\r\n"));n.hasEndpoints&&(a.compilationString+=this._declareOutput(n,a)+(" = "+b.associatedVariableName+".x;\r\n"));g.hasEndpoints&&(a.compilationString+=this._declareOutput(g,a)+(" = "+b.associatedVariableName+".y;\r\n"));f.hasEndpoints&&(a.compilationString+=this._declareOutput(f,a)+(" = "+b.associatedVariableName+
".z;\r\n"));m.hasEndpoints&&(a.compilationString+=this._declareOutput(m,a)+(" = "+b.associatedVariableName+".w;\r\n"));return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.VectorSplitterBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerInput("gradient",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,
1);a._linkConnectionTypes(1,2,!0);a._inputs[2].acceptedConnectionPointTypes.push(b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"LerpBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"gradient",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = mix("+this.left.associatedVariableName+" , "+this.right.associatedVariableName+", "+this.gradient.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.LerpBlock"]=d;d=function(d){function c(a){a=d.call(this,a,
l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"DivideBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = "+this.left.associatedVariableName+" / "+this.right.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.DivideBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",
b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"SubtractBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,
"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = "+this.left.associatedVariableName+" - "+this.right.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.SubtractBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",b.a.Float);a.registerInput("edge",
b.a.Float);a.registerOutput("output",b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"StepBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"edge",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,
a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = step("+this.edge.associatedVariableName+", "+this.value.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.StepBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("input",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._outputs[0].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,
d);c.prototype.getClassName=function(){return"OneMinusBlock"};Object.defineProperty(c.prototype,"input",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = 1. - "+this.input.associatedVariableName+";\r\n");return this};return c}(h.a);
k.a.RegisteredTypes["BABYLON.OneMinusBlock"]=d;k.a.RegisteredTypes["BABYLON.OppositeBlock"]=d;var m=e("RLC9"),g=e("sDlf"),v=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("worldPosition",b.a.Vector4);a.registerInput("cameraPosition",b.a.Vector3);a.registerOutput("output",b.a.Vector3);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ViewDirectionBlock"};Object.defineProperty(c.prototype,"worldPosition",{get:function(){return this._inputs[0]},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"cameraPosition",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype.autoConfigure=function(a){this.cameraPosition.isConnected||(a=a.getInputBlockByPredicate(function(a){return a.systemValue===m.a.CameraPosition}),a||(a=new g.a("cameraPosition"),a.setAsSystemValue(m.a.CameraPosition)),a.output.connectTo(this.cameraPosition))};
c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = normalize("+this.cameraPosition.associatedVariableName+" - "+this.worldPosition.associatedVariableName+".xyz);\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ViewDirectionBlock"]=v;e("ZcXP");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("worldNormal",b.a.Vector4);a.registerInput("viewDirection",b.a.Vector3);a.registerInput("bias",
b.a.Float);a.registerInput("power",b.a.Float);a.registerOutput("fresnel",b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"FresnelBlock"};Object.defineProperty(c.prototype,"worldNormal",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"viewDirection",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"bias",{get:function(){return this._inputs[2]},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"power",{get:function(){return this._inputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"fresnel",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype.autoConfigure=function(a){if(!this.viewDirection.isConnected){var b=new v("View direction");b.output.connectTo(this.viewDirection);b.autoConfigure(a)}this.bias.isConnected||(a=new g.a("bias"),a.value=0,a.output.connectTo(this.bias));this.power.isConnected||
(a=new g.a("power"),a.value=1,a.output.connectTo(this.power))};c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a._emitFunctionFromInclude("fresnelFunction","//"+this.name,{removeIfDef:!0});a.compilationString+=this._declareOutput(this.fresnel,a)+(" = computeFresnelTerm("+this.viewDirection.associatedVariableName+".xyz, "+this.worldNormal.associatedVariableName+".xyz, "+this.bias.associatedVariableName+", "+this.power.associatedVariableName+");\r\n");return this};return c}(h.a);
k.a.RegisteredTypes["BABYLON.FresnelBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"MaxBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = max("+this.left.associatedVariableName+", "+this.right.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.MaxBlock"]=
d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"MinBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = min("+this.left.associatedVariableName+", "+this.right.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.MinBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||
this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",b.a.Float);a._linkConnectionTypes(0,1);a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[1].excludedConnectionPointTypes.push(b.a.Float);a._inputs[1].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"DistanceBlock"};Object.defineProperty(c.prototype,
"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = length("+this.left.associatedVariableName+" - "+this.right.associatedVariableName+
");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.DistanceBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",b.a.AutoDetect);a.registerOutput("output",b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"LengthBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = length("+this.value.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.LengthBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",b.a.AutoDetect);
a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"NegateBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],
a)+(" = -1.0 * "+this.value.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.NegateBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",b.a.AutoDetect);a.registerInput("power",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"PowBlock"};Object.defineProperty(c.prototype,
"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"power",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = pow("+this.value.associatedVariableName+", "+this.power.associatedVariableName+
");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.PowBlock"]=d;e("BKDp");d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("seed",b.a.Vector2);a.registerOutput("output",b.a.Float);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color4);return a}Object(f.d)(c,d);c.prototype.getClassName=
function(){return"RandomNumberBlock"};Object.defineProperty(c.prototype,"seed",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._outputs[0];a._emitFunctionFromInclude("helperFunctions","//"+this.name);a.compilationString+=this._declareOutput(b,a)+(" = getRand("+this.seed.associatedVariableName+
".xy);\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.RandomNumberBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("x",b.a.Float);a.registerInput("y",b.a.Float);a.registerOutput("output",b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ArcTan2Block"};Object.defineProperty(c.prototype,"x",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"y",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = atan("+this.x.associatedVariableName+", "+this.y.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ArcTan2Block"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||
this;a.registerInput("value",b.a.AutoDetect);a.registerInput("edge0",b.a.Float);a.registerInput("edge1",b.a.Float);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"SmoothStepBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"edge0",{get:function(){return this._inputs[1]},enumerable:!1,
configurable:!0});Object.defineProperty(c.prototype,"edge1",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = smoothstep("+this.edge0.associatedVariableName+", "+this.edge1.associatedVariableName+", "+this.value.associatedVariableName+
");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.SmoothStepBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("input",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._outputs[0].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ReciprocalBlock"};Object.defineProperty(c.prototype,"input",{get:function(){return this._inputs[0]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = 1. / "+this.input.associatedVariableName+";\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ReciprocalBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",
b.a.AutoDetect);a.registerInput("reference",b.a.AutoDetect);a.registerInput("distance",b.a.Float);a.registerInput("replacement",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);a._linkConnectionTypes(0,3);a._inputs[0].excludedConnectionPointTypes.push(b.a.Float);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[1].excludedConnectionPointTypes.push(b.a.Float);a._inputs[1].excludedConnectionPointTypes.push(b.a.Matrix);
a._inputs[3].excludedConnectionPointTypes.push(b.a.Float);a._inputs[3].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ReplaceColorBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"reference",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"distance",{get:function(){return this._inputs[2]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"replacement",{get:function(){return this._inputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._outputs[0];a.compilationString+=this._declareOutput(b,a)+";\r\n";a.compilationString+="if (length("+this.value.associatedVariableName+" - "+this.reference.associatedVariableName+
") < "+this.distance.associatedVariableName+") {\r\n";a.compilationString+=b.associatedVariableName+" = "+this.replacement.associatedVariableName+";\r\n";a.compilationString+="} else {\r\n";a.compilationString+=b.associatedVariableName+" = "+this.value.associatedVariableName+";\r\n";a.compilationString+="}\r\n";return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ReplaceColorBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("value",b.a.AutoDetect);a.registerInput("steps",
b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);a._inputs[1].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"PosterizeBlock"};Object.defineProperty(c.prototype,"value",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"steps",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = floor("+this.value.associatedVariableName+" / (1.0 / "+this.steps.associatedVariableName+")) * (1.0 / "+this.steps.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.PosterizeBlock"]=
d;var q;(function(b){b[b.SawTooth=0]="SawTooth";b[b.Square=1]="Square";b[b.Triangle=2]="Triangle"})(q||(q={}));d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.kind=q.SawTooth;a.registerInput("input",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._inputs[0].excludedConnectionPointTypes.push(b.a.Matrix);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"WaveBlock"};Object.defineProperty(c.prototype,"input",
{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._outputs[0];switch(this.kind){case q.SawTooth:a.compilationString+=this._declareOutput(b,a)+(" = "+this.input.associatedVariableName+" - floor(0.5 + "+this.input.associatedVariableName+");\r\n");break;case q.Square:a.compilationString+=
this._declareOutput(b,a)+(" = 1.0 - 2.0 * round(fract("+this.input.associatedVariableName+"));\r\n");break;case q.Triangle:a.compilationString+=this._declareOutput(b,a)+(" = 2.0 * abs(2.0 * ("+this.input.associatedVariableName+" - floor(0.5 + "+this.input.associatedVariableName+"))) - 1.0;\r\n")}return this};c.prototype.serialize=function(){var a=d.prototype.serialize.call(this);a.kind=this.kind;return a};c.prototype._deserialize=function(a,b,c){d.prototype._deserialize.call(this,a,b,c);this.kind=
a.kind};return c}(h.a);k.a.RegisteredTypes["BABYLON.WaveBlock"]=d;var t=e("Xeau"),w=e("ps+7"),u=function(){function b(b,a){this.step=b;this.color=a}Object.defineProperty(b.prototype,"step",{get:function(){return this._step},set:function(b){this._step=b},enumerable:!1,configurable:!0});Object.defineProperty(b.prototype,"color",{get:function(){return this._color},set:function(b){this._color=b},enumerable:!1,configurable:!0});return b}();d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;
a.colorSteps=[new u(0,t.a.Black()),new u(1,t.a.White())];a.onValueChangedObservable=new w.a;a.registerInput("gradient",b.a.Float);a.registerOutput("output",b.a.Color3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector2);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color4);return a}Object(f.d)(c,d);c.prototype.colorStepsUpdated=
function(){this.onValueChangedObservable.notifyObservers(this)};c.prototype.getClassName=function(){return"GradientBlock"};Object.defineProperty(c.prototype,"gradient",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._writeColorConstant=function(a){a=this.colorSteps[a];return"vec3("+a.color.r+", "+a.color.g+", "+a.color.b+")"};c.prototype._buildBlock=
function(a){d.prototype._buildBlock.call(this,a);var c=this._outputs[0];if(this.colorSteps.length&&this.gradient.connectedPoint){var e=a._getFreeVariableName("gradientTempColor"),g=a._getFreeVariableName("gradientTempPosition");a.compilationString+="vec3 "+e+" = "+this._writeColorConstant(0)+";\r\n";a.compilationString+="float "+g+";\r\n";var f=this.gradient.associatedVariableName;this.gradient.connectedPoint.type!==b.a.Float&&(f+=".x");for(var m=1;m<this.colorSteps.length;m++){var h=this.colorSteps[m],
k=this.colorSteps[m-1];a.compilationString+=g+" = clamp(("+f+" - "+a._emitFloat(k.step)+") / ("+a._emitFloat(h.step)+" -  "+a._emitFloat(k.step)+"), 0.0, 1.0) * step("+a._emitFloat(m)+", "+a._emitFloat(this.colorSteps.length-1)+");\r\n";a.compilationString+=e+" = mix("+e+", "+this._writeColorConstant(m)+", "+g+");\r\n"}a.compilationString+=this._declareOutput(c,a)+(" = "+e+";\r\n");return this}a.compilationString+=this._declareOutput(c,a)+" = vec3(0., 0., 0.);\r\n"};c.prototype.serialize=function(){var a=
d.prototype.serialize.call(this);a.colorSteps=[];for(var b=0,c=this.colorSteps;b<c.length;b++){var e=c[b];a.colorSteps.push({step:e.step,color:{r:e.color.r,g:e.color.g,b:e.color.b}})}return a};c.prototype._deserialize=function(a,b,c){d.prototype._deserialize.call(this,a,b,c);this.colorSteps=[];b=0;for(a=a.colorSteps;b<a.length;b++)c=a[b],this.colorSteps.push(new u(c.step,new t.a(c.color.r,c.color.g,c.color.b)))};c.prototype._dumpPropertiesCode=function(){for(var a="",b=0,c=this.colorSteps;b<c.length;b++){var d=
c[b];a+=this._codeVariableName+".colorSteps.push(new BABYLON.GradientBlockColorStep("+d.step+", new BABYLON.Color3("+d.color.r+", "+d.color.g+", "+d.color.b+")));\r\n"}return a};return c}(h.a);k.a.RegisteredTypes["BABYLON.GradientBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerInput("gradient",b.a.AutoDetect);a.registerOutput("output",b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=
a._inputs[0];a._linkConnectionTypes(0,1);a._linkConnectionTypes(1,2,!0);a._inputs[2].acceptedConnectionPointTypes.push(b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"NLerpBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"gradient",{get:function(){return this._inputs[2]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = normalize(mix("+this.left.associatedVariableName+" , "+this.right.associatedVariableName+", "+this.gradient.associatedVariableName+"));\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.NLerpBlock"]=d;
d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.manhattanDistance=!1;a.registerInput("seed",b.a.Vector3);a.registerInput("jitter",b.a.Float);a.registerOutput("output",b.a.Vector2);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"WorleyNoise3DBlock"};Object.defineProperty(c.prototype,"seed",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"jitter",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});
Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);if(this.seed.isConnected&&this._outputs[0].hasEndpoints)return a._emitFunction("worley3D","vec3 permute(vec3 x){\r\n    return mod((34.0 * x + 1.0) * x, 289.0);\r\n}\r\n\r\nvec3 dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance){\r\n    return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);\r\n}\r\n\r\nvec2 worley(vec3 P, float jitter, bool manhattanDistance){\r\n    float K = 0.142857142857; // 1/7\r\n    float Ko = 0.428571428571; // 1/2-K/2\r\n    float  K2 = 0.020408163265306; // 1/(7*7)\r\n    float Kz = 0.166666666667; // 1/6\r\n    float Kzo = 0.416666666667; // 1/2-1/6*2\r\n\r\n    vec3 Pi = mod(floor(P), 289.0);\r\n    vec3 Pf = fract(P) - 0.5;\r\n\r\n    vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);\r\n    vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);\r\n    vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);\r\n\r\n    vec3 p = permute(Pi.x + vec3(-1.0, 0.0, 1.0));\r\n    vec3 p1 = permute(p + Pi.y - 1.0);\r\n    vec3 p2 = permute(p + Pi.y);\r\n    vec3 p3 = permute(p + Pi.y + 1.0);\r\n\r\n    vec3 p11 = permute(p1 + Pi.z - 1.0);\r\n    vec3 p12 = permute(p1 + Pi.z);\r\n    vec3 p13 = permute(p1 + Pi.z + 1.0);\r\n\r\n    vec3 p21 = permute(p2 + Pi.z - 1.0);\r\n    vec3 p22 = permute(p2 + Pi.z);\r\n    vec3 p23 = permute(p2 + Pi.z + 1.0);\r\n\r\n    vec3 p31 = permute(p3 + Pi.z - 1.0);\r\n    vec3 p32 = permute(p3 + Pi.z);\r\n    vec3 p33 = permute(p3 + Pi.z + 1.0);\r\n\r\n    vec3 ox11 = fract(p11*K) - Ko;\r\n    vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;\r\n    vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed\r\n\r\n    vec3 ox12 = fract(p12*K) - Ko;\r\n    vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;\r\n    vec3 oz12 = floor(p12*K2)*Kz - Kzo;\r\n\r\n    vec3 ox13 = fract(p13*K) - Ko;\r\n    vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;\r\n    vec3 oz13 = floor(p13*K2)*Kz - Kzo;\r\n\r\n    vec3 ox21 = fract(p21*K) - Ko;\r\n    vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;\r\n    vec3 oz21 = floor(p21*K2)*Kz - Kzo;\r\n\r\n    vec3 ox22 = fract(p22*K) - Ko;\r\n    vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;\r\n    vec3 oz22 = floor(p22*K2)*Kz - Kzo;\r\n\r\n    vec3 ox23 = fract(p23*K) - Ko;\r\n    vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;\r\n    vec3 oz23 = floor(p23*K2)*Kz - Kzo;\r\n\r\n    vec3 ox31 = fract(p31*K) - Ko;\r\n    vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;\r\n    vec3 oz31 = floor(p31*K2)*Kz - Kzo;\r\n\r\n    vec3 ox32 = fract(p32*K) - Ko;\r\n    vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;\r\n    vec3 oz32 = floor(p32*K2)*Kz - Kzo;\r\n\r\n    vec3 ox33 = fract(p33*K) - Ko;\r\n    vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;\r\n    vec3 oz33 = floor(p33*K2)*Kz - Kzo;\r\n\r\n    vec3 dx11 = Pfx + jitter*ox11;\r\n    vec3 dy11 = Pfy.x + jitter*oy11;\r\n    vec3 dz11 = Pfz.x + jitter*oz11;\r\n\r\n    vec3 dx12 = Pfx + jitter*ox12;\r\n    vec3 dy12 = Pfy.x + jitter*oy12;\r\n    vec3 dz12 = Pfz.y + jitter*oz12;\r\n\r\n    vec3 dx13 = Pfx + jitter*ox13;\r\n    vec3 dy13 = Pfy.x + jitter*oy13;\r\n    vec3 dz13 = Pfz.z + jitter*oz13;\r\n\r\n    vec3 dx21 = Pfx + jitter*ox21;\r\n    vec3 dy21 = Pfy.y + jitter*oy21;\r\n    vec3 dz21 = Pfz.x + jitter*oz21;\r\n\r\n    vec3 dx22 = Pfx + jitter*ox22;\r\n    vec3 dy22 = Pfy.y + jitter*oy22;\r\n    vec3 dz22 = Pfz.y + jitter*oz22;\r\n\r\n    vec3 dx23 = Pfx + jitter*ox23;\r\n    vec3 dy23 = Pfy.y + jitter*oy23;\r\n    vec3 dz23 = Pfz.z + jitter*oz23;\r\n\r\n    vec3 dx31 = Pfx + jitter*ox31;\r\n    vec3 dy31 = Pfy.z + jitter*oy31;\r\n    vec3 dz31 = Pfz.x + jitter*oz31;\r\n\r\n    vec3 dx32 = Pfx + jitter*ox32;\r\n    vec3 dy32 = Pfy.z + jitter*oy32;\r\n    vec3 dz32 = Pfz.y + jitter*oz32;\r\n\r\n    vec3 dx33 = Pfx + jitter*ox33;\r\n    vec3 dy33 = Pfy.z + jitter*oy33;\r\n    vec3 dz33 = Pfz.z + jitter*oz33;\r\n\r\n    vec3 d11 = dist(dx11, dy11, dz11, manhattanDistance);\r\n    vec3 d12 =dist(dx12, dy12, dz12, manhattanDistance);\r\n    vec3 d13 = dist(dx13, dy13, dz13, manhattanDistance);\r\n    vec3 d21 = dist(dx21, dy21, dz21, manhattanDistance);\r\n    vec3 d22 = dist(dx22, dy22, dz22, manhattanDistance);\r\n    vec3 d23 = dist(dx23, dy23, dz23, manhattanDistance);\r\n    vec3 d31 = dist(dx31, dy31, dz31, manhattanDistance);\r\n    vec3 d32 = dist(dx32, dy32, dz32, manhattanDistance);\r\n    vec3 d33 = dist(dx33, dy33, dz33, manhattanDistance);\r\n\r\n    vec3 d1a = min(d11, d12);\r\n    d12 = max(d11, d12);\r\n    d11 = min(d1a, d13); // Smallest now not in d12 or d13\r\n    d13 = max(d1a, d13);\r\n    d12 = min(d12, d13); // 2nd smallest now not in d13\r\n    vec3 d2a = min(d21, d22);\r\n    d22 = max(d21, d22);\r\n    d21 = min(d2a, d23); // Smallest now not in d22 or d23\r\n    d23 = max(d2a, d23);\r\n    d22 = min(d22, d23); // 2nd smallest now not in d23\r\n    vec3 d3a = min(d31, d32);\r\n    d32 = max(d31, d32);\r\n    d31 = min(d3a, d33); // Smallest now not in d32 or d33\r\n    d33 = max(d3a, d33);\r\n    d32 = min(d32, d33); // 2nd smallest now not in d33\r\n    vec3 da = min(d11, d21);\r\n    d21 = max(d11, d21);\r\n    d11 = min(da, d31); // Smallest now in d11\r\n    d31 = max(da, d31); // 2nd smallest now not in d31\r\n    d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;\r\n    d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest\r\n    d12 = min(d12, d21); // 2nd smallest now not in d21\r\n    d12 = min(d12, d22); // nor in d22\r\n    d12 = min(d12, d31); // nor in d31\r\n    d12 = min(d12, d32); // nor in d32\r\n    d11.yz = min(d11.yz,d12.xy); // nor in d12.yz\r\n    d11.y = min(d11.y,d12.z); // Only two more to go\r\n    d11.y = min(d11.y,d11.z); // Done! (Phew!)\r\n    return sqrt(d11.xy); // F1, F2\r\n}\r\n\r\n",
"// Worley3D"),a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = worley("+this.seed.associatedVariableName+", "+this.jitter.associatedVariableName+", "+this.manhattanDistance+");\r\n"),this};c.prototype._dumpPropertiesCode=function(){return this._codeVariableName+".manhattanDistance = "+this.manhattanDistance+";\r\n"};c.prototype.serialize=function(){var a=d.prototype.serialize.call(this);a.manhattanDistance=this.manhattanDistance;return a};c.prototype._deserialize=function(a,b,c){d.prototype._deserialize.call(this,
a,b,c);this.manhattanDistance=a.manhattanDistance};Object(f.c)([Object(p.b)("Use Manhattan Distance",p.a.Boolean,"PROPERTIES",{notifiers:{update:!1}})],c.prototype,"manhattanDistance",void 0);return c}(h.a);k.a.RegisteredTypes["BABYLON.WorleyNoise3DBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("seed",b.a.Vector3);a.registerOutput("output",b.a.Float);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"SimplexPerlin3DBlock"};Object.defineProperty(c.prototype,
"seed",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);if(this.seed.isConnected&&this._outputs[0].hasEndpoints)return a._emitFunction("SimplexPerlin3D","const float SKEWFACTOR = 1.0/3.0;\r\nconst float UNSKEWFACTOR = 1.0/6.0;\r\nconst float SIMPLEX_CORNER_POS = 0.5;\r\nconst float SIMPLEX_TETRAHADRON_HEIGHT = 0.70710678118654752440084436210485;\r\nfloat SimplexPerlin3D( vec3 P ){\r\n    P *= SIMPLEX_TETRAHADRON_HEIGHT;\r\n    vec3 Pi = floor( P + dot( P, vec3( SKEWFACTOR) ) );    vec3 x0 = P - Pi + dot(Pi, vec3( UNSKEWFACTOR ) );\r\n    vec3 g = step(x0.yzx, x0.xyz);\r\n    vec3 l = 1.0 - g;\r\n    vec3 Pi_1 = min( g.xyz, l.zxy );\r\n    vec3 Pi_2 = max( g.xyz, l.zxy );\r\n    vec3 x1 = x0 - Pi_1 + UNSKEWFACTOR;\r\n    vec3 x2 = x0 - Pi_2 + SKEWFACTOR;\r\n    vec3 x3 = x0 - SIMPLEX_CORNER_POS;\r\n    vec4 v1234_x = vec4( x0.x, x1.x, x2.x, x3.x );\r\n    vec4 v1234_y = vec4( x0.y, x1.y, x2.y, x3.y );\r\n    vec4 v1234_z = vec4( x0.z, x1.z, x2.z, x3.z );\r\n    Pi.xyz = Pi.xyz - floor(Pi.xyz * ( 1.0 / 69.0 )) * 69.0;\r\n    vec3 Pi_inc1 = step( Pi, vec3( 69.0 - 1.5 ) ) * ( Pi + 1.0 );\r\n    vec4 Pt = vec4( Pi.xy, Pi_inc1.xy ) + vec2( 50.0, 161.0 ).xyxy;\r\n    Pt *= Pt;\r\n    vec4 V1xy_V2xy = mix( Pt.xyxy, Pt.zwzw, vec4( Pi_1.xy, Pi_2.xy ) );\r\n    Pt = vec4( Pt.x, V1xy_V2xy.xz, Pt.z ) * vec4( Pt.y, V1xy_V2xy.yw, Pt.w );\r\n    const vec3 SOMELARGEFLOATS = vec3( 635.298681, 682.357502, 668.926525 );\r\n    const vec3 ZINC = vec3( 48.500388, 65.294118, 63.934599 );\r\n    vec3 lowz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi.zzz * ZINC.xyz ) );\r\n    vec3 highz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi_inc1.zzz * ZINC.xyz ) );\r\n    Pi_1 = ( Pi_1.z < 0.5 ) ? lowz_mods : highz_mods;\r\n    Pi_2 = ( Pi_2.z < 0.5 ) ? lowz_mods : highz_mods;\r\n    vec4 hash_0 = fract( Pt * vec4( lowz_mods.x, Pi_1.x, Pi_2.x, highz_mods.x ) ) - 0.49999;\r\n    vec4 hash_1 = fract( Pt * vec4( lowz_mods.y, Pi_1.y, Pi_2.y, highz_mods.y ) ) - 0.49999;\r\n    vec4 hash_2 = fract( Pt * vec4( lowz_mods.z, Pi_1.z, Pi_2.z, highz_mods.z ) ) - 0.49999;\r\n    vec4 grad_results = inversesqrt( hash_0 * hash_0 + hash_1 * hash_1 + hash_2 * hash_2 ) * ( hash_0 * v1234_x + hash_1 * v1234_y + hash_2 * v1234_z );\r\n    const float FINAL_NORMALIZATION = 37.837227241611314102871574478976;\r\n    vec4 kernel_weights = v1234_x * v1234_x + v1234_y * v1234_y + v1234_z * v1234_z;\r\n    kernel_weights = max(0.5 - kernel_weights, 0.0);\r\n    kernel_weights = kernel_weights*kernel_weights*kernel_weights;\r\n    return dot( kernel_weights, grad_results ) * FINAL_NORMALIZATION;\r\n}\r\n",
"// SimplexPerlin3D"),a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = SimplexPerlin3D("+this.seed.associatedVariableName+");\r\n"),this};return c}(h.a);k.a.RegisteredTypes["BABYLON.SimplexPerlin3DBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("normalMap0",b.a.Vector3);a.registerInput("normalMap1",b.a.Vector3);a.registerOutput("output",b.a.Vector3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color4);
a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Vector4);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"NormalBlendBlock"};Object.defineProperty(c.prototype,"normalMap0",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"normalMap1",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._outputs[0],c=this._inputs[0],e=this._inputs[1],g=a._getFreeVariableName("stepR"),f=a._getFreeVariableName("stepG");a.compilationString+="float "+g+" = step(0.5, "+c.associatedVariableName+".r);\r\n";a.compilationString+="float "+f+" = step(0.5, "+c.associatedVariableName+
".g);\r\n";a.compilationString+=this._declareOutput(b,a)+";\r\n";a.compilationString+=b.associatedVariableName+".r = (1.0 - "+g+") * "+c.associatedVariableName+".r * "+e.associatedVariableName+".r * 2.0 + "+g+" * (1.0 - "+c.associatedVariableName+".r) * (1.0 - "+e.associatedVariableName+".r) * 2.0;\r\n";a.compilationString+=b.associatedVariableName+".g = (1.0 - "+f+") * "+c.associatedVariableName+".g * "+e.associatedVariableName+".g * 2.0 + "+f+" * (1.0 - "+c.associatedVariableName+".g) * (1.0 - "+
e.associatedVariableName+".g) * 2.0;\r\n";a.compilationString+=b.associatedVariableName+".b = "+c.associatedVariableName+".b * "+e.associatedVariableName+".b;\r\n";return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.NormalBlendBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("input",b.a.Vector2);a.registerInput("angle",b.a.Float);a.registerOutput("output",b.a.Vector2);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"Rotate2dBlock"};
Object.defineProperty(c.prototype,"input",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"angle",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype.autoConfigure=function(a){this.angle.isConnected||(a=new g.a("angle"),a.value=0,a.output.connectTo(this.angle))};c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,
a);var b=this.angle,c=this.input;a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = vec2(cos("+b.associatedVariableName+") * "+c.associatedVariableName+".x - sin("+b.associatedVariableName+") * "+c.associatedVariableName+".y, sin("+b.associatedVariableName+") * "+c.associatedVariableName+".x + cos("+b.associatedVariableName+") * "+c.associatedVariableName+".y);\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.Rotate2dBlock"]=d;d=function(d){function c(a){a=d.call(this,
a,l.a.Neutral)||this;a.registerInput("incident",b.a.Vector3);a.registerInput("normal",b.a.Vector3);a.registerOutput("output",b.a.Vector3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color4);return a}
Object(f.d)(c,d);c.prototype.getClassName=function(){return"ReflectBlock"};Object.defineProperty(c.prototype,"incident",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"normal",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=
this._declareOutput(this._outputs[0],a)+(" = reflect("+this.incident.associatedVariableName+".xyz, "+this.normal.associatedVariableName+".xyz);\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ReflectBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("incident",b.a.Vector3);a.registerInput("normal",b.a.Vector3);a.registerInput("ior",b.a.Float);a.registerOutput("output",b.a.Vector3);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color3);
a._inputs[0].acceptedConnectionPointTypes.push(b.a.Color4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Vector4);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color3);a._inputs[1].acceptedConnectionPointTypes.push(b.a.Color4);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"RefractBlock"};Object.defineProperty(c.prototype,"incident",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"normal",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"ior",{get:function(){return this._inputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = refract("+this.incident.associatedVariableName+".xyz, "+this.normal.associatedVariableName+".xyz, "+this.ior.associatedVariableName+
");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.RefractBlock"]=d;d=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("color",b.a.Color3);a.registerInput("level",b.a.Float);a.registerOutput("output",b.a.Color3);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"DesaturateBlock"};Object.defineProperty(c.prototype,"color",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"level",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);var b=this._outputs[0],c=this.color.associatedVariableName,e=a._getFreeVariableName("colorMin"),g=a._getFreeVariableName("colorMax"),f=a._getFreeVariableName("colorMerge");a.compilationString+="float "+e+" = min(min("+c+".x, "+c+".y), "+c+".z);\r\n";a.compilationString+="float "+
g+" = max(max("+c+".x, "+c+".y), "+c+".z);\r\n";a.compilationString+="float "+f+" = 0.5 * ("+e+" + "+g+");\r\n";a.compilationString+=this._declareOutput(b,a)+(" = mix("+c+", vec3("+f+", "+f+", "+f+"), "+this.level.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.DesaturateBlock"]=d;e("3KQ5");e("5syJ");e=function(d){function c(a){a=d.call(this,a,l.a.Neutral)||this;a.registerInput("left",b.a.AutoDetect);a.registerInput("right",b.a.AutoDetect);a.registerOutput("output",
b.a.BasedOnInput);a._outputs[0]._typeConnectionSource=a._inputs[0];a._linkConnectionTypes(0,1);return a}Object(f.d)(c,d);c.prototype.getClassName=function(){return"ModBlock"};Object.defineProperty(c.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});
c.prototype._buildBlock=function(a){d.prototype._buildBlock.call(this,a);a.compilationString+=this._declareOutput(this._outputs[0],a)+(" = mod("+this.left.associatedVariableName+", "+this.right.associatedVariableName+");\r\n");return this};return c}(h.a);k.a.RegisteredTypes["BABYLON.ModBlock"]=e},OGuY:function(k,h,e){e.d(h,"a",function(){return d});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");e=e("WHS4");var d=function(d){function e(e){e=d.call(this,e,l.a.Neutral)||this;e.registerInput("left",
b.a.AutoDetect);e.registerInput("right",b.a.AutoDetect);e.registerOutput("output",b.a.BasedOnInput);e._outputs[0]._typeConnectionSource=e._inputs[0];e._linkConnectionTypes(0,1);return e}Object(f.d)(e,d);e.prototype.getClassName=function(){return"MultiplyBlock"};Object.defineProperty(e.prototype,"left",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"right",{get:function(){return this._inputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,
"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});e.prototype._buildBlock=function(b){d.prototype._buildBlock.call(this,b);b.compilationString+=this._declareOutput(this._outputs[0],b)+(" = "+this.left.associatedVariableName+" * "+this.right.associatedVariableName+";\r\n");return this};return e}(k.a);e.a.RegisteredTypes["BABYLON.MultiplyBlock"]=d},RLC9:function(k,h,e){e.d(h,"a",function(){return f});var f;(function(b){b[b.World=1]="World";b[b.View=2]="View";b[b.Projection=
3]="Projection";b[b.ViewProjection=4]="ViewProjection";b[b.WorldView=5]="WorldView";b[b.WorldViewProjection=6]="WorldViewProjection";b[b.CameraPosition=7]="CameraPosition";b[b.FogColor=8]="FogColor";b[b.DeltaTime=9]="DeltaTime"})(f||(f={}))},f9H2:function(k,h,e){e.d(h,"a",function(){return f});var f;(function(b){b[b.Float=1]="Float";b[b.Int=2]="Int";b[b.Vector2=4]="Vector2";b[b.Vector3=8]="Vector3";b[b.Vector4=16]="Vector4";b[b.Color3=32]="Color3";b[b.Color4=64]="Color4";b[b.Matrix=128]="Matrix";
b[b.Object=256]="Object";b[b.AutoDetect=1024]="AutoDetect";b[b.BasedOnInput=2048]="BasedOnInput"})(f||(f={}))},g6DK:function(k,h,e){e("lzMP");e("f9H2");e("lSHt");e("RLC9");e("Jf/A")},lSHt:function(k,h,e){e.d(h,"a",function(){return f});var f;(function(b){b[b.Uniform=0]="Uniform";b[b.Attribute=1]="Attribute";b[b.Varying=2]="Varying";b[b.Undefined=3]="Undefined"})(f||(f={}))},lzMP:function(k,h,e){e.d(h,"a",function(){return f});var f;(function(b){b[b.Vertex=1]="Vertex";b[b.Fragment=2]="Fragment";b[b.Neutral=
4]="Neutral";b[b.VertexAndFragment=3]="VertexAndFragment"})(f||(f={}))},tYrF:function(k,h,e){e.d(h,"b",function(){return d});e.d(h,"a",function(){return p});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");e=e("WHS4");var d;(function(b){b[b.Cos=0]="Cos";b[b.Sin=1]="Sin";b[b.Abs=2]="Abs";b[b.Exp=3]="Exp";b[b.Exp2=4]="Exp2";b[b.Round=5]="Round";b[b.Floor=6]="Floor";b[b.Ceiling=7]="Ceiling";b[b.Sqrt=8]="Sqrt";b[b.Log=9]="Log";b[b.Tan=10]="Tan";b[b.ArcTan=11]="ArcTan";b[b.ArcCos=12]="ArcCos";b[b.ArcSin=
13]="ArcSin";b[b.Fract=14]="Fract";b[b.Sign=15]="Sign";b[b.Radians=16]="Radians";b[b.Degrees=17]="Degrees"})(d||(d={}));var p=function(e){function g(f){f=e.call(this,f,l.a.Neutral)||this;f.operation=d.Cos;f.registerInput("input",b.a.AutoDetect);f.registerOutput("output",b.a.BasedOnInput);f._outputs[0]._typeConnectionSource=f._inputs[0];return f}Object(f.d)(g,e);g.prototype.getClassName=function(){return"TrigonometryBlock"};Object.defineProperty(g.prototype,"input",{get:function(){return this._inputs[0]},
enumerable:!1,configurable:!0});Object.defineProperty(g.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});g.prototype._buildBlock=function(b){e.prototype._buildBlock.call(this,b);var f=this._outputs[0],g="";switch(this.operation){case d.Cos:g="cos";break;case d.Sin:g="sin";break;case d.Abs:g="abs";break;case d.Exp:g="exp";break;case d.Exp2:g="exp2";break;case d.Round:g="round";break;case d.Floor:g="floor";break;case d.Ceiling:g="ceil";break;case d.Sqrt:g=
"sqrt";break;case d.Log:g="log";break;case d.Tan:g="tan";break;case d.ArcTan:g="atan";break;case d.ArcCos:g="acos";break;case d.ArcSin:g="asin";break;case d.Fract:g="fract";break;case d.Sign:g="sign";break;case d.Radians:g="radians";break;case d.Degrees:g="degrees"}b.compilationString+=this._declareOutput(f,b)+(" = "+g+"("+this.input.associatedVariableName+");\r\n");return this};g.prototype.serialize=function(){var b=e.prototype.serialize.call(this);b.operation=this.operation;return b};g.prototype._deserialize=
function(b,d,g){e.prototype._deserialize.call(this,b,d,g);this.operation=b.operation};g.prototype._dumpPropertiesCode=function(){return this._codeVariableName+".operation = BABYLON.TrigonometryBlockOperations."+d[this.operation]+";\r\n"};return g}(k.a);e.a.RegisteredTypes["BABYLON.TrigonometryBlock"]=p},yYBB:function(k,h,e){e.d(h,"a",function(){return d});var f=e("oYeq");k=e("XA4I");var b=e("f9H2"),l=e("lzMP");e=e("WHS4");var d=function(d){function e(e){e=d.call(this,e,l.a.Neutral)||this;e.registerInput("rgba",
b.a.Color4,!0);e.registerInput("rgb ",b.a.Color3,!0);e.registerOutput("rgb",b.a.Color3);e.registerOutput("r",b.a.Float);e.registerOutput("g",b.a.Float);e.registerOutput("b",b.a.Float);e.registerOutput("a",b.a.Float);e.inputsAreExclusive=!0;return e}Object(f.d)(e,d);e.prototype.getClassName=function(){return"ColorSplitterBlock"};Object.defineProperty(e.prototype,"rgba",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"rgbIn",{get:function(){return this._inputs[1]},
enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"rgbOut",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"r",{get:function(){return this._outputs[1]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"g",{get:function(){return this._outputs[2]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"b",{get:function(){return this._outputs[3]},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,
"a",{get:function(){return this._outputs[4]},enumerable:!1,configurable:!0});e.prototype._inputRename=function(b){return"rgb "===b?"rgbIn":b};e.prototype._outputRename=function(b){return"rgb"===b?"rgbOut":b};e.prototype._buildBlock=function(b){d.prototype._buildBlock.call(this,b);var e=this.rgba.isConnected?this.rgba:this.rgbIn;if(e.isConnected){var f=this._outputs[0],g=this._outputs[1],h=this._outputs[2],k=this._outputs[3],l=this._outputs[4];f.hasEndpoints&&(b.compilationString+=this._declareOutput(f,
b)+(" = "+e.associatedVariableName+".rgb;\r\n"));g.hasEndpoints&&(b.compilationString+=this._declareOutput(g,b)+(" = "+e.associatedVariableName+".r;\r\n"));h.hasEndpoints&&(b.compilationString+=this._declareOutput(h,b)+(" = "+e.associatedVariableName+".g;\r\n"));k.hasEndpoints&&(b.compilationString+=this._declareOutput(k,b)+(" = "+e.associatedVariableName+".b;\r\n"));l.hasEndpoints&&(b.compilationString+=this._declareOutput(l,b)+(" = "+e.associatedVariableName+".a;\r\n"));return this}};return e}(k.a);
e.a.RegisteredTypes["BABYLON.ColorSplitterBlock"]=d}}]);
